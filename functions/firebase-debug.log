[debug] [2024-11-12T01:41:56.804Z] ----------------------------------------------------------------------
[debug] [2024-11-12T01:41:56.806Z] Command:       /Users/jyassien/.nvm/versions/node/v18.20.4/bin/node /Users/jyassien/.nvm/versions/node/v18.20.4/bin/firebase emulators:start --only functions
[debug] [2024-11-12T01:41:56.806Z] CLI Version:   13.22.0
[debug] [2024-11-12T01:41:56.807Z] Platform:      darwin
[debug] [2024-11-12T01:41:56.807Z] Node Version:  v18.20.4
[debug] [2024-11-12T01:41:56.811Z] Time:          Mon Nov 11 2024 18:41:56 GMT-0700 (Mountain Standard Time)
[debug] [2024-11-12T01:41:56.811Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-11-12T01:41:56.902Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-11-12T01:41:56.902Z] > authorizing via signed-in user (jjyassien@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2024-11-12T01:41:57.062Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-11-12T01:41:57.062Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2024-11-12T01:41:57.067Z] [hub] writing locator at /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/hub-agrilens-web.json
[debug] [2024-11-12T01:41:57.217Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-11-12T01:41:57.218Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-11-12T01:41:57.218Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-11-12T01:41:57.218Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2024-11-12T01:41:57.220Z] defaultcredentials: writing to file /Users/jyassien/.config/firebase/jjyassien_gmail_com_application_default_credentials.json
[debug] [2024-11-12T01:41:57.227Z] Setting GAC to /Users/jyassien/.config/firebase/jjyassien_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/jyassien/.config/firebase/jjyassien_gmail_com_application_default_credentials.json"}}
[debug] [2024-11-12T01:41:57.228Z] Checked if tokens are valid: true, expires at: 1731377414426
[debug] [2024-11-12T01:41:57.228Z] Checked if tokens are valid: true, expires at: 1731377414426
[debug] [2024-11-12T01:41:57.228Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/agrilens-web/adminSdkConfig [none]
[debug] [2024-11-12T01:41:57.463Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/agrilens-web/adminSdkConfig 200
[debug] [2024-11-12T01:41:57.464Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/agrilens-web/adminSdkConfig {"projectId":"agrilens-web","storageBucket":"agrilens-web.firebasestorage.app"}
[debug] [2024-11-12T01:41:57.495Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-11-12T01:41:57.495Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2024-11-12T01:41:57.495Z] Starting Emulator UI with command {"binary":"node","args":["/Users/jyassien/.cache/firebase/emulators/ui-v1.14.0/server/server.mjs"],"optionalArgs":[],"joinArgs":false,"shell":false,"port":4000} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/jyassien/.cache/firebase/emulators/ui-v1.14.0/server/server.mjs\"],\"optionalArgs\":[],\"joinArgs\":false,\"shell\":false,\"port\":4000}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2024-11-12T01:41:57.607Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2024-11-12T01:41:57.607Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\" for Cloud Functions..."}}
[debug] [2024-11-12T01:41:57.709Z] Validating nodejs source
[debug] [2024-11-12T01:41:58.384Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:41:58.385Z] Building nodejs source
[debug] [2024-11-12T01:41:58.385Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:41:58.388Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:41:58.393Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8778

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T01:41:58.893Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:41:58.905Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED ::1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2024-11-12T01:52:58.075Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers"}}
[debug] [2024-11-12T01:52:59.110Z] Validating nodejs source
[debug] [2024-11-12T01:52:59.950Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:52:59.951Z] Building nodejs source
[debug] [2024-11-12T01:52:59.951Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:52:59.961Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:52:59.964Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8829

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T01:53:00.590Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:53:09.972Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers"}}
[debug] [2024-11-12T01:53:10.975Z] Validating nodejs source
[debug] [2024-11-12T01:53:11.594Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:53:11.594Z] Building nodejs source
[debug] [2024-11-12T01:53:11.594Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:53:11.596Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:53:11.597Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8865

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T01:53:12.144Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:53:16.162Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers"}}
[debug] [2024-11-12T01:53:17.165Z] Validating nodejs source
[debug] [2024-11-12T01:53:17.784Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:53:17.784Z] Building nodejs source
[debug] [2024-11-12T01:53:17.784Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:53:17.786Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:53:17.787Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8113

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T01:53:18.271Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:53:18.290Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers"}}
[debug] [2024-11-12T01:53:19.292Z] Validating nodejs source
[debug] [2024-11-12T01:53:19.800Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:53:19.800Z] Building nodejs source
[debug] [2024-11-12T01:53:19.800Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:53:19.801Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:53:19.802Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8329

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T01:53:20.123Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:53:22.124Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers"}}
[debug] [2024-11-12T01:53:23.126Z] Validating nodejs source
[debug] [2024-11-12T01:53:24.193Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:53:24.193Z] Building nodejs source
[debug] [2024-11-12T01:53:24.193Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:53:24.195Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:53:24.196Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T01:53:24.198Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers"}}
[info] Serving at port 8741

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T01:53:24.644Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:53:25.199Z] Validating nodejs source
[debug] [2024-11-12T01:53:25.728Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:53:25.728Z] Building nodejs source
[debug] [2024-11-12T01:53:25.729Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:53:25.730Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:53:25.730Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8339

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T01:53:26.072Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:53:42.796Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:53:42.895Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:53:43.897Z] Validating nodejs source
[debug] [2024-11-12T01:53:44.648Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:53:44.648Z] Building nodejs source
[debug] [2024-11-12T01:53:44.648Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:53:44.650Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:53:44.651Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8881

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T01:53:45.497Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:54:40.627Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:54:41.638Z] Validating nodejs source
[debug] [2024-11-12T01:54:42.251Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:54:42.251Z] Building nodejs source
[debug] [2024-11-12T01:54:42.251Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:54:42.253Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:54:42.255Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8900

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T01:54:42.798Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:54:43.800Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:54:44.806Z] Validating nodejs source
[debug] [2024-11-12T01:54:45.358Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:54:45.359Z] Building nodejs source
[debug] [2024-11-12T01:54:45.359Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:54:45.360Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:54:45.362Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T01:54:45.364Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[info] Serving at port 8935

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:14
});
^

SyntaxError: Unexpected token '}'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T01:54:45.630Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:54:46.366Z] Validating nodejs source
[debug] [2024-11-12T01:54:46.863Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:54:46.864Z] Building nodejs source
[debug] [2024-11-12T01:54:46.864Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:54:46.864Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:54:46.865Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T01:54:46.866Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[info] Serving at port 8080

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:14
});
^

SyntaxError: Unexpected token '}'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T01:54:47.135Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:54:47.868Z] Validating nodejs source
[debug] [2024-11-12T01:54:48.524Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:54:48.524Z] Building nodejs source
[debug] [2024-11-12T01:54:48.524Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:54:48.525Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:54:48.526Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8979

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:14
});
^

SyntaxError: Unexpected token '}'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T01:54:48.762Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:54:58.635Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:54:59.637Z] Validating nodejs source
[debug] [2024-11-12T01:55:00.277Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:55:00.278Z] Building nodejs source
[debug] [2024-11-12T01:55:00.278Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:55:00.279Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:55:00.280Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T01:55:00.281Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[info] Serving at port 8174

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:14
});
^

SyntaxError: Unexpected token '}'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T01:55:00.610Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:55:01.285Z] Validating nodejs source
[debug] [2024-11-12T01:55:01.797Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:55:01.797Z] Building nodejs source
[debug] [2024-11-12T01:55:01.797Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:55:01.798Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:55:01.799Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8153

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:14
});
^

SyntaxError: Unexpected token '}'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T01:55:02.080Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:55:04.324Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:55:05.232Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:55:06.235Z] Validating nodejs source
[debug] [2024-11-12T01:55:06.864Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:55:06.864Z] Building nodejs source
[debug] [2024-11-12T01:55:06.864Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:55:06.866Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:55:06.867Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8093

[debug] [2024-11-12T01:55:07.353Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[info] ✔  functions[us-central1-app]: http function initialized (http://127.0.0.1:5001/agrilens-web/us-central1/app). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/agrilens-web/us-central1/app)."}}
[debug] [2024-11-12T01:55:15.357Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:55:16.360Z] Validating nodejs source
[debug] [2024-11-12T01:55:16.945Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:55:16.945Z] Building nodejs source
[debug] [2024-11-12T01:55:16.945Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:55:16.950Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:55:16.951Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8321

[debug] [2024-11-12T01:55:17.504Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T01:57:26.940Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:57:27.943Z] Validating nodejs source
[debug] [2024-11-12T01:57:28.576Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:57:28.576Z] Building nodejs source
[debug] [2024-11-12T01:57:28.576Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:57:28.578Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:57:28.579Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8779

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:2
import { getStorage } from "firebase/storage";
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T01:57:28.974Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Cannot use import statement outside a module
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:57:31.910Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:57:32.912Z] Validating nodejs source
[debug] [2024-11-12T01:57:33.439Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:57:33.439Z] Building nodejs source
[debug] [2024-11-12T01:57:33.439Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:57:33.441Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:57:33.442Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8683

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:2
const { getStorage } from "firebase/storage";
      ^^^^^^^^^^^^^^

SyntaxError: Missing initializer in destructuring declaration
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T01:57:33.699Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in destructuring declaration
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:57:37.880Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:57:38.884Z] Validating nodejs source
[debug] [2024-11-12T01:57:39.433Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:57:39.434Z] Building nodejs source
[debug] [2024-11-12T01:57:39.434Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:57:39.436Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:57:39.437Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8771

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:2
const { getStorage } = require "firebase/storage";
                               ^^^^^^^^^^^^^^^^^^

SyntaxError: Unexpected string
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T01:57:39.710Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected string
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:57:40.041Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:57:41.046Z] Validating nodejs source
[debug] [2024-11-12T01:57:41.563Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:57:41.563Z] Building nodejs source
[debug] [2024-11-12T01:57:41.564Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:57:41.565Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:57:41.565Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T01:57:41.566Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[info] Serving at port 8156

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:2
const { getStorage } = require("firebase/storage";
                               ^^^^^^^^^^^^^^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T01:57:41.832Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:57:42.567Z] Validating nodejs source
[debug] [2024-11-12T01:57:43.491Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:57:43.492Z] Building nodejs source
[debug] [2024-11-12T01:57:43.492Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:57:43.496Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:57:43.498Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T01:57:43.499Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[info] Serving at port 8364

[error] Error: Cannot find module 'firebase/storage'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:2:24)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T01:57:44.227Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module 'firebase/storage'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:57:44.501Z] Validating nodejs source
[debug] [2024-11-12T01:57:45.316Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:57:45.317Z] Building nodejs source
[debug] [2024-11-12T01:57:45.317Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:57:45.318Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:57:45.319Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8540

[error] Error: Cannot find module 'firebase/storage'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:2:24)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T01:57:45.798Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module 'firebase/storage'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:57:53.817Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:57:54.819Z] Validating nodejs source
[debug] [2024-11-12T01:57:55.403Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:57:55.403Z] Building nodejs source
[debug] [2024-11-12T01:57:55.403Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:57:55.407Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:57:55.408Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8803

[debug] [2024-11-12T01:57:55.893Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T01:58:05.100Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:58:06.104Z] Validating nodejs source
[debug] [2024-11-12T01:58:06.853Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:58:06.854Z] Building nodejs source
[debug] [2024-11-12T01:58:06.854Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:58:06.856Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:58:06.857Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8362

[debug] [2024-11-12T01:58:07.902Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T01:59:39.903Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:59:40.908Z] Validating nodejs source
[debug] [2024-11-12T01:59:41.621Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:59:41.622Z] Building nodejs source
[debug] [2024-11-12T01:59:41.622Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:59:41.625Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:59:41.626Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8220

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:2
import "firebase/compat/storage";
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:23)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T01:59:42.211Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Cannot use import statement outside a module
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T01:59:45.576Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T01:59:46.580Z] Validating nodejs source
[debug] [2024-11-12T01:59:47.178Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T01:59:47.178Z] Building nodejs source
[debug] [2024-11-12T01:59:47.178Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T01:59:47.180Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T01:59:47.181Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8984

[debug] [2024-11-12T01:59:47.788Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:01:14.874Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:01:15.570Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:01:16.575Z] Validating nodejs source
[debug] [2024-11-12T02:01:17.190Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:01:17.190Z] Building nodejs source
[debug] [2024-11-12T02:01:17.190Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:01:17.193Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:01:17.194Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8779

[debug] [2024-11-12T02:01:17.768Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:02:42.919Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:02:43.925Z] Validating nodejs source
[debug] [2024-11-12T02:02:44.692Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:02:44.692Z] Building nodejs source
[debug] [2024-11-12T02:02:44.692Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:02:44.694Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:02:44.695Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8123

[debug] [2024-11-12T02:02:45.272Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:02:45.401Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:02:46.403Z] Validating nodejs source
[debug] [2024-11-12T02:02:46.877Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:02:46.877Z] Building nodejs source
[debug] [2024-11-12T02:02:46.877Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:02:46.878Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:02:46.879Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8609

[debug] [2024-11-12T02:02:47.248Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:04:02.155Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T02:04:02.155Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:04:02.156Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T02:04:02.155Z"],"workRunningCount":1}
[debug] [2024-11-12T02:04:02.157Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T02:04:02.175Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T02:04:02.175Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:04:02.183Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T02:04:02.185Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T02:04:03.300Z] [runtime-status] [83706] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:04:03.301Z] [runtime-status] [83706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:04:03.301Z] [runtime-status] [83706] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T02:04:03.302Z] [runtime-status] [83706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:04:03.481Z] [runtime-status] [83706] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T02:04:03.481Z] [runtime-status] [83706] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T02:04:03.481Z] [runtime-status] [83706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:04:03.484Z] [runtime-status] [83706] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:04:03.485Z] [runtime-status] [83706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:04:03.486Z] [runtime-status] [83706] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T02:04:03.521Z] [runtime-status] [83706] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[warn] ⚠  functions: The Firebase Storage emulator is not running, so calls to Firebase Storage will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"The Firebase Storage emulator is not running, so calls to Firebase Storage will affect production."}}
[debug] [2024-11-12T02:04:03.774Z] [runtime-status] [83706] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T02:04:03.774Z] [runtime-status] [83706] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_8829c38d7542ad93.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [83706] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_8829c38d7542ad93.sock"}}
[debug] [2024-11-12T02:04:03.815Z] [worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: IDLE"}}
[debug] [2024-11-12T02:04:03.816Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T02:04:03.816Z] [worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: identifySpecies. {"user":"Processed non-image field insights[]: identifySpecies.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: identifySpecies."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'identifySpecies' ] {"user":"requestedInsights:  [ 'identifySpecies' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'identifySpecies' ]"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731377043827.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731377043827.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731377043827.jpg&uploadType=resumable&upload_id=AHmUCY13KcLiRNkeEYV0XlSllx7KDBMNAZN5L5Zvq_r4Y7yZ1njCF2tyh2BCC-GDKpYEhCXddsCbSXJNqrVhdfhj-hu8vBfLB8FXq2c_VYeZeo0C"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731377043827.jpg&uploadType=resumable&upload_id=AHmUCY13KcLiRNkeEYV0XlSllx7KDBMNAZN5L5Zvq_r4Y7yZ1njCF2tyh2BCC-GDKpYEhCXddsCbSXJNqrVhdfhj-hu8vBfLB8FXq2c_VYeZeo0C\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731377043827.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731377043827.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731377043827.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731377043827.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731377043827.jpg"}}
[info] >  getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":"getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":"getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T02:04:10.094Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 6278.502542ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 6278.502542ms"}}
[debug] [2024-11-12T02:04:10.095Z] [worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: IDLE"}}
[debug] [2024-11-12T02:04:10.095Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T02:04:10.095Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T02:04:10.095Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:10:07.634Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:10:08.648Z] Validating nodejs source
[debug] [2024-11-12T02:10:09.631Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:10:09.632Z] Building nodejs source
[debug] [2024-11-12T02:10:09.632Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:10:09.634Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:10:09.636Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8658

[debug] [2024-11-12T02:10:10.627Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:10:10.640Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T02:10:10.640Z] [worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: FINISHING"}}
[debug] [2024-11-12T02:10:10.652Z] [worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: exited"}}
[debug] [2024-11-12T02:10:10.653Z] [worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0a34cd76-50c5-4ffd-8a64-f8f00dece8c0]: FINISHED"}}
[debug] [2024-11-12T02:10:18.041Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:10:19.047Z] Validating nodejs source
[debug] [2024-11-12T02:10:19.639Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:10:19.640Z] Building nodejs source
[debug] [2024-11-12T02:10:19.640Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:10:19.643Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:10:19.644Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8761

[debug] [2024-11-12T02:10:20.185Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:10:25.508Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:10:26.513Z] Validating nodejs source
[debug] [2024-11-12T02:10:27.666Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:10:27.666Z] Building nodejs source
[debug] [2024-11-12T02:10:27.666Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:10:27.668Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:10:27.669Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:10:27.670Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8209

[debug] [2024-11-12T02:10:28.202Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:10:28.672Z] Validating nodejs source
[debug] [2024-11-12T02:10:29.173Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:10:29.173Z] Building nodejs source
[debug] [2024-11-12T02:10:29.173Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:10:29.174Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:10:29.174Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8458

[debug] [2024-11-12T02:10:29.603Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:10:52.008Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:10:53.012Z] Validating nodejs source
[debug] [2024-11-12T02:10:53.616Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:10:53.616Z] Building nodejs source
[debug] [2024-11-12T02:10:53.616Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:10:53.618Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:10:53.619Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8995

[debug] [2024-11-12T02:10:54.212Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:12:56.702Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:12:57.709Z] Validating nodejs source
[debug] [2024-11-12T02:12:58.346Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:12:58.346Z] Building nodejs source
[debug] [2024-11-12T02:12:58.346Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:12:58.348Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:12:58.350Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8578

[debug] [2024-11-12T02:12:59.235Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:14:54.426Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:14:55.433Z] Validating nodejs source
[debug] [2024-11-12T02:14:56.608Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:14:56.611Z] Building nodejs source
[debug] [2024-11-12T02:14:56.611Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:14:56.618Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:14:56.621Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8185

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:65
      const imageUrl = await uploadImageToFirebase(fileBuffer, f ileName);// Send the binary format to firebase.
                                                               ^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:14:57.202Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:14:59.651Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:15:00.656Z] Validating nodejs source
[debug] [2024-11-12T02:15:01.212Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:15:01.212Z] Building nodejs source
[debug] [2024-11-12T02:15:01.212Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:15:01.214Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:15:01.215Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8169

[debug] [2024-11-12T02:15:01.763Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:15:02.931Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:15:03.933Z] Validating nodejs source
[debug] [2024-11-12T02:15:04.501Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:15:04.503Z] Building nodejs source
[debug] [2024-11-12T02:15:04.503Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:15:04.505Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:15:04.506Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:15:04.721Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8049

[debug] [2024-11-12T02:15:05.436Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:15:05.725Z] Validating nodejs source
[debug] [2024-11-12T02:15:06.279Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:15:06.281Z] Building nodejs source
[debug] [2024-11-12T02:15:06.281Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:15:06.284Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:15:06.285Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8082

[debug] [2024-11-12T02:15:06.673Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:15:25.804Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:15:26.807Z] Validating nodejs source
[debug] [2024-11-12T02:15:27.622Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:15:27.623Z] Building nodejs source
[debug] [2024-11-12T02:15:27.623Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:15:27.625Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:15:27.626Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8962

[debug] [2024-11-12T02:15:28.175Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:15:31.464Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:15:32.467Z] Validating nodejs source
[debug] [2024-11-12T02:15:33.081Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:15:33.081Z] Building nodejs source
[debug] [2024-11-12T02:15:33.081Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:15:33.082Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:15:33.083Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8103

[debug] [2024-11-12T02:15:33.493Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:15:37.120Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:15:38.122Z] Validating nodejs source
[debug] [2024-11-12T02:15:38.708Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:15:38.708Z] Building nodejs source
[debug] [2024-11-12T02:15:38.708Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:15:38.710Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:15:38.711Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8298

[debug] [2024-11-12T02:15:39.141Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:15:41.942Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:15:42.946Z] Validating nodejs source
[debug] [2024-11-12T02:15:43.592Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:15:43.592Z] Building nodejs source
[debug] [2024-11-12T02:15:43.592Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:15:43.596Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:15:43.596Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8844

[debug] [2024-11-12T02:15:44.179Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:18:22.482Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:18:23.492Z] Validating nodejs source
[debug] [2024-11-12T02:18:24.643Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:18:24.643Z] Building nodejs source
[debug] [2024-11-12T02:18:24.644Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:18:24.646Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:18:24.647Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8526

[debug] [2024-11-12T02:18:25.249Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2024-11-12T02:18:25.253Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:18:26.254Z] Validating nodejs source
[debug] [2024-11-12T02:18:26.776Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:18:26.777Z] Building nodejs source
[debug] [2024-11-12T02:18:26.777Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:18:26.777Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:18:26.778Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8451

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:68
      uploadImageToFirebase(fileBuffer, fileName)
                           ^

SyntaxError: Unexpected token '('
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:18:26.916Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '('
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:18:27.987Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:18:28.989Z] Validating nodejs source
[debug] [2024-11-12T02:18:29.547Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:18:29.547Z] Building nodejs source
[debug] [2024-11-12T02:18:29.547Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:18:29.548Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:18:29.549Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8722

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:68
      uploadImageToFirebase(fileBuffer, fileName)
                           ^

SyntaxError: Unexpected token '('
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:18:29.778Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '('
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:18:31.972Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:18:32.779Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:18:33.781Z] Validating nodejs source
[debug] [2024-11-12T02:18:34.299Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:18:34.299Z] Building nodejs source
[debug] [2024-11-12T02:18:34.299Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:18:34.300Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:18:34.301Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8162

[debug] [2024-11-12T02:18:34.780Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:18:38.337Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:18:39.339Z] Validating nodejs source
[debug] [2024-11-12T02:18:39.843Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:18:39.843Z] Building nodejs source
[debug] [2024-11-12T02:18:39.843Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:18:39.845Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:18:39.846Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8801

[debug] [2024-11-12T02:18:40.367Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:19:13.621Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:19:13.620Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:19:13.622Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:19:13.620Z"],"workRunningCount":1}
[debug] [2024-11-12T02:19:13.622Z] Accepted request POST /agrilens-web/us-central1/app/analyze/ --> us-central1-app
[debug] [2024-11-12T02:19:13.630Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T02:19:13.630Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/"}}
[debug] [2024-11-12T02:19:13.630Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:19:13.636Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T02:19:13.636Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T02:19:14.797Z] [runtime-status] [88204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:19:14.798Z] [runtime-status] [88204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:19:14.798Z] [runtime-status] [88204] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T02:19:14.799Z] [runtime-status] [88204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:19:14.978Z] [runtime-status] [88204] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T02:19:14.979Z] [runtime-status] [88204] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T02:19:14.979Z] [runtime-status] [88204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:19:14.982Z] [runtime-status] [88204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:19:14.984Z] [runtime-status] [88204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:19:14.984Z] [runtime-status] [88204] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T02:19:15.016Z] [runtime-status] [88204] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T02:19:15.247Z] [runtime-status] [88204] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T02:19:15.248Z] [runtime-status] [88204] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_2732c2723d6eafbe.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [88204] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_2732c2723d6eafbe.sock"}}
[debug] [2024-11-12T02:19:15.260Z] [worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: IDLE"}}
[debug] [2024-11-12T02:19:15.260Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T02:19:15.261Z] [worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [] {"user":"requestedInsights:  []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  []"}}
[info] >  getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":"getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":"getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731377955271.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731377955271.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731377955271.jpg&uploadType=resumable&upload_id=AHmUCY0leyrbt_aTL5Eza6UdEMJw64uyVtuMfL2LRiEeQuv_ptRz1HOL9Y8O72-LlxesK_-wHbtFdRCsl9ND5_m1soQP5yUu1CPjtc9riLENUgyR"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731377955271.jpg&uploadType=resumable&upload_id=AHmUCY0leyrbt_aTL5Eza6UdEMJw64uyVtuMfL2LRiEeQuv_ptRz1HOL9Y8O72-LlxesK_-wHbtFdRCsl9ND5_m1soQP5yUu1CPjtc9riLENUgyR\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731377955271.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731377955271.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731377955271.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731377955271.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731377955271.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T02:19:21.261Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 6000.521084ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 6000.521084ms"}}
[debug] [2024-11-12T02:19:21.261Z] [worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: IDLE"}}
[debug] [2024-11-12T02:19:21.261Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T02:19:21.262Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T02:19:21.262Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:22:58.581Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:22:59.590Z] Validating nodejs source
[debug] [2024-11-12T02:23:00.323Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:23:00.323Z] Building nodejs source
[debug] [2024-11-12T02:23:00.323Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:23:00.325Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:23:00.326Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8421

[debug] [2024-11-12T02:23:01.014Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:23:01.027Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T02:23:01.027Z] [worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: FINISHING"}}
[debug] [2024-11-12T02:23:01.041Z] [worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: exited"}}
[debug] [2024-11-12T02:23:01.041Z] [worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c0e7ec5-c4c6-46f6-a235-ea62ecbf108b]: FINISHED"}}
[debug] [2024-11-12T02:23:01.396Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:23:02.397Z] Validating nodejs source
[debug] [2024-11-12T02:23:03.358Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:23:03.359Z] Building nodejs source
[debug] [2024-11-12T02:23:03.359Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:23:03.359Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:23:03.360Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8129

[debug] [2024-11-12T02:23:03.855Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:23:09.317Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:23:10.319Z] Validating nodejs source
[debug] [2024-11-12T02:23:10.902Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:23:10.902Z] Building nodejs source
[debug] [2024-11-12T02:23:10.903Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:23:10.906Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:23:10.907Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8292

[debug] [2024-11-12T02:23:11.307Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:23:11.612Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:23:12.615Z] Validating nodejs source
[debug] [2024-11-12T02:23:13.087Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:23:13.087Z] Building nodejs source
[debug] [2024-11-12T02:23:13.088Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:23:13.088Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:23:13.089Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8572

[debug] [2024-11-12T02:23:13.457Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:23:15.308Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:23:16.310Z] Validating nodejs source
[debug] [2024-11-12T02:23:16.821Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:23:16.822Z] Building nodejs source
[debug] [2024-11-12T02:23:16.822Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:23:16.823Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:23:16.825Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8514

[debug] [2024-11-12T02:23:17.226Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:23:17.264Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:23:18.229Z] Validating nodejs source
[debug] [2024-11-12T02:23:18.722Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:23:18.723Z] Building nodejs source
[debug] [2024-11-12T02:23:18.723Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:23:18.723Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:23:18.724Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8677

[debug] [2024-11-12T02:23:19.093Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:23:24.882Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:23:25.884Z] Validating nodejs source
[debug] [2024-11-12T02:23:26.461Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:23:26.461Z] Building nodejs source
[debug] [2024-11-12T02:23:26.461Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:23:26.462Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:23:26.464Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8652

[debug] [2024-11-12T02:23:26.848Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:23:50.634Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:23:50.634Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:23:50.635Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:23:50.634Z"],"workRunningCount":1}
[debug] [2024-11-12T02:23:50.635Z] Accepted request POST /agrilens-web/us-central1/app/analyze/ --> us-central1-app
[debug] [2024-11-12T02:23:50.641Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T02:23:50.642Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/"}}
[debug] [2024-11-12T02:23:50.642Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:23:50.646Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T02:23:50.646Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T02:23:51.654Z] [runtime-status] [89517] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:23:51.654Z] [runtime-status] [89517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:23:51.655Z] [runtime-status] [89517] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T02:23:51.655Z] [runtime-status] [89517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:23:51.836Z] [runtime-status] [89517] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T02:23:51.836Z] [runtime-status] [89517] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T02:23:51.836Z] [runtime-status] [89517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:23:51.840Z] [runtime-status] [89517] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:23:51.841Z] [runtime-status] [89517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:23:51.841Z] [runtime-status] [89517] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T02:23:51.873Z] [runtime-status] [89517] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T02:23:52.100Z] [runtime-status] [89517] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T02:23:52.101Z] [runtime-status] [89517] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_b5bb6d40cb8b7fc4.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [89517] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_b5bb6d40cb8b7fc4.sock"}}
[debug] [2024-11-12T02:23:52.168Z] [worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: IDLE"}}
[debug] [2024-11-12T02:23:52.168Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T02:23:52.169Z] [worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [] {"user":"requestedInsights:  []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  []"}}
[info] >  getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":"getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":"getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731378232179.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731378232179.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731378232179.jpg&uploadType=resumable&upload_id=AHmUCY1IbbHSDJfdcmYbh8f89yXe_Ha1ljdVW5sa7oIgk5ro2IeDeRlgpRLd9M7Y1Xkqqn-zLOTJmwiBJKVURECPTkt-NCGSYD4vjsuAcLoWEyZONA"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731378232179.jpg&uploadType=resumable&upload_id=AHmUCY1IbbHSDJfdcmYbh8f89yXe_Ha1ljdVW5sa7oIgk5ro2IeDeRlgpRLd9M7Y1Xkqqn-zLOTJmwiBJKVURECPTkt-NCGSYD4vjsuAcLoWEyZONA\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731378232179.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731378232179.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378232179.jpg {"user":">>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378232179.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378232179.jpg"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378232179.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378232179.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378232179.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T02:23:57.212Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 5044.1325ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 5044.1325ms"}}
[debug] [2024-11-12T02:23:57.213Z] [worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: IDLE"}}
[debug] [2024-11-12T02:23:57.213Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T02:23:57.213Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T02:23:57.213Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:28:28.942Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:28:29.950Z] Validating nodejs source
[debug] [2024-11-12T02:28:30.819Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:28:30.819Z] Building nodejs source
[debug] [2024-11-12T02:28:30.819Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:28:30.821Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:28:30.823Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8553

[debug] [2024-11-12T02:28:31.408Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:28:31.429Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T02:28:31.429Z] [worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: FINISHING"}}
[debug] [2024-11-12T02:28:31.442Z] [worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: exited"}}
[debug] [2024-11-12T02:28:31.442Z] [worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d4c61020-eefb-4c41-b6f4-d9952fe14a7b]: FINISHED"}}
[debug] [2024-11-12T02:28:46.994Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:28:47.997Z] Validating nodejs source
[debug] [2024-11-12T02:28:48.617Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:28:48.617Z] Building nodejs source
[debug] [2024-11-12T02:28:48.617Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:28:48.618Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:28:48.619Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8907

[debug] [2024-11-12T02:28:49.152Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:28:49.929Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:28:50.936Z] Validating nodejs source
[debug] [2024-11-12T02:28:52.087Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:28:52.087Z] Building nodejs source
[debug] [2024-11-12T02:28:52.087Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:28:52.089Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:28:52.090Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8490

[debug] [2024-11-12T02:28:52.694Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:28:54.831Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:28:55.833Z] Validating nodejs source
[debug] [2024-11-12T02:28:56.371Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:28:56.371Z] Building nodejs source
[debug] [2024-11-12T02:28:56.371Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:28:56.372Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:28:56.373Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8048

[debug] [2024-11-12T02:28:56.753Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:29:01.027Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:29:02.031Z] Validating nodejs source
[debug] [2024-11-12T02:29:02.749Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:29:02.749Z] Building nodejs source
[debug] [2024-11-12T02:29:02.749Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:29:02.752Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:29:02.753Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8197

[debug] [2024-11-12T02:29:03.149Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:29:05.175Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:29:06.179Z] Validating nodejs source
[debug] [2024-11-12T02:29:06.758Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:29:06.758Z] Building nodejs source
[debug] [2024-11-12T02:29:06.758Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:29:06.762Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:29:06.763Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:29:06.765Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8112

[debug] [2024-11-12T02:29:07.179Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:29:07.766Z] Validating nodejs source
[debug] [2024-11-12T02:29:08.283Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:29:08.283Z] Building nodejs source
[debug] [2024-11-12T02:29:08.283Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:29:08.284Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:29:08.284Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8822

[debug] [2024-11-12T02:29:08.651Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:31:04.410Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:31:05.418Z] Validating nodejs source
[debug] [2024-11-12T02:31:06.043Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:31:06.043Z] Building nodejs source
[debug] [2024-11-12T02:31:06.043Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:31:06.052Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:31:06.053Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8820

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:321
          const cust
                ^^^^

SyntaxError: Missing initializer in const declaration
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:31:06.345Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:31:07.567Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:31:08.569Z] Validating nodejs source
[debug] [2024-11-12T02:31:09.178Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:31:09.178Z] Building nodejs source
[debug] [2024-11-12T02:31:09.178Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:31:09.179Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:31:09.180Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:31:09.181Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8337

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:321
          const customerId = OQ79MAoXE9SMin2WhUzNV5vyTm73"
                                                         ^

SyntaxError: Invalid or unexpected token
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:31:09.340Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Invalid or unexpected token
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:31:10.182Z] Validating nodejs source
[debug] [2024-11-12T02:31:10.679Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:31:10.679Z] Building nodejs source
[debug] [2024-11-12T02:31:10.679Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:31:10.681Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:31:10.682Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:31:10.781Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8131

[debug] [2024-11-12T02:31:11.314Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:31:11.783Z] Validating nodejs source
[debug] [2024-11-12T02:31:12.369Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:31:12.370Z] Building nodejs source
[debug] [2024-11-12T02:31:12.370Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:31:12.371Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:31:12.372Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8691

[debug] [2024-11-12T02:31:12.755Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:31:15.606Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:31:16.610Z] Validating nodejs source
[debug] [2024-11-12T02:31:17.136Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:31:17.136Z] Building nodejs source
[debug] [2024-11-12T02:31:17.136Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:31:17.137Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:31:17.138Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8555

[debug] [2024-11-12T02:31:17.514Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:31:42.097Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:31:43.101Z] Validating nodejs source
[debug] [2024-11-12T02:31:43.911Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:31:43.911Z] Building nodejs source
[debug] [2024-11-12T02:31:43.912Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:31:43.914Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:31:43.915Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8866

[debug] [2024-11-12T02:31:44.645Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:31:46.033Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:31:47.036Z] Validating nodejs source
[debug] [2024-11-12T02:31:47.569Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:31:47.570Z] Building nodejs source
[debug] [2024-11-12T02:31:47.570Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:31:47.571Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:31:47.572Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8284

[debug] [2024-11-12T02:31:47.948Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:31:56.363Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:31:57.367Z] Validating nodejs source
[debug] [2024-11-12T02:31:58.061Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:31:58.061Z] Building nodejs source
[debug] [2024-11-12T02:31:58.061Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:31:58.073Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:31:58.075Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8561

[debug] [2024-11-12T02:31:58.619Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:31:59.079Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:32:00.081Z] Validating nodejs source
[debug] [2024-11-12T02:32:00.567Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:32:00.567Z] Building nodejs source
[debug] [2024-11-12T02:32:00.567Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:32:00.568Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:32:00.569Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8902

[debug] [2024-11-12T02:32:01.013Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:33:01.019Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:33:02.030Z] Validating nodejs source
[debug] [2024-11-12T02:33:02.708Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:33:02.709Z] Building nodejs source
[debug] [2024-11-12T02:33:02.709Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:33:02.713Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:33:02.714Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8471

[debug] [2024-11-12T02:33:03.467Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:33:04.438Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:33:05.441Z] Validating nodejs source
[debug] [2024-11-12T02:33:05.949Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:33:05.949Z] Building nodejs source
[debug] [2024-11-12T02:33:05.949Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:33:05.951Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:33:05.952Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:33:05.954Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8101

[debug] [2024-11-12T02:33:06.527Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:33:06.955Z] Validating nodejs source
[debug] [2024-11-12T02:33:07.487Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:33:07.488Z] Building nodejs source
[debug] [2024-11-12T02:33:07.488Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:33:07.488Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:33:07.489Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8489

[debug] [2024-11-12T02:33:07.862Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:33:09.811Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:33:10.814Z] Validating nodejs source
[debug] [2024-11-12T02:33:11.329Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:33:11.330Z] Building nodejs source
[debug] [2024-11-12T02:33:11.330Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:33:11.331Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:33:11.332Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8869

[debug] [2024-11-12T02:33:11.911Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:33:14.771Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:33:15.776Z] Validating nodejs source
[debug] [2024-11-12T02:33:16.295Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:33:16.295Z] Building nodejs source
[debug] [2024-11-12T02:33:16.295Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:33:16.299Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:33:16.299Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8280

[debug] [2024-11-12T02:33:16.680Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:33:34.244Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:33:35.259Z] Validating nodejs source
[debug] [2024-11-12T02:33:36.247Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:33:36.247Z] Building nodejs source
[debug] [2024-11-12T02:33:36.247Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:33:36.250Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:33:36.251Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8015

[debug] [2024-11-12T02:33:36.814Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:33:42.010Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:33:43.013Z] Validating nodejs source
[debug] [2024-11-12T02:33:43.637Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:33:43.638Z] Building nodejs source
[debug] [2024-11-12T02:33:43.638Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:33:43.639Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:33:43.640Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8683

[debug] [2024-11-12T02:33:44.450Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:33:58.743Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:33:59.747Z] Validating nodejs source
[debug] [2024-11-12T02:34:00.334Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:34:00.334Z] Building nodejs source
[debug] [2024-11-12T02:34:00.334Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:34:00.340Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:34:00.342Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8817

[debug] [2024-11-12T02:34:00.945Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:34:09.431Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:34:10.436Z] Validating nodejs source
[debug] [2024-11-12T02:34:11.283Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:34:11.283Z] Building nodejs source
[debug] [2024-11-12T02:34:11.283Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:34:11.285Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:34:11.286Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8856

[debug] [2024-11-12T02:34:11.959Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:34:12.493Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:34:13.495Z] Validating nodejs source
[debug] [2024-11-12T02:34:14.049Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:34:14.050Z] Building nodejs source
[debug] [2024-11-12T02:34:14.050Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:34:14.053Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:34:14.054Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:34:14.056Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8482

[debug] [2024-11-12T02:34:14.481Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:34:15.058Z] Validating nodejs source
[debug] [2024-11-12T02:34:15.539Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:34:15.539Z] Building nodejs source
[debug] [2024-11-12T02:34:15.539Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:34:15.540Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:34:15.541Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8584

[debug] [2024-11-12T02:34:15.927Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:34:19.178Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:34:20.182Z] Validating nodejs source
[debug] [2024-11-12T02:34:20.703Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:34:20.704Z] Building nodejs source
[debug] [2024-11-12T02:34:20.704Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:34:20.705Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:34:20.706Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8373

[debug] [2024-11-12T02:34:21.120Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:34:27.269Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:34:28.275Z] Validating nodejs source
[debug] [2024-11-12T02:34:28.809Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:34:28.809Z] Building nodejs source
[debug] [2024-11-12T02:34:28.809Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:34:28.811Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:34:28.812Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8040

[debug] [2024-11-12T02:34:29.197Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:34:30.235Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:34:31.237Z] Validating nodejs source
[debug] [2024-11-12T02:34:31.794Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:34:31.794Z] Building nodejs source
[debug] [2024-11-12T02:34:31.795Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:34:31.796Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:34:31.796Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8044

[debug] [2024-11-12T02:34:32.170Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:35:04.381Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:35:04.380Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:35:04.382Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:35:04.380Z"],"workRunningCount":1}
[debug] [2024-11-12T02:35:04.382Z] Accepted request POST /agrilens-web/us-central1/app/analyze/ --> us-central1-app
[debug] [2024-11-12T02:35:04.390Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T02:35:04.391Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/"}}
[debug] [2024-11-12T02:35:04.391Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:35:04.396Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T02:35:04.397Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T02:35:05.460Z] [runtime-status] [93228] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:35:05.461Z] [runtime-status] [93228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:35:05.461Z] [runtime-status] [93228] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T02:35:05.462Z] [runtime-status] [93228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:35:05.619Z] [runtime-status] [93228] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T02:35:05.620Z] [runtime-status] [93228] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T02:35:05.620Z] [runtime-status] [93228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:35:05.623Z] [runtime-status] [93228] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:35:05.625Z] [runtime-status] [93228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:35:05.625Z] [runtime-status] [93228] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T02:35:05.655Z] [runtime-status] [93228] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T02:35:05.867Z] [runtime-status] [93228] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T02:35:05.867Z] [runtime-status] [93228] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_1dbe458e4ac9c61b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [93228] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_1dbe458e4ac9c61b.sock"}}
[debug] [2024-11-12T02:35:05.924Z] [worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: IDLE"}}
[debug] [2024-11-12T02:35:05.924Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T02:35:05.925Z] [worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [] {"user":"requestedInsights:  []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  []"}}
[info] >  getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":"getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":"getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731378905944.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731378905944.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731378905944.jpg&uploadType=resumable&upload_id=AHmUCY1Ri0-7EP1jpwBuLMAOZWCitpfFI4FKvuiajp3weAKN_RA4mv39DEbEUiYEOpTBuX_wI8RSFdlvXpEoezH6-hCcgzm1KClbq7FzhYklPvdA"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731378905944.jpg&uploadType=resumable&upload_id=AHmUCY1Ri0-7EP1jpwBuLMAOZWCitpfFI4FKvuiajp3weAKN_RA4mv39DEbEUiYEOpTBuX_wI8RSFdlvXpEoezH6-hCcgzm1KClbq7FzhYklPvdA\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731378905944.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731378905944.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378905944.jpg {"user":">>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378905944.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378905944.jpg"}}
[info] >  >>>> 100. Image entry added successfully! {"user":">>>> 100. Image entry added successfully!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Image entry added successfully!"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378905944.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378905944.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731378905944.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T02:35:16.979Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 11055.434375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 11055.434375ms"}}
[debug] [2024-11-12T02:35:16.980Z] [worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: IDLE"}}
[debug] [2024-11-12T02:35:16.980Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T02:35:16.981Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T02:35:16.981Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:38:21.051Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:38:22.064Z] Validating nodejs source
[debug] [2024-11-12T02:38:22.937Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:38:22.937Z] Building nodejs source
[debug] [2024-11-12T02:38:22.937Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:38:22.942Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:38:22.945Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8959

[debug] [2024-11-12T02:38:23.592Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:38:23.602Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T02:38:23.602Z] [worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: FINISHING"}}
[debug] [2024-11-12T02:38:23.615Z] [worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: exited"}}
[debug] [2024-11-12T02:38:23.615Z] [worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dfdb8ebb-f38d-494c-96fa-f35b844d79da]: FINISHED"}}
[debug] [2024-11-12T02:38:53.061Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:38:54.074Z] Validating nodejs source
[debug] [2024-11-12T02:38:54.808Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:38:54.808Z] Building nodejs source
[debug] [2024-11-12T02:38:54.809Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:38:54.811Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:38:54.812Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8299

[debug] [2024-11-12T02:38:55.529Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:38:58.950Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:38:59.953Z] Validating nodejs source
[debug] [2024-11-12T02:39:00.540Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:00.541Z] Building nodejs source
[debug] [2024-11-12T02:39:00.541Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:00.542Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:00.543Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8641

[debug] [2024-11-12T02:39:01.069Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:39:24.587Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:39:25.595Z] Validating nodejs source
[debug] [2024-11-12T02:39:26.718Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:26.718Z] Building nodejs source
[debug] [2024-11-12T02:39:26.718Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:26.720Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:26.721Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8930

[debug] [2024-11-12T02:39:27.298Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:39:29.452Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:39:30.453Z] Validating nodejs source
[debug] [2024-11-12T02:39:30.954Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:30.954Z] Building nodejs source
[debug] [2024-11-12T02:39:30.954Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:30.955Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:30.956Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8988

[debug] [2024-11-12T02:39:31.340Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:39:33.781Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:39:34.781Z] Validating nodejs source
[debug] [2024-11-12T02:39:35.291Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:35.291Z] Building nodejs source
[debug] [2024-11-12T02:39:35.291Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:35.293Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:35.294Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8967

[debug] [2024-11-12T02:39:35.663Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:39:38.219Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:39:39.264Z] Validating nodejs source
[debug] [2024-11-12T02:39:40.120Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:40.121Z] Building nodejs source
[debug] [2024-11-12T02:39:40.121Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:40.122Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:40.123Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8353

[debug] [2024-11-12T02:39:40.523Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:39:40.869Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:39:41.870Z] Validating nodejs source
[debug] [2024-11-12T02:39:42.356Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:42.356Z] Building nodejs source
[debug] [2024-11-12T02:39:42.356Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:42.357Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:42.358Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8657

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:12
const uploadImageToFirebase
      ^^^^^^^^^^^^^^^^^^^^^

SyntaxError: Missing initializer in const declaration
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:39:42.486Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:39:42.760Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:39:43.869Z] Validating nodejs source
[debug] [2024-11-12T02:39:44.731Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:44.732Z] Building nodejs source
[debug] [2024-11-12T02:39:44.732Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:44.733Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:44.735Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8400

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:12
const uploadImageToFirebase 
      ^^^^^^^^^^^^^^^^^^^^^

SyntaxError: Missing initializer in const declaration
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:39:44.873Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:39:45.272Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:39:46.273Z] Validating nodejs source
[debug] [2024-11-12T02:39:46.749Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:46.749Z] Building nodejs source
[debug] [2024-11-12T02:39:46.749Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:46.751Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:46.752Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8231

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:39:46.882Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:39:47.153Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:39:48.153Z] Validating nodejs source
[debug] [2024-11-12T02:39:48.681Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:48.681Z] Building nodejs source
[debug] [2024-11-12T02:39:48.681Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:48.684Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:48.685Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:39:48.687Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8475

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:39:48.820Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:39:49.688Z] Validating nodejs source
[debug] [2024-11-12T02:39:50.183Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:50.183Z] Building nodejs source
[debug] [2024-11-12T02:39:50.183Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:50.190Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:50.191Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8883

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:39:50.351Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:39:51.803Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:39:52.804Z] Validating nodejs source
[debug] [2024-11-12T02:39:53.641Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:53.642Z] Building nodejs source
[debug] [2024-11-12T02:39:53.642Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:53.644Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:53.645Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:39:53.646Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8202

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:39:53.789Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:39:54.648Z] Validating nodejs source
[debug] [2024-11-12T02:39:55.177Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:55.177Z] Building nodejs source
[debug] [2024-11-12T02:39:55.177Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:55.179Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:55.180Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:39:55.181Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8640

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:39:55.309Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:39:56.182Z] Validating nodejs source
[debug] [2024-11-12T02:39:56.686Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:56.686Z] Building nodejs source
[debug] [2024-11-12T02:39:56.686Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:56.687Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:56.687Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8786

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:39:56.827Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:39:57.594Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:39:58.596Z] Validating nodejs source
[debug] [2024-11-12T02:39:59.098Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:39:59.099Z] Building nodejs source
[debug] [2024-11-12T02:39:59.099Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:39:59.114Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:39:59.115Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8778

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:39:59.343Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:40:00.330Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:40:01.333Z] Validating nodejs source
[debug] [2024-11-12T02:40:01.848Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:40:01.848Z] Building nodejs source
[debug] [2024-11-12T02:40:01.848Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:40:01.849Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:40:01.850Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8294

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:40:01.990Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:40:03.867Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:40:04.868Z] Validating nodejs source
[debug] [2024-11-12T02:40:05.350Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:40:05.350Z] Building nodejs source
[debug] [2024-11-12T02:40:05.350Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:40:05.353Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:40:05.353Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8354

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:40:05.479Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:40:05.755Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:40:06.757Z] Validating nodejs source
[debug] [2024-11-12T02:40:07.294Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:40:07.294Z] Building nodejs source
[debug] [2024-11-12T02:40:07.294Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:40:07.295Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:40:07.296Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8140

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:40:07.424Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:40:07.496Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:40:08.503Z] Validating nodejs source
[debug] [2024-11-12T02:40:09.017Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:40:09.017Z] Building nodejs source
[debug] [2024-11-12T02:40:09.017Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:40:09.018Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:40:09.019Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8243

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:296
const uploadImageToFirebase = async (fileBuffer, fileName) => {
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:40:09.151Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:40:59.339Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:41:00.350Z] Validating nodejs source
[debug] [2024-11-12T02:41:01.147Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:41:01.147Z] Building nodejs source
[debug] [2024-11-12T02:41:01.147Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:41:01.150Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:41:01.150Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8200

[debug] [2024-11-12T02:41:01.723Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:41:25.208Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:41:25.208Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:41:25.209Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:41:25.208Z"],"workRunningCount":1}
[debug] [2024-11-12T02:41:25.209Z] Accepted request POST /agrilens-web/us-central1/app/analyze/ --> us-central1-app
[debug] [2024-11-12T02:41:25.218Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T02:41:25.219Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/"}}
[debug] [2024-11-12T02:41:25.219Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:41:25.223Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T02:41:25.224Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T02:41:26.518Z] [runtime-status] [95402] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:41:26.519Z] [runtime-status] [95402] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:41:26.519Z] [runtime-status] [95402] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T02:41:26.519Z] [runtime-status] [95402] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:41:26.678Z] [runtime-status] [95402] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T02:41:26.678Z] [runtime-status] [95402] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T02:41:26.678Z] [runtime-status] [95402] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:41:26.680Z] [runtime-status] [95402] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:41:26.683Z] [runtime-status] [95402] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:41:26.684Z] [runtime-status] [95402] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T02:41:26.714Z] [runtime-status] [95402] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T02:41:26.932Z] [runtime-status] [95402] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T02:41:26.933Z] [runtime-status] [95402] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_2c8b3cefbd216c16.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [95402] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_2c8b3cefbd216c16.sock"}}
[debug] [2024-11-12T02:41:26.957Z] [worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: IDLE"}}
[debug] [2024-11-12T02:41:26.957Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T02:41:26.959Z] [worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [] {"user":"requestedInsights:  []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  []"}}
[info] >  getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":"getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":"getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[info] >  Failed to upload image: ReferenceError: bucket is not defined {"user":"Failed to upload image: ReferenceError: bucket is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Failed to upload image: ReferenceError: bucket is not defined"}}
[info] >      at uploadImageToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js:2:16) {"user":"    at uploadImageToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js:2:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadImageToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js:2:16)"}}
[info] >      at Multipart.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:71:7) {"user":"    at Multipart.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:71:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:71:7)"}}
[info] >      at Multipart.emit (node:events:517:28) {"user":"    at Multipart.emit (node:events:517:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Multipart.emit (node:events:517:28)"}}
[info] >      at finish (node:internal/streams/writable:748:10) {"user":"    at finish (node:internal/streams/writable:748:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at finish (node:internal/streams/writable:748:10)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T02:41:32.217Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 5258.378042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 5258.378042ms"}}
[debug] [2024-11-12T02:41:32.217Z] [worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: IDLE"}}
[debug] [2024-11-12T02:41:32.218Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T02:41:32.218Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T02:41:32.218Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:42:09.601Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:42:10.607Z] Validating nodejs source
[debug] [2024-11-12T02:42:11.334Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:11.334Z] Building nodejs source
[debug] [2024-11-12T02:42:11.334Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:11.337Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:11.338Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:42:11.341Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[info] Serving at port 8036

[error] Error: Cannot find module './config/firebase-config'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js:1:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T02:42:11.927Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module './config/firebase-config'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:42:12.342Z] Validating nodejs source
[debug] [2024-11-12T02:42:12.828Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:12.829Z] Building nodejs source
[debug] [2024-11-12T02:42:12.829Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:12.835Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:12.836Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8244

[error] Error: Cannot find module './config/firebase-config'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js:1:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T02:42:13.289Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module './config/firebase-config'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:42:13.541Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:42:14.542Z] Validating nodejs source
[debug] [2024-11-12T02:42:15.053Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:15.053Z] Building nodejs source
[debug] [2024-11-12T02:42:15.053Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:15.058Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:15.059Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8257

[error] Error: Cannot find module './config/firebase-config'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js:1:24)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T02:42:15.523Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module './config/firebase-config'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:42:21.522Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:42:22.526Z] Validating nodejs source
[debug] [2024-11-12T02:42:23.056Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:23.056Z] Building nodejs source
[debug] [2024-11-12T02:42:23.057Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:23.061Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:23.062Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8871

[debug] [2024-11-12T02:42:23.445Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:42:23.464Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T02:42:23.464Z] [worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: FINISHING"}}
[debug] [2024-11-12T02:42:23.476Z] [worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: exited"}}
[debug] [2024-11-12T02:42:23.476Z] [worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c04e99c5-08c5-4ab6-88a6-3371661d3bb3]: FINISHED"}}
[debug] [2024-11-12T02:42:29.420Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:42:30.422Z] Validating nodejs source
[debug] [2024-11-12T02:42:30.972Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:30.972Z] Building nodejs source
[debug] [2024-11-12T02:42:30.972Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:30.974Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:30.974Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8902

[error] (node:95765) Warning: Accessing non-existent property 'db' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:95765) Warning: Accessing non-existent property 'bucket' of module exports inside circular dependency

[debug] [2024-11-12T02:42:31.468Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:42:31.779Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:42:32.783Z] Validating nodejs source
[debug] [2024-11-12T02:42:33.277Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:33.277Z] Building nodejs source
[debug] [2024-11-12T02:42:33.277Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:33.279Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:33.280Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8883

[error] Error: Cannot find module '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/index.js'. Please verify that the package.json has a valid "main" entry
    at tryPackage (node:internal/modules/cjs/loader:443:19)
    at Module._findPath (node:internal/modules/cjs/loader:711:18)
    at Module._resolveFilename (node:internal/modules/cjs/loader:1126:27)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js:1:24)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32) {
  code: 'MODULE_NOT_FOUND',
  path: '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/package.json',
  requestPath: '../../'
}

[debug] [2024-11-12T02:42:33.632Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/index.js'. Please verify that the package.json has a valid "main" entry
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:42:36.610Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:42:37.611Z] Validating nodejs source
[debug] [2024-11-12T02:42:38.121Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:38.121Z] Building nodejs source
[debug] [2024-11-12T02:42:38.121Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:38.122Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:38.122Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:42:38.222Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[info] Serving at port 8500

[error] Error: Cannot find module './'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js:1:24)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T02:42:38.524Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module './'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:42:39.224Z] Validating nodejs source
[debug] [2024-11-12T02:42:39.749Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:39.749Z] Building nodejs source
[debug] [2024-11-12T02:42:39.749Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:39.750Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:39.751Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:42:39.753Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[info] Serving at port 8963

[error] Error: Cannot find module '.'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js:1:24)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T02:42:40.224Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '.'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:42:40.755Z] Validating nodejs source
[debug] [2024-11-12T02:42:41.284Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:41.284Z] Building nodejs source
[debug] [2024-11-12T02:42:41.284Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:41.287Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:41.287Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:42:41.288Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[info] Serving at port 8991

[error] (node:95869) Warning: Accessing non-existent property 'db' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:95869) Warning: Accessing non-existent property 'bucket' of module exports inside circular dependency

[debug] [2024-11-12T02:42:41.663Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:42:42.289Z] Validating nodejs source
[debug] [2024-11-12T02:42:42.765Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:42.765Z] Building nodejs source
[debug] [2024-11-12T02:42:42.765Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:42.765Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:42.766Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8532

[error] (node:95891) Warning: Accessing non-existent property 'db' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:95891) Warning: Accessing non-existent property 'bucket' of module exports inside circular dependency

[debug] [2024-11-12T02:42:43.135Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:42:43.596Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:42:44.598Z] Validating nodejs source
[debug] [2024-11-12T02:42:45.104Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:45.104Z] Building nodejs source
[debug] [2024-11-12T02:42:45.104Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:45.106Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:45.107Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8249

[debug] [2024-11-12T02:42:45.713Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImage.js changed, reloading triggers"}}
[debug] [2024-11-12T02:42:45.751Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:42:46.715Z] Validating nodejs source
[debug] [2024-11-12T02:42:47.222Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:42:47.222Z] Building nodejs source
[debug] [2024-11-12T02:42:47.222Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:42:47.223Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:42:47.224Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8305

[debug] [2024-11-12T02:42:47.604Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:43:00.332Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:43:00.332Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:43:00.333Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:43:00.332Z"],"workRunningCount":1}
[debug] [2024-11-12T02:43:00.333Z] Accepted request POST /agrilens-web/us-central1/app/analyze/ --> us-central1-app
[debug] [2024-11-12T02:43:00.340Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T02:43:00.340Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/"}}
[debug] [2024-11-12T02:43:00.340Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:43:00.344Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T02:43:00.345Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T02:43:01.708Z] [runtime-status] [96003] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:43:01.708Z] [runtime-status] [96003] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:43:01.709Z] [runtime-status] [96003] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T02:43:01.709Z] [runtime-status] [96003] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:43:01.885Z] [runtime-status] [96003] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T02:43:01.885Z] [runtime-status] [96003] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T02:43:01.886Z] [runtime-status] [96003] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:43:01.887Z] [runtime-status] [96003] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:43:01.889Z] [runtime-status] [96003] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:43:01.889Z] [runtime-status] [96003] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T02:43:01.921Z] [runtime-status] [96003] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T02:43:02.156Z] [runtime-status] [96003] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T02:43:02.156Z] [runtime-status] [96003] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_a1eb2fca6f89fc63.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [96003] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_a1eb2fca6f89fc63.sock"}}
[debug] [2024-11-12T02:43:02.181Z] [worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: IDLE"}}
[debug] [2024-11-12T02:43:02.181Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T02:43:02.182Z] [worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [] {"user":"requestedInsights:  []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  []"}}
[info] >  getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":"getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":"getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731379382192.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731379382192.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731379382192.jpg&uploadType=resumable&upload_id=AHmUCY3gaoUH0Dp78E8okDtz5YxlpL3Z8JQlZby-1t5ChYrdleUjeg_hpKpqyfGuNTYYHbF0JLB-WG3XgqrD-81uYmDFkve-G6jjfJ98oIgF_cdgzg"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731379382192.jpg&uploadType=resumable&upload_id=AHmUCY3gaoUH0Dp78E8okDtz5YxlpL3Z8JQlZby-1t5ChYrdleUjeg_hpKpqyfGuNTYYHbF0JLB-WG3XgqrD-81uYmDFkve-G6jjfJ98oIgF_cdgzg\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731379382192.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731379382192.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379382192.jpg {"user":">>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379382192.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379382192.jpg"}}
[info] >  >>>> 100. Image entry added successfully! {"user":">>>> 100. Image entry added successfully!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Image entry added successfully!"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379382192.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379382192.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379382192.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T02:43:07.765Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 5583.393375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 5583.393375ms"}}
[debug] [2024-11-12T02:43:07.765Z] [worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: IDLE"}}
[debug] [2024-11-12T02:43:07.766Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T02:43:07.766Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T02:43:07.766Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:43:31.317Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:43:32.320Z] Validating nodejs source
[debug] [2024-11-12T02:43:32.901Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:43:32.901Z] Building nodejs source
[debug] [2024-11-12T02:43:32.901Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:43:32.903Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:43:32.904Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8172

[debug] [2024-11-12T02:43:33.469Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:43:33.478Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T02:43:33.478Z] [worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: FINISHING"}}
[debug] [2024-11-12T02:43:33.490Z] [worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: exited"}}
[debug] [2024-11-12T02:43:33.490Z] [worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-367b7b44-65db-4a39-baa8-ef1a827384ae]: FINISHED"}}
[debug] [2024-11-12T02:44:00.379Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:44:01.386Z] Validating nodejs source
[debug] [2024-11-12T02:44:02.018Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:44:02.018Z] Building nodejs source
[debug] [2024-11-12T02:44:02.018Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:44:02.020Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:44:02.021Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8932

[debug] [2024-11-12T02:44:02.589Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:44:49.719Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:44:50.724Z] Validating nodejs source
[debug] [2024-11-12T02:44:51.415Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:44:51.415Z] Building nodejs source
[debug] [2024-11-12T02:44:51.415Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:44:51.417Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:44:51.418Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8596

[debug] [2024-11-12T02:44:52.214Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:45:01.623Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:45:02.628Z] Validating nodejs source
[debug] [2024-11-12T02:45:03.250Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:45:03.250Z] Building nodejs source
[debug] [2024-11-12T02:45:03.250Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:45:03.251Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:45:03.252Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8922

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13
const uploadImageToFirebase = require("./methods/uploadImageToFirebase");
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:45:03.412Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:45:04.775Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:45:05.778Z] Validating nodejs source
[debug] [2024-11-12T02:45:06.300Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:45:06.300Z] Building nodejs source
[debug] [2024-11-12T02:45:06.300Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:45:06.301Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:45:06.302Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8263

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13
const const getAnalysis = async (apiUrl, modelSpec, headers) => {
      ^^^^^

SyntaxError: Unexpected token 'const'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:45:06.431Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token 'const'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:45:06.805Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:45:07.806Z] Validating nodejs source
[debug] [2024-11-12T02:45:08.588Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:45:08.589Z] Building nodejs source
[debug] [2024-11-12T02:45:08.589Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:45:08.589Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:45:08.590Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8636

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13
const uploadImageToFirebase = require("./methods/uploadImageToFirebase");
      ^

SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:45:08.834Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'uploadImageToFirebase' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:45:19.198Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:45:20.205Z] Validating nodejs source
[debug] [2024-11-12T02:45:20.825Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:45:20.825Z] Building nodejs source
[debug] [2024-11-12T02:45:20.825Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:45:20.826Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:45:20.827Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:45:20.829Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8851

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:214
const getAnalysis = async (apiUrl, modelSpec, headers) => {
      ^

SyntaxError: Identifier 'getAnalysis' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:45:20.988Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'getAnalysis' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:45:21.832Z] Validating nodejs source
[debug] [2024-11-12T02:45:22.321Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:45:22.321Z] Building nodejs source
[debug] [2024-11-12T02:45:22.321Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:45:22.321Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:45:22.322Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8673

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:214
const getAnalysis = async (apiUrl, modelSpec, headers) => {
      ^

SyntaxError: Identifier 'getAnalysis' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:45:22.545Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'getAnalysis' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:45:30.603Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:45:31.611Z] Validating nodejs source
[debug] [2024-11-12T02:45:32.182Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:45:32.182Z] Building nodejs source
[debug] [2024-11-12T02:45:32.182Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:45:32.184Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:45:32.185Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8980

[debug] [2024-11-12T02:45:32.742Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:46:02.295Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:46:03.301Z] Validating nodejs source
[debug] [2024-11-12T02:46:03.920Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:46:03.920Z] Building nodejs source
[debug] [2024-11-12T02:46:03.920Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:46:03.922Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:46:03.923Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8299

[debug] [2024-11-12T02:46:04.521Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:46:13.217Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:46:14.220Z] Validating nodejs source
[debug] [2024-11-12T02:46:14.808Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:46:14.808Z] Building nodejs source
[debug] [2024-11-12T02:46:14.808Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:46:14.810Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:46:14.811Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8899

[error] ReferenceError: uploadImageToFirebase is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js:29:20)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:21)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T02:46:15.395Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: uploadImageToFirebase is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:46:17.236Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:46:18.239Z] Validating nodejs source
[debug] [2024-11-12T02:46:18.808Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:46:18.808Z] Building nodejs source
[debug] [2024-11-12T02:46:18.808Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:46:18.809Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:46:18.810Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8324

[debug] [2024-11-12T02:46:19.311Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:46:52.063Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:46:52.062Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:46:52.064Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:46:52.062Z"],"workRunningCount":1}
[debug] [2024-11-12T02:46:52.064Z] Accepted request POST /agrilens-web/us-central1/app/analyze/ --> us-central1-app
[debug] [2024-11-12T02:46:52.069Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T02:46:52.070Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/"}}
[debug] [2024-11-12T02:46:52.072Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:46:52.082Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T02:46:52.083Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T02:46:53.093Z] [runtime-status] [97366] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:46:53.094Z] [runtime-status] [97366] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:46:53.094Z] [runtime-status] [97366] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T02:46:53.094Z] [runtime-status] [97366] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:46:53.269Z] [runtime-status] [97366] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T02:46:53.269Z] [runtime-status] [97366] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T02:46:53.269Z] [runtime-status] [97366] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:46:53.273Z] [runtime-status] [97366] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:46:53.274Z] [runtime-status] [97366] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:46:53.275Z] [runtime-status] [97366] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T02:46:53.306Z] [runtime-status] [97366] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T02:46:53.537Z] [runtime-status] [97366] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T02:46:53.537Z] [runtime-status] [97366] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_dbfd238f1a64c7d7.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [97366] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_dbfd238f1a64c7d7.sock"}}
[debug] [2024-11-12T02:46:53.607Z] [worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: IDLE"}}
[debug] [2024-11-12T02:46:53.608Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T02:46:53.608Z] [worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [] {"user":"requestedInsights:  []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  []"}}
[info] >  getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":"getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":"getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731379613619.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731379613619.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731379613619.jpg&uploadType=resumable&upload_id=AHmUCY1dF3_SxOHmb-iBWumeQyfSrNujv0CBkUxn1wJYboGTAkr8PD9b5YzfgaSfzELxKUuuCnMyCvxVL28ZuG6dLnkbyBew9iSfo7UZ3iewaMowOg"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731379613619.jpg&uploadType=resumable&upload_id=AHmUCY1dF3_SxOHmb-iBWumeQyfSrNujv0CBkUxn1wJYboGTAkr8PD9b5YzfgaSfzELxKUuuCnMyCvxVL28ZuG6dLnkbyBew9iSfo7UZ3iewaMowOg\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731379613619.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731379613619.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379613619.jpg {"user":">>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379613619.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379613619.jpg"}}
[info] >  >>>> 100. Image entry added successfully! {"user":">>>> 100. Image entry added successfully!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Image entry added successfully!"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379613619.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379613619.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731379613619.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T02:46:59.287Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 5679.31275ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 5679.31275ms"}}
[debug] [2024-11-12T02:46:59.287Z] [worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: IDLE"}}
[debug] [2024-11-12T02:46:59.288Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T02:46:59.288Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T02:46:59.288Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:47:13.776Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:47:14.781Z] Validating nodejs source
[debug] [2024-11-12T02:47:15.462Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:47:15.462Z] Building nodejs source
[debug] [2024-11-12T02:47:15.462Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:47:15.464Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:47:15.465Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8559

[debug] [2024-11-12T02:47:16.045Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:47:16.057Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T02:47:16.057Z] [worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: FINISHING"}}
[debug] [2024-11-12T02:47:16.072Z] [worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: exited"}}
[debug] [2024-11-12T02:47:16.072Z] [worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0f3ed19d-a98d-4b22-95f0-19af45a7b86e]: FINISHED"}}
[debug] [2024-11-12T02:47:28.415Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:47:29.419Z] Validating nodejs source
[debug] [2024-11-12T02:47:30.028Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:47:30.028Z] Building nodejs source
[debug] [2024-11-12T02:47:30.028Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:47:30.030Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:47:30.032Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8483

[debug] [2024-11-12T02:47:30.607Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:47:34.573Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:47:35.279Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:47:36.282Z] Validating nodejs source
[debug] [2024-11-12T02:47:36.899Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:47:36.899Z] Building nodejs source
[debug] [2024-11-12T02:47:36.899Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:47:36.901Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:47:36.902Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8383

[debug] [2024-11-12T02:47:37.443Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:48:07.429Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:48:08.433Z] Validating nodejs source
[debug] [2024-11-12T02:48:09.036Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:48:09.037Z] Building nodejs source
[debug] [2024-11-12T02:48:09.037Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:48:09.038Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:48:09.040Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8516

[debug] [2024-11-12T02:48:09.605Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:48:10.755Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:48:11.756Z] Validating nodejs source
[debug] [2024-11-12T02:48:12.299Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:48:12.299Z] Building nodejs source
[debug] [2024-11-12T02:48:12.299Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:48:12.300Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:48:12.300Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8589

[debug] [2024-11-12T02:48:12.501Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:48:12.720Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:48:13.504Z] Validating nodejs source
[debug] [2024-11-12T02:48:14.010Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:48:14.010Z] Building nodejs source
[debug] [2024-11-12T02:48:14.010Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:48:14.011Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:48:14.012Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8246

[debug] [2024-11-12T02:48:14.417Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:48:24.113Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:48:25.117Z] Validating nodejs source
[debug] [2024-11-12T02:48:25.778Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:48:25.778Z] Building nodejs source
[debug] [2024-11-12T02:48:25.778Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:48:25.781Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:48:25.782Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8483

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:14
const getAnalysis = require("./methods/getAnalysis");
      ^

SyntaxError: Identifier 'getAnalysis' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:48:25.948Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'getAnalysis' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:48:26.183Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:48:27.184Z] Validating nodejs source
[debug] [2024-11-12T02:48:28.053Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:48:28.053Z] Building nodejs source
[debug] [2024-11-12T02:48:28.053Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:48:28.054Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:48:28.055Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:48:28.056Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8922

[debug] [2024-11-12T02:48:28.538Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:48:29.057Z] Validating nodejs source
[debug] [2024-11-12T02:48:29.555Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:48:29.555Z] Building nodejs source
[debug] [2024-11-12T02:48:29.555Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:48:29.555Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:48:29.556Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8422

[debug] [2024-11-12T02:48:29.916Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:49:17.945Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:49:18.952Z] Validating nodejs source
[debug] [2024-11-12T02:49:19.751Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:49:19.752Z] Building nodejs source
[debug] [2024-11-12T02:49:19.752Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:49:19.753Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:49:19.754Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8492

[debug] [2024-11-12T02:49:20.495Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:52:04.122Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:52:05.129Z] Validating nodejs source
[debug] [2024-11-12T02:52:05.767Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:52:05.767Z] Building nodejs source
[debug] [2024-11-12T02:52:05.767Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:52:05.770Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:52:05.771Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:52:05.975Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8206

[debug] [2024-11-12T02:52:06.641Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:52:07.017Z] Validating nodejs source
[debug] [2024-11-12T02:52:07.550Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:52:07.551Z] Building nodejs source
[debug] [2024-11-12T02:52:07.551Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:52:07.552Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:52:07.553Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8567

[debug] [2024-11-12T02:52:07.967Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:52:12.094Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:52:13.096Z] Validating nodejs source
[debug] [2024-11-12T02:52:13.681Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:52:13.682Z] Building nodejs source
[debug] [2024-11-12T02:52:13.682Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:52:13.683Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:52:13.684Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8523

[debug] [2024-11-12T02:52:14.060Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:52:14.388Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:52:15.389Z] Validating nodejs source
[debug] [2024-11-12T02:52:15.924Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:52:15.924Z] Building nodejs source
[debug] [2024-11-12T02:52:15.924Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:52:15.927Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:52:15.927Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8964

[debug] [2024-11-12T02:52:16.304Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:52:18.350Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:52:19.351Z] Validating nodejs source
[debug] [2024-11-12T02:52:19.942Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:52:19.942Z] Building nodejs source
[debug] [2024-11-12T02:52:19.942Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:52:19.944Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:52:19.945Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8545

[debug] [2024-11-12T02:52:20.405Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:52:21.761Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:52:22.763Z] Validating nodejs source
[debug] [2024-11-12T02:52:23.267Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:52:23.268Z] Building nodejs source
[debug] [2024-11-12T02:52:23.268Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:52:23.269Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:52:23.269Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8992

[debug] [2024-11-12T02:52:23.722Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:52:25.496Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:52:26.498Z] Validating nodejs source
[debug] [2024-11-12T02:52:27.043Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:52:27.043Z] Building nodejs source
[debug] [2024-11-12T02:52:27.043Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:52:27.045Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:52:27.046Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8531

[debug] [2024-11-12T02:52:27.422Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:52:33.407Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:52:34.410Z] Validating nodejs source
[debug] [2024-11-12T02:52:34.945Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:52:34.945Z] Building nodejs source
[debug] [2024-11-12T02:52:34.945Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:52:34.947Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:52:34.948Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8616

[debug] [2024-11-12T02:52:35.331Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:52:35.652Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/getPlantIdAnalysis.js changed, reloading triggers"}}
[debug] [2024-11-12T02:52:36.654Z] Validating nodejs source
[debug] [2024-11-12T02:52:37.162Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:52:37.162Z] Building nodejs source
[debug] [2024-11-12T02:52:37.162Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:52:37.165Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:52:37.166Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8754

[debug] [2024-11-12T02:52:37.538Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:53:14.727Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:53:15.734Z] Validating nodejs source
[debug] [2024-11-12T02:53:16.354Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:53:16.355Z] Building nodejs source
[debug] [2024-11-12T02:53:16.355Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:53:16.357Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:53:16.357Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8488

[debug] [2024-11-12T02:53:16.912Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:54:55.253Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:54:56.256Z] Validating nodejs source
[debug] [2024-11-12T02:54:56.948Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:54:56.948Z] Building nodejs source
[debug] [2024-11-12T02:54:56.948Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:54:56.950Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:54:56.951Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8753

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:144
      const [qwenResult, llamaResult] = await Promise.allSettled([
             ^

SyntaxError: Identifier 'qwenResult' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:54:57.165Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'qwenResult' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:55:05.840Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:55:06.845Z] Validating nodejs source
[debug] [2024-11-12T02:55:07.430Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:55:07.430Z] Building nodejs source
[debug] [2024-11-12T02:55:07.430Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:55:07.435Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:55:07.436Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8746

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:131
      const [qwenResult, llamaResult, plantIDResult] = await Promise.allSettled(
      ^^^^^

SyntaxError: Unexpected token 'const'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:55:07.699Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token 'const'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:55:08.345Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:55:09.347Z] Validating nodejs source
[debug] [2024-11-12T02:55:09.983Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:55:09.984Z] Building nodejs source
[debug] [2024-11-12T02:55:09.984Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:55:09.986Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:55:09.988Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8360

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:145
      const [qwenResult, llamaResult] = await Promise.allSettled([
             ^

SyntaxError: Identifier 'qwenResult' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:55:10.147Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'qwenResult' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:55:10.797Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:55:11.799Z] Validating nodejs source
[debug] [2024-11-12T02:55:12.361Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:55:12.361Z] Building nodejs source
[debug] [2024-11-12T02:55:12.361Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:55:12.362Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:55:12.363Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8632

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:145
      const [qwenResult, llamaResult] = await Promise.allSettled([
             ^

SyntaxError: Identifier 'qwenResult' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:55:12.590Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'qwenResult' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:55:19.839Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:55:20.841Z] Validating nodejs source
[debug] [2024-11-12T02:55:21.386Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:55:21.386Z] Building nodejs source
[debug] [2024-11-12T02:55:21.386Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:55:21.388Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:55:21.388Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8263

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:143
      const [qwenResult, llamaResult] = await Promise.allSettled([
             ^

SyntaxError: Identifier 'qwenResult' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T02:55:21.543Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'qwenResult' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T02:55:26.098Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:55:27.104Z] Validating nodejs source
[debug] [2024-11-12T02:55:27.634Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:55:27.634Z] Building nodejs source
[debug] [2024-11-12T02:55:27.634Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:55:27.635Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:55:27.636Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8433

[debug] [2024-11-12T02:55:28.190Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:55:32.886Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:55:33.891Z] Validating nodejs source
[debug] [2024-11-12T02:55:34.470Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:55:34.470Z] Building nodejs source
[debug] [2024-11-12T02:55:34.470Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:55:34.472Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:55:34.473Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8299

[debug] [2024-11-12T02:55:34.999Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:55:41.940Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:55:42.943Z] Validating nodejs source
[debug] [2024-11-12T02:55:43.564Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:55:43.564Z] Building nodejs source
[debug] [2024-11-12T02:55:43.564Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:55:43.565Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:55:43.566Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8580

[debug] [2024-11-12T02:55:44.899Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:55:46.156Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:55:47.159Z] Validating nodejs source
[debug] [2024-11-12T02:55:47.913Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:55:47.919Z] Building nodejs source
[debug] [2024-11-12T02:55:47.919Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:55:47.930Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:55:47.932Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8762

[debug] [2024-11-12T02:55:48.616Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:55:49.147Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T02:55:50.148Z] Validating nodejs source
[debug] [2024-11-12T02:55:50.812Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:55:50.812Z] Building nodejs source
[debug] [2024-11-12T02:55:50.812Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:55:50.813Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:55:50.813Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8908

[debug] [2024-11-12T02:55:51.218Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:55:56.503Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:55:56.502Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:55:56.504Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T02:55:56.502Z"],"workRunningCount":1}
[debug] [2024-11-12T02:55:56.504Z] Accepted request POST /agrilens-web/us-central1/app/analyze/ --> us-central1-app
[debug] [2024-11-12T02:55:56.509Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T02:55:56.510Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/"}}
[debug] [2024-11-12T02:55:56.510Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:55:56.514Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T02:55:56.515Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T02:55:57.578Z] [runtime-status] [615] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:55:57.578Z] [runtime-status] [615] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:55:57.578Z] [runtime-status] [615] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T02:55:57.579Z] [runtime-status] [615] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:55:57.677Z] [runtime-status] [615] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T02:55:57.678Z] [runtime-status] [615] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T02:55:57.678Z] [runtime-status] [615] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:55:57.681Z] [runtime-status] [615] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T02:55:57.683Z] [runtime-status] [615] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T02:55:57.683Z] [runtime-status] [615] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T02:55:57.705Z] [runtime-status] [615] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T02:55:57.852Z] [runtime-status] [615] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T02:55:57.852Z] [runtime-status] [615] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_ecabea1af2c1f517.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [615] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_ecabea1af2c1f517.sock"}}
[debug] [2024-11-12T02:55:57.941Z] [worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: IDLE"}}
[debug] [2024-11-12T02:55:57.941Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T02:55:57.942Z] [worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [] {"user":"requestedInsights:  []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  []"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731380157951.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731380157951.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731380157951.jpg&uploadType=resumable&upload_id=AHmUCY2cuONA6wrJYSKXDorBA2YzgURJ-Wazp5ZnnHZbfQzaXNQhb2AJweMXFpAHXQ5Fimzm5d9B2pBtpBu9QLvywP298vRPhB0z05j_iAnrxBMk"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731380157951.jpg&uploadType=resumable&upload_id=AHmUCY2cuONA6wrJYSKXDorBA2YzgURJ-Wazp5ZnnHZbfQzaXNQhb2AJweMXFpAHXQ5Fimzm5d9B2pBtpBu9QLvywP298vRPhB0z05j_iAnrxBMk\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731380157951.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731380157951.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731380157951.jpg {"user":">>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731380157951.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>> 6. publicUrl for the uploaded Image to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731380157951.jpg"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731380157951.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731380157951.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731380157951.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T02:56:04.632Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 6690.615542ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 6690.615542ms"}}
[debug] [2024-11-12T02:56:04.632Z] [worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: IDLE"}}
[debug] [2024-11-12T02:56:04.632Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T02:56:04.632Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T02:56:04.632Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T02:56:39.716Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:56:40.723Z] Validating nodejs source
[debug] [2024-11-12T02:56:41.327Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:56:41.327Z] Building nodejs source
[debug] [2024-11-12T02:56:41.327Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:56:41.329Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:56:41.330Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8164

[debug] [2024-11-12T02:56:41.901Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:56:41.910Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T02:56:41.910Z] [worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: FINISHING"}}
[debug] [2024-11-12T02:56:41.921Z] [worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: exited"}}
[debug] [2024-11-12T02:56:41.921Z] [worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-0c1b346a-f584-488f-b725-5b255bc46615]: FINISHED"}}
[debug] [2024-11-12T02:56:47.494Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:56:48.496Z] Validating nodejs source
[debug] [2024-11-12T02:56:49.129Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:56:49.129Z] Building nodejs source
[debug] [2024-11-12T02:56:49.129Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:56:49.130Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:56:49.131Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8293

[debug] [2024-11-12T02:56:49.686Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:56:49.837Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:56:50.839Z] Validating nodejs source
[debug] [2024-11-12T02:56:51.518Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:56:51.518Z] Building nodejs source
[debug] [2024-11-12T02:56:51.518Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:56:51.520Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:56:51.521Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8176

[debug] [2024-11-12T02:56:51.884Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:56:52.734Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:56:53.735Z] Validating nodejs source
[debug] [2024-11-12T02:56:54.209Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:56:54.209Z] Building nodejs source
[debug] [2024-11-12T02:56:54.209Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:56:54.210Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:56:54.211Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8348

[debug] [2024-11-12T02:56:54.592Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:57:14.409Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:57:15.414Z] Validating nodejs source
[debug] [2024-11-12T02:57:16.035Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:57:16.036Z] Building nodejs source
[debug] [2024-11-12T02:57:16.036Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:57:16.037Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:57:16.039Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8477

[debug] [2024-11-12T02:57:16.601Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:57:22.104Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:57:23.109Z] Validating nodejs source
[debug] [2024-11-12T02:57:23.723Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:57:23.723Z] Building nodejs source
[debug] [2024-11-12T02:57:23.723Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:57:23.724Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:57:23.725Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8635

[debug] [2024-11-12T02:57:24.422Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:57:24.522Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:57:25.524Z] Validating nodejs source
[debug] [2024-11-12T02:57:26.572Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:57:26.572Z] Building nodejs source
[debug] [2024-11-12T02:57:26.572Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:57:26.579Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:57:26.580Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8141

[debug] [2024-11-12T02:57:27.220Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:57:27.583Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:57:28.584Z] Validating nodejs source
[debug] [2024-11-12T02:57:29.111Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:57:29.111Z] Building nodejs source
[debug] [2024-11-12T02:57:29.111Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:57:29.112Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:57:29.113Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8851

[debug] [2024-11-12T02:57:29.313Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:57:29.494Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:57:30.314Z] Validating nodejs source
[debug] [2024-11-12T02:57:30.869Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:57:30.870Z] Building nodejs source
[debug] [2024-11-12T02:57:30.870Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:57:30.872Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:57:30.873Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8893

[debug] [2024-11-12T02:57:31.238Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:57:32.588Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:57:33.589Z] Validating nodejs source
[debug] [2024-11-12T02:57:34.130Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:57:34.130Z] Building nodejs source
[debug] [2024-11-12T02:57:34.130Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:57:34.133Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:57:34.134Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8175

[debug] [2024-11-12T02:57:34.504Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:57:37.362Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:57:38.364Z] Validating nodejs source
[debug] [2024-11-12T02:57:38.842Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:57:38.842Z] Building nodejs source
[debug] [2024-11-12T02:57:38.842Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:57:38.843Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:57:38.843Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8777

[debug] [2024-11-12T02:57:39.246Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:57:40.559Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:57:41.561Z] Validating nodejs source
[debug] [2024-11-12T02:57:42.054Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:57:42.054Z] Building nodejs source
[debug] [2024-11-12T02:57:42.054Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:57:42.055Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:57:42.056Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8446

[debug] [2024-11-12T02:57:42.451Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:57:56.204Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:57:57.210Z] Validating nodejs source
[debug] [2024-11-12T02:57:57.834Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:57:57.834Z] Building nodejs source
[debug] [2024-11-12T02:57:57.834Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:57:57.836Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:57:57.838Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:57:57.922Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8173

[debug] [2024-11-12T02:57:58.647Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:57:58.924Z] Validating nodejs source
[debug] [2024-11-12T02:57:59.579Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:57:59.579Z] Building nodejs source
[debug] [2024-11-12T02:57:59.579Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:57:59.580Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:57:59.580Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8095

[debug] [2024-11-12T02:58:00.047Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:58:03.028Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:58:04.030Z] Validating nodejs source
[debug] [2024-11-12T02:58:04.674Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:58:04.674Z] Building nodejs source
[debug] [2024-11-12T02:58:04.674Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:58:04.677Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:58:04.678Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8079

[debug] [2024-11-12T02:58:05.244Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:58:07.605Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T02:58:08.607Z] Validating nodejs source
[debug] [2024-11-12T02:58:09.612Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:58:09.612Z] Building nodejs source
[debug] [2024-11-12T02:58:09.612Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:58:09.615Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:58:09.616Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T02:58:09.617Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8642

[debug] [2024-11-12T02:58:10.010Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T02:58:10.618Z] Validating nodejs source
[debug] [2024-11-12T02:58:11.207Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T02:58:11.207Z] Building nodejs source
[debug] [2024-11-12T02:58:11.207Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T02:58:11.207Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T02:58:11.208Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8420

[debug] [2024-11-12T02:58:11.696Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:01:01.766Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:01:01.763Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:01:01.771Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:01:01.763Z"],"workRunningCount":1}
[debug] [2024-11-12T03:01:01.772Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:01:01.881Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:01:01.883Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:01:01.884Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:01:01.897Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T03:01:01.904Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T03:01:03.736Z] [runtime-status] [2393] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:01:03.737Z] [runtime-status] [2393] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:01:03.737Z] [runtime-status] [2393] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T03:01:03.738Z] [runtime-status] [2393] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:01:03.969Z] [runtime-status] [2393] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T03:01:03.969Z] [runtime-status] [2393] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T03:01:03.971Z] [runtime-status] [2393] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:01:03.973Z] [runtime-status] [2393] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:01:03.975Z] [runtime-status] [2393] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:01:03.975Z] [runtime-status] [2393] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T03:01:04.012Z] [runtime-status] [2393] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T03:01:04.292Z] [runtime-status] [2393] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T03:01:04.292Z] [runtime-status] [2393] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_014c9c0326f85e2c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [2393] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_014c9c0326f85e2c.sock"}}
[debug] [2024-11-12T03:01:04.370Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE"}}
[debug] [2024-11-12T03:01:04.371Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:01:04.372Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY"}}
[debug] [2024-11-12T03:01:04.986Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 613.661792ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 613.661792ms"}}
[debug] [2024-11-12T03:01:04.986Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE"}}
[debug] [2024-11-12T03:01:04.986Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:01:04.986Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:01:04.987Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:01:26.750Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:01:26.654Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:01:26.993Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:01:26.654Z"],"workRunningCount":1}
[debug] [2024-11-12T03:01:26.993Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:01:27.173Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:01:27.192Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:01:27.193Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:01:27.194Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY"}}
[debug] [2024-11-12T03:01:27.346Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 151.975667ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 151.975667ms"}}
[debug] [2024-11-12T03:01:27.364Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE"}}
[debug] [2024-11-12T03:01:27.370Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:01:27.372Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:01:27.376Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:02:51.487Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:02:51.486Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:02:51.489Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:02:51.486Z"],"workRunningCount":1}
[debug] [2024-11-12T03:02:51.500Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:02:51.546Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:02:51.549Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:02:51.550Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:02:51.555Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY"}}
[debug] [2024-11-12T03:02:51.750Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 196.731708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 196.731708ms"}}
[debug] [2024-11-12T03:02:51.751Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE"}}
[debug] [2024-11-12T03:02:51.751Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:02:51.751Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:02:51.752Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:02:54.740Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:02:54.734Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:02:54.743Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:02:54.734Z"],"workRunningCount":1}
[debug] [2024-11-12T03:02:54.743Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:02:54.794Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:02:54.795Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:02:54.796Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:02:54.797Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY"}}
[debug] [2024-11-12T03:02:54.934Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 137.6045ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 137.6045ms"}}
[debug] [2024-11-12T03:02:54.936Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE"}}
[debug] [2024-11-12T03:02:54.936Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:02:54.936Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:02:54.936Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:03:32.258Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:03:32.258Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:03:32.260Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:03:32.258Z"],"workRunningCount":1}
[debug] [2024-11-12T03:03:32.260Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:03:32.270Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:03:32.271Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:03:32.271Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:03:32.276Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY"}}
[debug] [2024-11-12T03:03:32.358Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 83.028625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 83.028625ms"}}
[debug] [2024-11-12T03:03:32.359Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE"}}
[debug] [2024-11-12T03:03:32.359Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:03:32.359Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:03:32.360Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:03:45.074Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T03:03:45.074Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:03:45.076Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T03:03:45.074Z"],"workRunningCount":1}
[debug] [2024-11-12T03:03:45.076Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T03:03:45.088Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:03:45.089Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T03:03:45.089Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:03:45.090Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: pestDiagnosis. {"user":"Processed non-image field insights[]: pestDiagnosis.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: pestDiagnosis."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'pestDiagnosis' ] {"user":"requestedInsights:  [ 'pestDiagnosis' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'pestDiagnosis' ]"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731380625131.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731380625131.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731380625131.jpg&uploadType=resumable&upload_id=AHmUCY2UmoNbxW0p2dC9nsIA4ixx6279g_ddSfyQlcrItlSbyzIIjYzkbFhARoSal1taiVUJszXnqQRd2x4KNt1QPEQB8f8FT1E9VJYgxMfYOGhyBQ"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731380625131.jpg&uploadType=resumable&upload_id=AHmUCY2UmoNbxW0p2dC9nsIA4ixx6279g_ddSfyQlcrItlSbyzIIjYzkbFhARoSal1taiVUJszXnqQRd2x4KNt1QPEQB8f8FT1E9VJYgxMfYOGhyBQ\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731380625131.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731380625131.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731380625131.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731380625131.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731380625131.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T03:03:50.700Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 5610.522917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 5610.522917ms"}}
[debug] [2024-11-12T03:03:50.701Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: IDLE"}}
[debug] [2024-11-12T03:03:50.701Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:03:50.701Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:03:50.702Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:08:24.158Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:08:25.200Z] Validating nodejs source
[debug] [2024-11-12T03:08:25.913Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:08:25.916Z] Building nodejs source
[debug] [2024-11-12T03:08:25.917Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:08:25.949Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:08:25.952Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:08:25.957Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8798

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:69
      const scanId
            ^^^^^^

SyntaxError: Missing initializer in const declaration
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T03:08:26.239Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:08:26.958Z] Validating nodejs source
[debug] [2024-11-12T03:08:27.440Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:08:27.440Z] Building nodejs source
[debug] [2024-11-12T03:08:27.440Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:08:27.441Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:08:27.443Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8794

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:69
      const scanId
            ^^^^^^

SyntaxError: Missing initializer in const declaration
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T03:08:27.658Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:08:30.369Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:08:31.373Z] Validating nodejs source
[debug] [2024-11-12T03:08:31.945Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:08:31.945Z] Building nodejs source
[debug] [2024-11-12T03:08:31.945Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:08:31.947Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:08:31.949Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8086

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:70
      const fileName = `plant_image_${Date.now()}.jpg`; // Unique name for each scanned image.
      ^^^^^

SyntaxError: Unexpected token 'const'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T03:08:32.083Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token 'const'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:08:35.077Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:08:36.080Z] Validating nodejs source
[debug] [2024-11-12T03:08:36.801Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:08:36.801Z] Building nodejs source
[debug] [2024-11-12T03:08:36.801Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:08:36.803Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:08:36.804Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8061

[debug] [2024-11-12T03:08:37.428Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:08:37.440Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T03:08:37.440Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: FINISHING"}}
[debug] [2024-11-12T03:08:37.447Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: exited"}}
[debug] [2024-11-12T03:08:37.447Z] [worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-573edc34-8de0-435f-b9dc-5499996e69b9]: FINISHED"}}
[debug] [2024-11-12T03:08:51.448Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:08:52.453Z] Validating nodejs source
[debug] [2024-11-12T03:08:53.072Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:08:53.072Z] Building nodejs source
[debug] [2024-11-12T03:08:53.072Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:08:53.074Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:08:53.075Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8005

[debug] [2024-11-12T03:08:53.606Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:09:09.174Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:09:10.177Z] Validating nodejs source
[debug] [2024-11-12T03:09:10.845Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:09:10.845Z] Building nodejs source
[debug] [2024-11-12T03:09:10.846Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:09:10.850Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:09:10.851Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8667

[debug] [2024-11-12T03:09:11.455Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:09:21.257Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:09:22.261Z] Validating nodejs source
[debug] [2024-11-12T03:09:22.908Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:09:22.908Z] Building nodejs source
[debug] [2024-11-12T03:09:22.908Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:09:22.910Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:09:22.911Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:09:22.913Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8307

[debug] [2024-11-12T03:09:23.512Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:09:23.915Z] Validating nodejs source
[debug] [2024-11-12T03:09:24.505Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:09:24.505Z] Building nodejs source
[debug] [2024-11-12T03:09:24.505Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:09:24.505Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:09:24.506Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8530

[debug] [2024-11-12T03:09:24.883Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:09:54.808Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:09:55.814Z] Validating nodejs source
[debug] [2024-11-12T03:09:56.432Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:09:56.432Z] Building nodejs source
[debug] [2024-11-12T03:09:56.432Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:09:56.434Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:09:56.435Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8587

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js:28
          const docId = Date.now().toString();
                ^

SyntaxError: Identifier 'docId' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:12:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T03:09:57.113Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'docId' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:09:57.442Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:09:58.444Z] Validating nodejs source
[debug] [2024-11-12T03:09:58.954Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:09:58.954Z] Building nodejs source
[debug] [2024-11-12T03:09:58.954Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:09:58.955Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:09:58.955Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8244

[debug] [2024-11-12T03:09:59.347Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:10:01.074Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:10:02.078Z] Validating nodejs source
[debug] [2024-11-12T03:10:02.625Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:10:02.625Z] Building nodejs source
[debug] [2024-11-12T03:10:02.625Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:10:02.627Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:10:02.628Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8160

[debug] [2024-11-12T03:10:03.101Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:11:10.440Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:11:11.468Z] Validating nodejs source
[debug] [2024-11-12T03:11:12.157Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:11:12.157Z] Building nodejs source
[debug] [2024-11-12T03:11:12.157Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:11:12.159Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:11:12.160Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8877

[debug] [2024-11-12T03:11:12.789Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:11:19.943Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:11:20.947Z] Validating nodejs source
[debug] [2024-11-12T03:11:21.567Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:11:21.568Z] Building nodejs source
[debug] [2024-11-12T03:11:21.568Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:11:21.572Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:11:21.573Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8084

[debug] [2024-11-12T03:11:22.126Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:11:24.706Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:11:25.713Z] Validating nodejs source
[debug] [2024-11-12T03:11:26.280Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:11:26.280Z] Building nodejs source
[debug] [2024-11-12T03:11:26.280Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:11:26.282Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:11:26.283Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8902

[debug] [2024-11-12T03:11:26.706Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:11:27.795Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:11:28.799Z] Validating nodejs source
[debug] [2024-11-12T03:11:29.296Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:11:29.296Z] Building nodejs source
[debug] [2024-11-12T03:11:29.296Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:11:29.297Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:11:29.297Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8733

[debug] [2024-11-12T03:11:29.660Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:11:48.693Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:11:49.696Z] Validating nodejs source
[debug] [2024-11-12T03:11:50.663Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:11:50.663Z] Building nodejs source
[debug] [2024-11-12T03:11:50.663Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:11:50.665Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:11:50.667Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8611

[debug] [2024-11-12T03:11:51.225Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:12:10.800Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:12:11.803Z] Validating nodejs source
[debug] [2024-11-12T03:12:12.467Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:12:12.467Z] Building nodejs source
[debug] [2024-11-12T03:12:12.467Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:12:12.469Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:12:12.470Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:12:12.472Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8110

[debug] [2024-11-12T03:12:13.068Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:12:13.474Z] Validating nodejs source
[debug] [2024-11-12T03:12:13.983Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:12:13.983Z] Building nodejs source
[debug] [2024-11-12T03:12:13.983Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:12:13.984Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:12:13.984Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8853

[debug] [2024-11-12T03:12:14.364Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:12:17.218Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:12:18.220Z] Validating nodejs source
[debug] [2024-11-12T03:12:18.729Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:12:18.729Z] Building nodejs source
[debug] [2024-11-12T03:12:18.729Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:12:18.730Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:12:18.731Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8472

[debug] [2024-11-12T03:12:19.117Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:12:24.086Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:12:25.090Z] Validating nodejs source
[debug] [2024-11-12T03:12:25.616Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:12:25.617Z] Building nodejs source
[debug] [2024-11-12T03:12:25.617Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:12:25.618Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:12:25.619Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8033

[debug] [2024-11-12T03:12:25.996Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:12:27.638Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:12:28.640Z] Validating nodejs source
[debug] [2024-11-12T03:12:29.137Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:12:29.138Z] Building nodejs source
[debug] [2024-11-12T03:12:29.138Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:12:29.141Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:12:29.142Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:12:29.142Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8217

[debug] [2024-11-12T03:12:29.440Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:12:29.602Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:12:30.442Z] Validating nodejs source
[debug] [2024-11-12T03:12:30.981Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:12:30.981Z] Building nodejs source
[debug] [2024-11-12T03:12:30.981Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:12:30.982Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:12:30.983Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8994

[debug] [2024-11-12T03:12:31.375Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:12:39.363Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T03:12:39.363Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:12:39.364Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze/-2024-11-12T03:12:39.363Z"],"workRunningCount":1}
[debug] [2024-11-12T03:12:39.364Z] Accepted request POST /agrilens-web/us-central1/app/analyze/ --> us-central1-app
[debug] [2024-11-12T03:12:39.372Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:12:39.372Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze/, mapping to path=/analyze/"}}
[debug] [2024-11-12T03:12:39.373Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:12:39.377Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T03:12:39.377Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T03:12:40.559Z] [runtime-status] [6161] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:12:40.559Z] [runtime-status] [6161] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:12:40.560Z] [runtime-status] [6161] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T03:12:40.560Z] [runtime-status] [6161] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:12:40.846Z] [runtime-status] [6161] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T03:12:40.847Z] [runtime-status] [6161] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T03:12:40.847Z] [runtime-status] [6161] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:12:40.851Z] [runtime-status] [6161] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:12:40.852Z] [runtime-status] [6161] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:12:40.853Z] [runtime-status] [6161] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T03:12:40.896Z] [runtime-status] [6161] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T03:12:41.135Z] [runtime-status] [6161] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T03:12:41.135Z] [runtime-status] [6161] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_407b5a3c9e9315e3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [6161] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_407b5a3c9e9315e3.sock"}}
[debug] [2024-11-12T03:12:41.203Z] [worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: IDLE"}}
[debug] [2024-11-12T03:12:41.204Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:12:41.204Z] [worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [] {"user":"requestedInsights:  []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  []"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731381161214.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731381161214.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731381161214.jpg&uploadType=resumable&upload_id=AHmUCY2PDsAafM8LRzBYJVWPvQ0uTp6j7YMutTDATVTBIgmmYoA7_Hz1grgExXxgd2p9D5lT081Sqg0bHulYdVuOs1mcddL-8pzY27e0b9plVdV5Xw"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731381161214.jpg&uploadType=resumable&upload_id=AHmUCY2PDsAafM8LRzBYJVWPvQ0uTp6j7YMutTDATVTBIgmmYoA7_Hz1grgExXxgd2p9D5lT081Sqg0bHulYdVuOs1mcddL-8pzY27e0b9plVdV5Xw\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731381161214.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731381161214.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731381161214 {"user":">>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731381161214","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731381161214"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731381161214.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731381161214.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731381161214.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T03:12:46.849Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 5645.378375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 5645.378375ms"}}
[debug] [2024-11-12T03:12:46.850Z] [worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: IDLE"}}
[debug] [2024-11-12T03:12:46.850Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:12:46.850Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:12:46.850Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:14:13.639Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:14:14.645Z] Validating nodejs source
[debug] [2024-11-12T03:14:15.322Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:14:15.322Z] Building nodejs source
[debug] [2024-11-12T03:14:15.322Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:14:15.324Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:14:15.326Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:14:15.328Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8801

[debug] [2024-11-12T03:14:15.994Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:14:16.004Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T03:14:16.004Z] [worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: FINISHING"}}
[debug] [2024-11-12T03:14:16.020Z] [worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: exited"}}
[debug] [2024-11-12T03:14:16.020Z] [worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-943108fc-d4bf-41ee-b4ea-4102464056d9]: FINISHED"}}
[debug] [2024-11-12T03:14:16.132Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:14:17.134Z] Validating nodejs source
[debug] [2024-11-12T03:14:17.780Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:14:17.780Z] Building nodejs source
[debug] [2024-11-12T03:14:17.780Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:14:17.783Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:14:17.784Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8502

[debug] [2024-11-12T03:14:18.152Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:16:37.611Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T03:16:37.610Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:16:37.612Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T03:16:37.610Z"],"workRunningCount":1}
[debug] [2024-11-12T03:16:37.612Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T03:16:37.618Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:16:37.619Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T03:16:37.619Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:16:37.639Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T03:16:37.639Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T03:16:38.701Z] [runtime-status] [7322] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:16:38.702Z] [runtime-status] [7322] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:16:38.703Z] [runtime-status] [7322] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T03:16:38.703Z] [runtime-status] [7322] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:16:38.883Z] [runtime-status] [7322] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T03:16:38.884Z] [runtime-status] [7322] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T03:16:38.884Z] [runtime-status] [7322] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:16:38.888Z] [runtime-status] [7322] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:16:38.889Z] [runtime-status] [7322] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:16:38.890Z] [runtime-status] [7322] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T03:16:38.922Z] [runtime-status] [7322] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T03:16:39.246Z] [runtime-status] [7322] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T03:16:39.246Z] [runtime-status] [7322] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_12fd493d111011f9.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [7322] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_12fd493d111011f9.sock"}}
[debug] [2024-11-12T03:16:39.268Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:16:39.268Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:16:39.268Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: pestDiagnosis. {"user":"Processed non-image field insights[]: pestDiagnosis.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: pestDiagnosis."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'pestDiagnosis' ] {"user":"requestedInsights:  [ 'pestDiagnosis' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'pestDiagnosis' ]"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731381399279.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731381399279.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731381399279.jpg&uploadType=resumable&upload_id=AHmUCY1iCJFUPBcDpBbWBk_rqfiS_wjhcX1zHhTYg84ogkAA9mtic6pzzkk7Oj64Q7m9YTI1LWhjJBc-GVKsL2ze36nBNTA0ht-ae8R_F4lKEoRYHA"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731381399279.jpg&uploadType=resumable&upload_id=AHmUCY1iCJFUPBcDpBbWBk_rqfiS_wjhcX1zHhTYg84ogkAA9mtic6pzzkk7Oj64Q7m9YTI1LWhjJBc-GVKsL2ze36nBNTA0ht-ae8R_F4lKEoRYHA\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731381399279.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731381399279.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731381399279 {"user":">>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731381399279","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731381399279"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731381399279.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731381399279.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731381399279.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T03:16:44.930Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 5661.539833ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 5661.539833ms"}}
[debug] [2024-11-12T03:16:44.930Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:16:44.930Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:16:44.930Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:16:44.930Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:32.983Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:32.981Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:32.986Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:32.981Z"],"workRunningCount":1}
[debug] [2024-11-12T03:18:32.987Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:18:33.010Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:18:33.012Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:18:33.012Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:18:33.014Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:18:33.158Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 144.78875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 144.78875ms"}}
[debug] [2024-11-12T03:18:33.160Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:18:33.160Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:18:33.160Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:18:33.161Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:33.656Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:33.656Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:33.657Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:33.656Z"],"workRunningCount":1}
[debug] [2024-11-12T03:18:33.657Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:18:33.658Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:18:33.658Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:18:33.658Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:18:33.659Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:18:33.715Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 56.496ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 56.496ms"}}
[debug] [2024-11-12T03:18:33.717Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:18:33.717Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:18:33.718Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:18:33.718Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:42.769Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:42.768Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:42.771Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:42.768Z"],"workRunningCount":1}
[debug] [2024-11-12T03:18:42.771Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:18:42.777Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:18:42.777Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:18:42.778Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:18:42.791Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:18:42.884Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 93.435459ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 93.435459ms"}}
[debug] [2024-11-12T03:18:42.885Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:18:42.885Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:18:42.885Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:18:42.885Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:44.938Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:44.937Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:44.948Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:44.937Z"],"workRunningCount":1}
[debug] [2024-11-12T03:18:44.949Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:18:44.962Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:18:44.964Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:18:44.964Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:18:44.966Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:18:45.094Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 128.3445ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 128.3445ms"}}
[debug] [2024-11-12T03:18:45.095Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:18:45.095Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:18:45.095Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:18:45.095Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:53.325Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:53.324Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:53.343Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:53.324Z"],"workRunningCount":1}
[debug] [2024-11-12T03:18:53.343Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:18:53.348Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:18:53.348Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:18:53.348Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:18:53.349Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:18:53.417Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 69.072916ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 69.072916ms"}}
[debug] [2024-11-12T03:18:53.418Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:18:53.419Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:18:53.419Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:18:53.419Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:54.598Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:54.598Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:18:54.599Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:18:54.598Z"],"workRunningCount":1}
[debug] [2024-11-12T03:18:54.599Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:18:54.603Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:18:54.604Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:18:54.604Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:18:54.604Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:18:54.663Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 58.914292ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 58.914292ms"}}
[debug] [2024-11-12T03:18:54.663Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:18:54.663Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:18:54.664Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:18:54.664Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:19:32.308Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:19:32.308Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:19:32.309Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:19:32.308Z"],"workRunningCount":1}
[debug] [2024-11-12T03:19:32.309Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:19:32.313Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:19:32.314Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:19:32.314Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:19:32.314Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:19:32.379Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 65.181375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 65.181375ms"}}
[debug] [2024-11-12T03:19:32.380Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:19:32.381Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:19:32.381Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:19:32.381Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:19:37.974Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:19:37.973Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:19:37.976Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:19:37.973Z"],"workRunningCount":1}
[debug] [2024-11-12T03:19:37.976Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:19:37.983Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:19:37.984Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:19:37.984Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:19:37.987Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:19:38.066Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 81.85425ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 81.85425ms"}}
[debug] [2024-11-12T03:19:38.067Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:19:38.067Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:19:38.068Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:19:38.068Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:04.578Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:04.578Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:04.580Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:04.578Z"],"workRunningCount":1}
[debug] [2024-11-12T03:20:04.586Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:20:04.598Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:20:04.600Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:20:04.600Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:20:04.603Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:20:04.706Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 102.927708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 102.927708ms"}}
[debug] [2024-11-12T03:20:04.707Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:20:04.707Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:20:04.707Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:20:04.707Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:09.209Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:09.208Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:09.210Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:09.208Z"],"workRunningCount":1}
[debug] [2024-11-12T03:20:09.210Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:20:09.214Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:20:09.215Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:20:09.215Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:20:09.216Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:20:09.310Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 93.61875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 93.61875ms"}}
[debug] [2024-11-12T03:20:09.313Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:20:09.313Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:20:09.314Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:20:09.314Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:13.140Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:13.139Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:13.141Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:13.139Z"],"workRunningCount":1}
[debug] [2024-11-12T03:20:13.141Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:20:13.145Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:20:13.145Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:20:13.145Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:20:13.146Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:20:13.198Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 52.420917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 52.420917ms"}}
[debug] [2024-11-12T03:20:13.199Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:20:13.199Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:20:13.199Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:20:13.200Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:14.970Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:14.970Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:14.971Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:14.970Z"],"workRunningCount":1}
[debug] [2024-11-12T03:20:14.971Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:20:14.975Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:20:14.975Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:20:14.975Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:20:14.976Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:20:15.047Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 71.483458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 71.483458ms"}}
[debug] [2024-11-12T03:20:15.048Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:20:15.049Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:20:15.049Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:20:15.049Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:16.268Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:16.268Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:16.268Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:16.268Z"],"workRunningCount":1}
[debug] [2024-11-12T03:20:16.268Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:20:16.270Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:20:16.271Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:20:16.271Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:20:16.271Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:20:16.327Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 56.408083ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 56.408083ms"}}
[debug] [2024-11-12T03:20:16.328Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:20:16.328Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:20:16.329Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:20:16.329Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:18.598Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:18.598Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:18.598Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:18.598Z"],"workRunningCount":1}
[debug] [2024-11-12T03:20:18.598Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:20:18.601Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:20:18.601Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:20:18.601Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:20:18.602Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:20:18.687Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 85.486334ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 85.486334ms"}}
[debug] [2024-11-12T03:20:18.688Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:20:18.688Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:20:18.688Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:20:18.688Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:30.871Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:30.870Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:20:30.875Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:20:30.870Z"],"workRunningCount":1}
[debug] [2024-11-12T03:20:30.876Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:20:30.889Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:20:30.918Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:20:30.926Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:20:30.936Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:20:31.069Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 133.52675ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 133.52675ms"}}
[debug] [2024-11-12T03:20:31.070Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:20:31.070Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:20:31.071Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:20:31.071Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:21:21.297Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:21:21.297Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:21:21.299Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:21:21.297Z"],"workRunningCount":1}
[debug] [2024-11-12T03:21:21.300Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:21:21.307Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:21:21.308Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:21:21.308Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:21:21.310Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:21:21.384Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 75.14725ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 75.14725ms"}}
[debug] [2024-11-12T03:21:21.386Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:21:21.387Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:21:21.387Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:21:21.387Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:22:02.555Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:22:02.555Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:22:02.558Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:22:02.555Z"],"workRunningCount":1}
[debug] [2024-11-12T03:22:02.558Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:22:02.564Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:22:02.565Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:22:02.565Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:22:02.566Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:22:02.658Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 92.117417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 92.117417ms"}}
[debug] [2024-11-12T03:22:02.659Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:22:02.660Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:22:02.660Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:22:02.660Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:22:18.922Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:22:18.921Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:22:18.931Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:22:18.921Z"],"workRunningCount":1}
[debug] [2024-11-12T03:22:18.932Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:22:18.952Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:22:18.952Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:22:18.952Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:22:18.953Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:22:19.065Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 111.931625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 111.931625ms"}}
[debug] [2024-11-12T03:22:19.066Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:22:19.066Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:22:19.066Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:22:19.066Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:22:20.733Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:22:20.733Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:22:20.733Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:22:20.733Z"],"workRunningCount":1}
[debug] [2024-11-12T03:22:20.733Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:22:20.739Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:22:20.740Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:22:20.740Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:22:20.741Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:22:20.804Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 63.321209ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 63.321209ms"}}
[debug] [2024-11-12T03:22:20.804Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:22:20.805Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:22:20.805Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:22:20.805Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:18.203Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:18.201Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:18.206Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:18.201Z"],"workRunningCount":1}
[debug] [2024-11-12T03:23:18.206Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:23:18.216Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:23:18.216Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:23:18.220Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:23:18.221Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:23:18.365Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 146.033834ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 146.033834ms"}}
[debug] [2024-11-12T03:23:18.372Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:23:18.373Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:23:18.373Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:23:18.373Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:47.392Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:47.391Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:47.412Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:47.391Z"],"workRunningCount":1}
[debug] [2024-11-12T03:23:47.428Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:23:47.436Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:23:47.436Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:23:47.437Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:23:47.438Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:23:47.543Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 105.818833ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 105.818833ms"}}
[debug] [2024-11-12T03:23:47.544Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:23:47.545Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:23:47.545Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:23:47.545Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:47.547Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:47.547Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:47.547Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:47.547Z"],"workRunningCount":1}
[debug] [2024-11-12T03:23:47.547Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:23:47.549Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:23:47.550Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:23:47.550Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:23:47.550Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:23:47.598Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 48.209375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 48.209375ms"}}
[debug] [2024-11-12T03:23:47.599Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:23:47.599Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:23:47.599Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:23:47.599Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:47.600Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:47.600Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:47.601Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:47.600Z"],"workRunningCount":1}
[debug] [2024-11-12T03:23:47.601Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:23:47.606Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:23:47.606Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:23:47.606Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:23:47.607Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:23:47.649Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 43.481875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 43.481875ms"}}
[debug] [2024-11-12T03:23:47.654Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:23:47.655Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:23:47.657Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:23:47.657Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:51.817Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:51.816Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:51.821Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:51.816Z"],"workRunningCount":1}
[debug] [2024-11-12T03:23:51.821Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:23:51.829Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:23:51.829Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:23:51.829Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:23:51.830Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:23:51.925Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 94.560958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 94.560958ms"}}
[debug] [2024-11-12T03:23:51.925Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:23:51.926Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:23:51.926Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:23:51.926Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:58.983Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:58.982Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:23:58.984Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:23:58.982Z"],"workRunningCount":1}
[debug] [2024-11-12T03:23:58.984Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:23:58.988Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:23:58.988Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:23:58.989Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:23:58.989Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:23:59.085Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 95.705209ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 95.705209ms"}}
[debug] [2024-11-12T03:23:59.085Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:23:59.085Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:23:59.086Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:23:59.086Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:24:00.924Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:24:00.923Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:24:00.927Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:24:00.923Z"],"workRunningCount":1}
[debug] [2024-11-12T03:24:00.928Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:24:00.936Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:24:00.936Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:24:00.937Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:24:00.938Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:24:00.993Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 55.048708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 55.048708ms"}}
[debug] [2024-11-12T03:24:00.994Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:24:00.994Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:24:00.994Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:24:00.994Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:24:01.851Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:24:01.851Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:24:01.851Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:24:01.851Z"],"workRunningCount":1}
[debug] [2024-11-12T03:24:01.851Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:24:01.854Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:24:01.854Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:24:01.854Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:24:01.855Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:24:01.898Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 43.923125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 43.923125ms"}}
[debug] [2024-11-12T03:24:01.899Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:24:01.899Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:24:01.900Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:24:01.900Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:24:05.883Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:24:05.882Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:24:05.885Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:24:05.882Z"],"workRunningCount":1}
[debug] [2024-11-12T03:24:05.885Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:24:05.890Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:24:05.890Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:24:05.890Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:24:05.891Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:24:05.987Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 95.613166ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 95.613166ms"}}
[debug] [2024-11-12T03:24:05.987Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:24:05.987Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:24:05.987Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:24:05.988Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:24:07.344Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:24:07.344Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:24:07.344Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:24:07.344Z"],"workRunningCount":1}
[debug] [2024-11-12T03:24:07.344Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:24:07.346Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:24:07.347Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:24:07.347Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:24:07.347Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: BUSY"}}
[debug] [2024-11-12T03:24:07.405Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 57.486292ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 57.486292ms"}}
[debug] [2024-11-12T03:24:07.405Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: IDLE"}}
[debug] [2024-11-12T03:24:07.406Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:24:07.406Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:24:07.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:27:28.358Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:27:29.391Z] Validating nodejs source
[debug] [2024-11-12T03:27:30.306Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:27:30.307Z] Building nodejs source
[debug] [2024-11-12T03:27:30.308Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:27:30.320Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:27:30.325Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8670

[debug] [2024-11-12T03:27:30.991Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:27:31.005Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T03:27:31.005Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: FINISHING"}}
[debug] [2024-11-12T03:27:31.010Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: exited"}}
[debug] [2024-11-12T03:27:31.010Z] [worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33cdd6e0-5e02-4a71-8d77-8f54038e1925]: FINISHED"}}
[debug] [2024-11-12T03:27:31.426Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:27:32.428Z] Validating nodejs source
[debug] [2024-11-12T03:27:32.927Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:27:32.928Z] Building nodejs source
[debug] [2024-11-12T03:27:32.928Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:27:32.929Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:27:32.930Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8381

[debug] [2024-11-12T03:27:33.303Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:27:50.046Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:27:51.050Z] Validating nodejs source
[debug] [2024-11-12T03:27:51.665Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:27:51.666Z] Building nodejs source
[debug] [2024-11-12T03:27:51.666Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:27:51.668Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:27:51.669Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:27:51.671Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8303

[debug] [2024-11-12T03:27:52.173Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:27:52.673Z] Validating nodejs source
[debug] [2024-11-12T03:27:53.165Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:27:53.165Z] Building nodejs source
[debug] [2024-11-12T03:27:53.165Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:27:53.166Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:27:53.167Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8242

[debug] [2024-11-12T03:27:53.539Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:29:19.985Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T03:29:19.985Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:29:19.987Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T03:29:19.985Z"],"workRunningCount":1}
[debug] [2024-11-12T03:29:19.987Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T03:29:20.000Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:29:20.000Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T03:29:20.001Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:29:20.006Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T03:29:20.007Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T03:29:21.052Z] [runtime-status] [11088] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:29:21.053Z] [runtime-status] [11088] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:29:21.053Z] [runtime-status] [11088] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T03:29:21.054Z] [runtime-status] [11088] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:29:21.237Z] [runtime-status] [11088] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T03:29:21.237Z] [runtime-status] [11088] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T03:29:21.237Z] [runtime-status] [11088] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:29:21.241Z] [runtime-status] [11088] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:29:21.243Z] [runtime-status] [11088] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:29:21.243Z] [runtime-status] [11088] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T03:29:21.277Z] [runtime-status] [11088] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T03:29:21.649Z] [runtime-status] [11088] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T03:29:21.652Z] [runtime-status] [11088] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_f264fef1e6d22b0e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [11088] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_f264fef1e6d22b0e.sock"}}
[debug] [2024-11-12T03:29:21.740Z] [worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: IDLE"}}
[debug] [2024-11-12T03:29:21.741Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:29:21.741Z] [worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: pestDiagnosis. {"user":"Processed non-image field insights[]: pestDiagnosis.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: pestDiagnosis."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'pestDiagnosis' ] {"user":"requestedInsights:  [ 'pestDiagnosis' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'pestDiagnosis' ]"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731382161753.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731382161753.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731382161753.jpg&uploadType=resumable&upload_id=AHmUCY1Uf1JNPGECjO2ILyNQrhe0JIFU7ynfjHFO6Qe0OyfmnNm6KVwkmVDG02u4OEai6mHfbn3fk1RePmoR0BLAXKLzGFQffheuHXsrj7_3hKNOAA"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731382161753.jpg&uploadType=resumable&upload_id=AHmUCY1Uf1JNPGECjO2ILyNQrhe0JIFU7ynfjHFO6Qe0OyfmnNm6KVwkmVDG02u4OEai6mHfbn3fk1RePmoR0BLAXKLzGFQffheuHXsrj7_3hKNOAA\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731382161753.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731382161753.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731382161753 {"user":">>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731382161753","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731382161753"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731382161753.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731382161753.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731382161753.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T03:29:28.257Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 6516.1028750000005ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 6516.1028750000005ms"}}
[debug] [2024-11-12T03:29:28.257Z] [worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: IDLE"}}
[debug] [2024-11-12T03:29:28.257Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:29:28.257Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:29:28.258Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:30:10.783Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T03:30:10.776Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:30:10.790Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T03:30:10.776Z"],"workRunningCount":1}
[debug] [2024-11-12T03:30:10.791Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T03:30:10.796Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:30:10.796Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T03:30:10.797Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:30:10.797Z] [worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: BUSY"}}
[debug] [2024-11-12T03:30:10.887Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 89.398875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 89.398875ms"}}
[debug] [2024-11-12T03:30:10.887Z] [worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: IDLE"}}
[debug] [2024-11-12T03:30:10.889Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:30:10.889Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:30:10.889Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:30:10.890Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T03:30:10.890Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:30:10.890Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T03:30:10.890Z"],"workRunningCount":1}
[debug] [2024-11-12T03:30:10.890Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T03:30:10.892Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:30:10.892Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T03:30:10.892Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:30:10.892Z] [worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: BUSY"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Hello {"user":">>>> 22. messages:  Hello","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Hello"}}
[info] >  >>>> 33. initialAnalysis:  The ear of corn in the image has a severe infestation of corn earworms, which is causing significant damage to the kernels. The health score is 30, indicating a high level of pest activity. Immediate action is required to control the infestation and prevent further damage. {"user":">>>> 33. initialAnalysis:  The ear of corn in the image has a severe infestation of corn earworms, which is causing significant damage to the kernels. The health score is 30, indicating a high level of pest activity. Immediate action is required to control the infestation and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The ear of corn in the image has a severe infestation of corn earworms, which is causing significant damage to the kernels. The health score is 30, indicating a high level of pest activity. Immediate action is required to control the infestation and prevent further damage."}}
[info] >  >>>> 44. conversationId:  1731382161753 {"user":">>>> 44. conversationId:  1731382161753","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731382161753"}}
[debug] [2024-11-12T03:30:22.142Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 11251.235584ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 11251.235584ms"}}
[debug] [2024-11-12T03:30:22.144Z] [worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: IDLE"}}
[debug] [2024-11-12T03:30:22.144Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:30:22.144Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:30:22.145Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:32:57.230Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:32:58.236Z] Validating nodejs source
[debug] [2024-11-12T03:32:59.333Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:32:59.333Z] Building nodejs source
[debug] [2024-11-12T03:32:59.333Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:32:59.335Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:32:59.338Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:32:59.343Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8383

[debug] [2024-11-12T03:32:59.969Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:32:59.980Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T03:32:59.980Z] [worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: FINISHING"}}
[debug] [2024-11-12T03:32:59.990Z] [worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: exited"}}
[debug] [2024-11-12T03:32:59.990Z] [worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a6b744ea-fff0-425f-8a9f-e4e55c20cd82]: FINISHED"}}
[debug] [2024-11-12T03:33:00.343Z] Validating nodejs source
[debug] [2024-11-12T03:33:00.935Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:33:00.935Z] Building nodejs source
[debug] [2024-11-12T03:33:00.935Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:33:00.936Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:33:00.936Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:33:00.938Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8172

[debug] [2024-11-12T03:33:01.356Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:33:01.940Z] Validating nodejs source
[debug] [2024-11-12T03:33:02.452Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:33:02.453Z] Building nodejs source
[debug] [2024-11-12T03:33:02.453Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:33:02.454Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:33:02.454Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8683

[debug] [2024-11-12T03:33:02.847Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:33:19.463Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:33:20.469Z] Validating nodejs source
[debug] [2024-11-12T03:33:21.122Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:33:21.123Z] Building nodejs source
[debug] [2024-11-12T03:33:21.123Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:33:21.124Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:33:21.125Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8675

[debug] [2024-11-12T03:33:21.776Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:33:22.637Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:33:23.640Z] Validating nodejs source
[debug] [2024-11-12T03:33:24.493Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:33:24.493Z] Building nodejs source
[debug] [2024-11-12T03:33:24.494Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:33:24.495Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:33:24.496Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8440

[debug] [2024-11-12T03:33:25.048Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:33:32.076Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:33:33.102Z] Validating nodejs source
[debug] [2024-11-12T03:33:33.655Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:33:33.655Z] Building nodejs source
[debug] [2024-11-12T03:33:33.655Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:33:33.656Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:33:33.657Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8847

[error] ReferenceError: uploadImageToFirebase is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:18)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:33:34.045Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: uploadImageToFirebase is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:33:47.110Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:33:48.123Z] Validating nodejs source
[debug] [2024-11-12T03:33:48.864Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:33:48.864Z] Building nodejs source
[debug] [2024-11-12T03:33:48.864Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:33:48.866Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:33:48.867Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8570

[error] ReferenceError: uploadFollowUpToFirebase is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:3:18)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:33:49.422Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: uploadFollowUpToFirebase is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:38:14.374Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:38:15.390Z] Validating nodejs source
[debug] [2024-11-12T03:38:16.254Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:38:16.254Z] Building nodejs source
[debug] [2024-11-12T03:38:16.254Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:38:16.256Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:38:16.257Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8599

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:2:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:38:17.003Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:38:49.211Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:38:50.214Z] Validating nodejs source
[debug] [2024-11-12T03:38:50.893Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:38:50.893Z] Building nodejs source
[debug] [2024-11-12T03:38:50.893Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:38:50.895Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:38:50.896Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:38:50.898Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8030

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:38:51.571Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:38:51.899Z] Validating nodejs source
[debug] [2024-11-12T03:38:52.422Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:38:52.422Z] Building nodejs source
[debug] [2024-11-12T03:38:52.422Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:38:52.423Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:38:52.424Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8894

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:38:52.942Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:39:05.253Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:39:06.259Z] Validating nodejs source
[debug] [2024-11-12T03:39:06.871Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:39:06.871Z] Building nodejs source
[debug] [2024-11-12T03:39:06.871Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:39:06.873Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:39:06.874Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8846

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:39:07.408Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:39:12.730Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:39:13.735Z] Validating nodejs source
[debug] [2024-11-12T03:39:14.315Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:39:14.315Z] Building nodejs source
[debug] [2024-11-12T03:39:14.315Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:39:14.317Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:39:14.318Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8834

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:39:14.836Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:39:15.326Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:39:16.329Z] Validating nodejs source
[debug] [2024-11-12T03:39:16.870Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:39:16.871Z] Building nodejs source
[debug] [2024-11-12T03:39:16.871Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:39:16.872Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:39:16.872Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8504

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:39:17.246Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:41:11.619Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:41:12.640Z] Validating nodejs source
[debug] [2024-11-12T03:41:13.537Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:41:13.538Z] Building nodejs source
[debug] [2024-11-12T03:41:13.538Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:41:13.540Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:41:13.542Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:41:13.544Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8118

[debug] [2024-11-12T03:41:14.545Z] Validating nodejs source
[debug] [2024-11-12T03:41:15.346Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:41:15.346Z] Building nodejs source
[debug] [2024-11-12T03:41:15.346Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:41:15.348Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:41:15.349Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:41:15.350Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[debug] [2024-11-12T03:41:15.351Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8991

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:41:15.870Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:41:16.352Z] Validating nodejs source
[debug] [2024-11-12T03:41:16.974Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:41:16.976Z] Building nodejs source
[debug] [2024-11-12T03:41:16.976Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:41:16.979Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:41:16.981Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8831

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:41:17.667Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:43:12.232Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:43:13.236Z] Validating nodejs source
[debug] [2024-11-12T03:43:13.973Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:43:13.973Z] Building nodejs source
[debug] [2024-11-12T03:43:13.973Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:43:13.976Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:43:13.976Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8121

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:43:14.662Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:43:43.877Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:43:44.891Z] Validating nodejs source
[debug] [2024-11-12T03:43:45.573Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:43:45.573Z] Building nodejs source
[debug] [2024-11-12T03:43:45.573Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:43:45.575Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:43:45.577Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:43:45.579Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8023

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:43:46.095Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:43:46.580Z] Validating nodejs source
[debug] [2024-11-12T03:43:47.198Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:43:47.198Z] Building nodejs source
[debug] [2024-11-12T03:43:47.198Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:43:47.199Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:43:47.200Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8771

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:43:47.589Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:44:04.157Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:44:05.163Z] Validating nodejs source
[debug] [2024-11-12T03:44:05.833Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:44:05.833Z] Building nodejs source
[debug] [2024-11-12T03:44:05.833Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:44:05.835Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:44:05.836Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8345

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:44:06.341Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:45:02.996Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:45:04.001Z] Validating nodejs source
[debug] [2024-11-12T03:45:04.630Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:45:04.631Z] Building nodejs source
[debug] [2024-11-12T03:45:04.631Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:45:04.632Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:45:04.633Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8964

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:45:05.227Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:45:16.963Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:45:17.968Z] Validating nodejs source
[debug] [2024-11-12T03:45:18.939Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:45:18.941Z] Building nodejs source
[debug] [2024-11-12T03:45:18.942Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:45:18.945Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:45:18.950Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8852

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:45:19.830Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:45:20.695Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:45:21.697Z] Validating nodejs source
[debug] [2024-11-12T03:45:22.213Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:45:22.213Z] Building nodejs source
[debug] [2024-11-12T03:45:22.213Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:45:22.215Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:45:22.216Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8096

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:45:22.576Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:45:48.603Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:45:49.663Z] Validating nodejs source
[debug] [2024-11-12T03:45:50.403Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:45:50.403Z] Building nodejs source
[debug] [2024-11-12T03:45:50.403Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:45:50.405Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:45:50.406Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8879

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:45:50.970Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:45:57.071Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:45:58.075Z] Validating nodejs source
[debug] [2024-11-12T03:45:58.649Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:45:58.649Z] Building nodejs source
[debug] [2024-11-12T03:45:58.649Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:45:58.651Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:45:58.652Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:45:58.653Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8570

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:45:59.174Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:45:59.655Z] Validating nodejs source
[debug] [2024-11-12T03:46:00.166Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:46:00.166Z] Building nodejs source
[debug] [2024-11-12T03:46:00.166Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:46:00.167Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:46:00.168Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8989

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:46:00.708Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:46:09.249Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:46:10.252Z] Validating nodejs source
[debug] [2024-11-12T03:46:10.965Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:46:10.966Z] Building nodejs source
[debug] [2024-11-12T03:46:10.966Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:46:10.968Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:46:10.969Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8123

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:46:12.117Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:46:40.057Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:46:41.061Z] Validating nodejs source
[debug] [2024-11-12T03:46:42.303Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:46:42.306Z] Building nodejs source
[debug] [2024-11-12T03:46:42.307Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:46:42.313Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:46:42.315Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8920

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:46:43.072Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:46:47.888Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:46:48.892Z] Validating nodejs source
[debug] [2024-11-12T03:46:49.508Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:46:49.509Z] Building nodejs source
[debug] [2024-11-12T03:46:49.509Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:46:49.510Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:46:49.511Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:46:49.512Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8535

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:46:50.160Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:46:50.513Z] Validating nodejs source
[debug] [2024-11-12T03:46:51.031Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:46:51.031Z] Building nodejs source
[debug] [2024-11-12T03:46:51.031Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:46:51.032Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:46:51.033Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8698

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:46:51.396Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:47:21.666Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:47:22.671Z] Validating nodejs source
[debug] [2024-11-12T03:47:23.314Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:47:23.314Z] Building nodejs source
[debug] [2024-11-12T03:47:23.314Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:47:23.316Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:47:23.317Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8868

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:47:23.860Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:47:33.512Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:47:34.516Z] Validating nodejs source
[debug] [2024-11-12T03:47:35.085Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:47:35.085Z] Building nodejs source
[debug] [2024-11-12T03:47:35.085Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:47:35.086Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:47:35.087Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8283

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:47:35.592Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:47:37.506Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:47:38.509Z] Validating nodejs source
[debug] [2024-11-12T03:47:39.002Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:47:39.003Z] Building nodejs source
[debug] [2024-11-12T03:47:39.003Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:47:39.004Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:47:39.005Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8051

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:47:39.379Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:47:40.116Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:47:41.118Z] Validating nodejs source
[debug] [2024-11-12T03:47:41.625Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:47:41.625Z] Building nodejs source
[debug] [2024-11-12T03:47:41.625Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:47:41.626Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:47:41.626Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8710

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:47:41.985Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:47:47.489Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:47:48.492Z] Validating nodejs source
[debug] [2024-11-12T03:47:49.550Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:47:49.561Z] Building nodejs source
[debug] [2024-11-12T03:47:49.561Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:47:49.596Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:47:49.598Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:47:49.600Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8379

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:47:50.567Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:47:50.601Z] Validating nodejs source
[debug] [2024-11-12T03:47:51.229Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:47:51.229Z] Building nodejs source
[debug] [2024-11-12T03:47:51.230Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:47:51.231Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:47:51.233Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8777

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:47:51.903Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:48:12.470Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:48:13.474Z] Validating nodejs source
[debug] [2024-11-12T03:48:14.101Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:48:14.101Z] Building nodejs source
[debug] [2024-11-12T03:48:14.101Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:48:14.103Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:48:14.104Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8667

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:48:14.661Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:48:34.401Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:48:35.406Z] Validating nodejs source
[debug] [2024-11-12T03:48:36.501Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:48:36.501Z] Building nodejs source
[debug] [2024-11-12T03:48:36.502Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:48:36.503Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:48:36.505Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8270

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:48:37.009Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:48:40.948Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:48:41.954Z] Validating nodejs source
[debug] [2024-11-12T03:48:42.932Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:48:42.933Z] Building nodejs source
[debug] [2024-11-12T03:48:42.934Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:48:42.936Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:48:42.937Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8667

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:48:43.804Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:48:44.188Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:48:45.190Z] Validating nodejs source
[debug] [2024-11-12T03:48:45.830Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:48:45.831Z] Building nodejs source
[debug] [2024-11-12T03:48:45.831Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:48:45.836Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:48:45.837Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:48:45.935Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8676

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:48:46.216Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:48:46.938Z] Validating nodejs source
[debug] [2024-11-12T03:48:47.553Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:48:47.553Z] Building nodejs source
[debug] [2024-11-12T03:48:47.553Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:48:47.554Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:48:47.555Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8534

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:48:47.923Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:48:51.093Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:48:52.104Z] Validating nodejs source
[debug] [2024-11-12T03:48:52.635Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:48:52.635Z] Building nodejs source
[debug] [2024-11-12T03:48:52.635Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:48:52.637Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:48:52.638Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8004

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:273
    const responseMessage
          ^^^^^^^^^^^^^^^

SyntaxError: Missing initializer in const declaration
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T03:48:52.915Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:48:57.194Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:48:58.197Z] Validating nodejs source
[debug] [2024-11-12T03:48:58.861Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:48:58.862Z] Building nodejs source
[debug] [2024-11-12T03:48:58.862Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:48:58.864Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:48:58.865Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8655

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:273
    const modelMessage
          ^^^^^^^^^^^^

SyntaxError: Missing initializer in const declaration
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T03:48:59.024Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:48:59.772Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:00.774Z] Validating nodejs source
[debug] [2024-11-12T03:49:01.294Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:01.294Z] Building nodejs source
[debug] [2024-11-12T03:49:01.295Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:01.295Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:01.296Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8657

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:01.825Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:03.011Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:04.014Z] Validating nodejs source
[debug] [2024-11-12T03:49:04.559Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:04.559Z] Building nodejs source
[debug] [2024-11-12T03:49:04.559Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:04.560Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:04.561Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8563

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:04.965Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:11.019Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:12.023Z] Validating nodejs source
[debug] [2024-11-12T03:49:12.587Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:12.588Z] Building nodejs source
[debug] [2024-11-12T03:49:12.589Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:12.592Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:12.593Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8721

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:274
    uploadFollowUpToFirebase(conversationId, "model", message);
    ^^^^^^^^^^^^^^^^^^^^^^^^

SyntaxError: Missing initializer in const declaration
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T03:49:12.792Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:14.321Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:15.323Z] Validating nodejs source
[debug] [2024-11-12T03:49:16.060Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:16.061Z] Building nodejs source
[debug] [2024-11-12T03:49:16.061Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:16.066Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:16.068Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8345

[debug] [2024-11-12T03:49:18.160Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:18.248Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:19.167Z] Validating nodejs source
[debug] [2024-11-12T03:49:20.012Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:20.014Z] Building nodejs source
[debug] [2024-11-12T03:49:20.014Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:20.017Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:20.018Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8049

[debug] [2024-11-12T03:49:20.319Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:20.536Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:21.320Z] Validating nodejs source
[debug] [2024-11-12T03:49:21.958Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:21.958Z] Building nodejs source
[debug] [2024-11-12T03:49:21.958Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:21.959Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:21.959Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8875

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:22.487Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:23.277Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:24.281Z] Validating nodejs source
[debug] [2024-11-12T03:49:24.944Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:24.944Z] Building nodejs source
[debug] [2024-11-12T03:49:24.944Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:24.947Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:24.948Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8997

[debug] [2024-11-12T03:49:25.249Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:25.512Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:26.250Z] Validating nodejs source
[debug] [2024-11-12T03:49:26.789Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:26.789Z] Building nodejs source
[debug] [2024-11-12T03:49:26.789Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:26.790Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:26.791Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8845

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:27.232Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:34.166Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:35.169Z] Validating nodejs source
[debug] [2024-11-12T03:49:35.712Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:35.712Z] Building nodejs source
[debug] [2024-11-12T03:49:35.712Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:35.714Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:35.715Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8177

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:36.083Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:36.117Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:37.119Z] Validating nodejs source
[debug] [2024-11-12T03:49:37.624Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:37.624Z] Building nodejs source
[debug] [2024-11-12T03:49:37.624Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:37.625Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:37.626Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8018

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:37.978Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:42.074Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:42.175Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:43.177Z] Validating nodejs source
[debug] [2024-11-12T03:49:43.940Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:43.941Z] Building nodejs source
[debug] [2024-11-12T03:49:43.941Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:43.943Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:43.945Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8770

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:44.387Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:48.489Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:49.566Z] Validating nodejs source
[debug] [2024-11-12T03:49:50.376Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:50.376Z] Building nodejs source
[debug] [2024-11-12T03:49:50.376Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:50.378Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:50.379Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8135

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:50.759Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:49:54.214Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:49:55.216Z] Validating nodejs source
[debug] [2024-11-12T03:49:55.833Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:49:55.833Z] Building nodejs source
[debug] [2024-11-12T03:49:55.833Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:49:55.835Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:49:55.836Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8752

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:49:56.242Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:50:04.356Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:50:05.365Z] Validating nodejs source
[debug] [2024-11-12T03:50:06.033Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:50:06.033Z] Building nodejs source
[debug] [2024-11-12T03:50:06.033Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:50:06.038Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:50:06.039Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8077

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:50:06.606Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:50:14.246Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:50:15.264Z] Validating nodejs source
[debug] [2024-11-12T03:50:15.899Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:50:15.899Z] Building nodejs source
[debug] [2024-11-12T03:50:15.899Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:50:15.901Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:50:15.902Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8517

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275
    uploadFollowUpToFirebase(conversationId, model", modelReponse);
                                             ^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T03:50:16.090Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:50:16.161Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:50:17.162Z] Validating nodejs source
[debug] [2024-11-12T03:50:17.767Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:50:17.767Z] Building nodejs source
[debug] [2024-11-12T03:50:17.767Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:50:17.768Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:50:17.769Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8867

[error] ReferenceError: router is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:4:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)

[debug] [2024-11-12T03:50:18.330Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: router is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:51:46.654Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:51:47.675Z] Validating nodejs source
[debug] [2024-11-12T03:51:48.362Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:51:48.362Z] Building nodejs source
[debug] [2024-11-12T03:51:48.362Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:51:48.364Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:51:48.365Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8889

[debug] [2024-11-12T03:51:49.300Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:51:49.322Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:51:50.303Z] Validating nodejs source
[debug] [2024-11-12T03:51:51.300Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:51:51.300Z] Building nodejs source
[debug] [2024-11-12T03:51:51.300Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:51:51.307Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:51:51.309Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8399

[debug] [2024-11-12T03:51:51.774Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:52:10.001Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:52:11.005Z] Validating nodejs source
[debug] [2024-11-12T03:52:11.599Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:52:11.599Z] Building nodejs source
[debug] [2024-11-12T03:52:11.599Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:52:11.601Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:52:11.602Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8884

[debug] [2024-11-12T03:52:12.108Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:52:13.720Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:52:14.723Z] Validating nodejs source
[debug] [2024-11-12T03:52:15.273Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:52:15.273Z] Building nodejs source
[debug] [2024-11-12T03:52:15.273Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:52:15.275Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:52:15.276Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8932

[debug] [2024-11-12T03:52:15.646Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:52:18.002Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:52:19.008Z] Validating nodejs source
[debug] [2024-11-12T03:52:19.554Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:52:19.554Z] Building nodejs source
[debug] [2024-11-12T03:52:19.554Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:52:19.556Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:52:19.556Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8861

[debug] [2024-11-12T03:52:19.928Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:52:38.953Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:52:39.958Z] Validating nodejs source
[debug] [2024-11-12T03:52:40.605Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:52:40.606Z] Building nodejs source
[debug] [2024-11-12T03:52:40.606Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:52:40.608Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:52:40.609Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8703

[debug] [2024-11-12T03:52:41.212Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:52:41.410Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:52:42.215Z] Validating nodejs source
[debug] [2024-11-12T03:52:42.707Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:52:42.707Z] Building nodejs source
[debug] [2024-11-12T03:52:42.707Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:52:42.707Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:52:42.708Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8905

[debug] [2024-11-12T03:52:43.073Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:52:48.367Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:52:48.668Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:52:49.672Z] Validating nodejs source
[debug] [2024-11-12T03:52:50.318Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:52:50.319Z] Building nodejs source
[debug] [2024-11-12T03:52:50.319Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:52:50.321Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:52:50.322Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8559

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:17
    await historyRef.set({ message, sender, timestamp:           const customerId = "OQ79MAoXE9SMin2WhUzNV5vyTm73";
                                                                 ^^^^^

SyntaxError: Unexpected token 'const'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T03:52:50.785Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token 'const'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:52:52.340Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:52:53.343Z] Validating nodejs source
[debug] [2024-11-12T03:52:53.857Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:52:53.858Z] Building nodejs source
[debug] [2024-11-12T03:52:53.858Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:52:53.859Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:52:53.860Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8469

[debug] [2024-11-12T03:52:54.327Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:53:37.592Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:53:38.631Z] Validating nodejs source
[debug] [2024-11-12T03:53:39.348Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:53:39.349Z] Building nodejs source
[debug] [2024-11-12T03:53:39.349Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:53:39.351Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:53:39.352Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8543

[debug] [2024-11-12T03:53:39.905Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:53:39.984Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:53:40.906Z] Validating nodejs source
[debug] [2024-11-12T03:53:41.390Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:53:41.390Z] Building nodejs source
[debug] [2024-11-12T03:53:41.390Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:53:41.390Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:53:41.391Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8251

[debug] [2024-11-12T03:53:41.768Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:54:10.392Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:54:11.399Z] Validating nodejs source
[debug] [2024-11-12T03:54:12.046Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:54:12.046Z] Building nodejs source
[debug] [2024-11-12T03:54:12.046Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:54:12.048Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:54:12.049Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8621

[debug] [2024-11-12T03:54:12.728Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:54:22.299Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:54:22.400Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:54:23.403Z] Validating nodejs source
[debug] [2024-11-12T03:54:24.248Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:54:24.248Z] Building nodejs source
[debug] [2024-11-12T03:54:24.248Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:54:24.250Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:54:24.251Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8764

[debug] [2024-11-12T03:54:24.962Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:54:44.359Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:54:45.363Z] Validating nodejs source
[debug] [2024-11-12T03:54:45.969Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:54:45.969Z] Building nodejs source
[debug] [2024-11-12T03:54:45.969Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:54:45.971Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:54:45.972Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8598

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:16
    await historyRef.set({ message, sender, timestamp: Date.now().toString(), { merge: true } });
                                                                              ^

SyntaxError: Unexpected token '{'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T03:54:46.513Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '{'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T03:54:47.283Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:54:48.285Z] Validating nodejs source
[debug] [2024-11-12T03:54:48.769Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:54:48.769Z] Building nodejs source
[debug] [2024-11-12T03:54:48.769Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:54:48.770Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:54:48.771Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8074

[debug] [2024-11-12T03:54:49.173Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:54:49.212Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:54:50.174Z] Validating nodejs source
[debug] [2024-11-12T03:54:50.903Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:54:50.904Z] Building nodejs source
[debug] [2024-11-12T03:54:50.904Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:54:50.908Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:54:50.910Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8914

[debug] [2024-11-12T03:54:51.471Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:54:58.900Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:54:59.903Z] Validating nodejs source
[debug] [2024-11-12T03:55:00.545Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:55:00.546Z] Building nodejs source
[debug] [2024-11-12T03:55:00.546Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:55:00.547Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:55:00.548Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8426

[debug] [2024-11-12T03:55:02.743Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:55:50.996Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:55:52.001Z] Validating nodejs source
[debug] [2024-11-12T03:55:52.738Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:55:52.739Z] Building nodejs source
[debug] [2024-11-12T03:55:52.739Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:55:52.742Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:55:52.744Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:55:52.748Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8466

[debug] [2024-11-12T03:55:53.356Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:55:53.749Z] Validating nodejs source
[debug] [2024-11-12T03:55:54.244Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:55:54.244Z] Building nodejs source
[debug] [2024-11-12T03:55:54.244Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:55:54.244Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:55:54.245Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8470

[debug] [2024-11-12T03:55:54.631Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:57:41.614Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T03:57:42.628Z] Validating nodejs source
[debug] [2024-11-12T03:57:43.279Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:57:43.279Z] Building nodejs source
[debug] [2024-11-12T03:57:43.279Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:57:43.282Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:57:43.283Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:57:43.286Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8734

[debug] [2024-11-12T03:57:44.075Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:57:44.288Z] Validating nodejs source
[debug] [2024-11-12T03:57:44.804Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:57:44.804Z] Building nodejs source
[debug] [2024-11-12T03:57:44.804Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:57:44.805Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:57:44.805Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8162

[debug] [2024-11-12T03:57:45.175Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:57:54.592Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:57:54.592Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:57:54.594Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T03:57:54.592Z"],"workRunningCount":1}
[debug] [2024-11-12T03:57:54.595Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T03:57:54.625Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:57:54.626Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T03:57:54.626Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:57:54.635Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T03:57:54.638Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T03:57:56.287Z] [runtime-status] [20463] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:57:56.288Z] [runtime-status] [20463] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:57:56.288Z] [runtime-status] [20463] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T03:57:56.288Z] [runtime-status] [20463] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:57:56.439Z] [runtime-status] [20463] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T03:57:56.439Z] [runtime-status] [20463] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T03:57:56.440Z] [runtime-status] [20463] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:57:56.442Z] [runtime-status] [20463] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:57:56.443Z] [runtime-status] [20463] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:57:56.443Z] [runtime-status] [20463] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T03:57:56.473Z] [runtime-status] [20463] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T03:57:56.692Z] [runtime-status] [20463] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T03:57:56.693Z] [runtime-status] [20463] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_e433f093e771573e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20463] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_e433f093e771573e.sock"}}
[debug] [2024-11-12T03:57:56.770Z] [worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: IDLE"}}
[debug] [2024-11-12T03:57:56.770Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:57:56.771Z] [worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: BUSY"}}
[debug] [2024-11-12T03:57:57.253Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 483.056708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 483.056708ms"}}
[debug] [2024-11-12T03:57:57.254Z] [worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: IDLE"}}
[debug] [2024-11-12T03:57:57.254Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:57:57.255Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:57:57.255Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:58:27.063Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:58:28.067Z] Validating nodejs source
[debug] [2024-11-12T03:58:28.792Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:58:28.793Z] Building nodejs source
[debug] [2024-11-12T03:58:28.794Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:58:28.798Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:58:28.800Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T03:58:28.998Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8993

[debug] [2024-11-12T03:58:29.509Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:58:29.521Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T03:58:29.521Z] [worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: FINISHING"}}
[debug] [2024-11-12T03:58:29.535Z] [worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: exited"}}
[debug] [2024-11-12T03:58:29.535Z] [worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f2cd7d65-0461-49b9-8c5c-7ca4aaa8b055]: FINISHED"}}
[debug] [2024-11-12T03:58:30.000Z] Validating nodejs source
[debug] [2024-11-12T03:58:30.535Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:58:30.535Z] Building nodejs source
[debug] [2024-11-12T03:58:30.535Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:58:30.536Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:58:30.537Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8715

[debug] [2024-11-12T03:58:31.540Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:58:31.646Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:58:32.647Z] Validating nodejs source
[debug] [2024-11-12T03:58:33.168Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:58:33.168Z] Building nodejs source
[debug] [2024-11-12T03:58:33.168Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:58:33.169Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:58:33.170Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8915

[debug] [2024-11-12T03:58:33.522Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:58:34.136Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:58:34.529Z] Validating nodejs source
[debug] [2024-11-12T03:58:35.070Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:58:35.071Z] Building nodejs source
[debug] [2024-11-12T03:58:35.071Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:58:35.073Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:58:35.074Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8839

[debug] [2024-11-12T03:58:35.583Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:58:46.080Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:58:46.786Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:58:47.789Z] Validating nodejs source
[debug] [2024-11-12T03:58:48.388Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:58:48.388Z] Building nodejs source
[debug] [2024-11-12T03:58:48.388Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:58:48.390Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:58:48.391Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8483

[debug] [2024-11-12T03:58:49.061Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:58:50.106Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:58:51.107Z] Validating nodejs source
[debug] [2024-11-12T03:58:51.685Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:58:51.685Z] Building nodejs source
[debug] [2024-11-12T03:58:51.685Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:58:51.686Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:58:51.687Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8044

[debug] [2024-11-12T03:58:52.090Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T03:58:52.175Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:58:53.092Z] Validating nodejs source
[debug] [2024-11-12T03:58:53.618Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T03:58:53.618Z] Building nodejs source
[debug] [2024-11-12T03:58:53.618Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:58:53.619Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T03:58:53.619Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8548

[debug] [2024-11-12T03:58:54.006Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T03:59:05.671Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T03:59:05.671Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:59:05.673Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T03:59:05.671Z"],"workRunningCount":1}
[debug] [2024-11-12T03:59:05.673Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T03:59:05.678Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:59:05.679Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T03:59:05.679Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T03:59:05.682Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T03:59:05.683Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T03:59:06.791Z] [runtime-status] [20894] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:59:06.792Z] [runtime-status] [20894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:59:06.792Z] [runtime-status] [20894] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T03:59:06.792Z] [runtime-status] [20894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:59:06.969Z] [runtime-status] [20894] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T03:59:06.969Z] [runtime-status] [20894] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T03:59:06.969Z] [runtime-status] [20894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:59:06.973Z] [runtime-status] [20894] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T03:59:06.974Z] [runtime-status] [20894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T03:59:06.974Z] [runtime-status] [20894] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T03:59:07.007Z] [runtime-status] [20894] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T03:59:07.238Z] [runtime-status] [20894] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T03:59:07.239Z] [runtime-status] [20894] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_5b2ff5688e381f1c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [20894] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_5b2ff5688e381f1c.sock"}}
[debug] [2024-11-12T03:59:07.312Z] [worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: IDLE"}}
[debug] [2024-11-12T03:59:07.312Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:59:07.313Z] [worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: pestDiagnosis. {"user":"Processed non-image field insights[]: pestDiagnosis.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: pestDiagnosis."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'pestDiagnosis' ] {"user":"requestedInsights:  [ 'pestDiagnosis' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'pestDiagnosis' ]"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731383947329.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731383947329.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731383947329.jpg&uploadType=resumable&upload_id=AHmUCY0e1YVCD_vKVZNhnAuGUffQTUT-IXpt9Tdhx2IuwJQWbMDiy0CUS-LvE2dkUdjDc9uKgPJnGzxQnlCVp9g_TUNZ1m3SvaXPFpuVCQYghL710g"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731383947329.jpg&uploadType=resumable&upload_id=AHmUCY0e1YVCD_vKVZNhnAuGUffQTUT-IXpt9Tdhx2IuwJQWbMDiy0CUS-LvE2dkUdjDc9uKgPJnGzxQnlCVp9g_TUNZ1m3SvaXPFpuVCQYghL710g\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731383947329.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731383947329.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731383947329 {"user":">>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731383947329","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731383947329"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731383947329.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731383947329.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731383947329.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T03:59:16.782Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 9469.600917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 9469.600917ms"}}
[debug] [2024-11-12T03:59:16.783Z] [worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: IDLE"}}
[debug] [2024-11-12T03:59:16.783Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:59:16.783Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:59:16.783Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:59:55.277Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T03:59:55.277Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:59:55.280Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T03:59:55.277Z"],"workRunningCount":1}
[debug] [2024-11-12T03:59:55.280Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T03:59:55.298Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:59:55.298Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T03:59:55.298Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:59:55.299Z] [worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: BUSY"}}
[debug] [2024-11-12T03:59:55.307Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 8.768709ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 8.768709ms"}}
[debug] [2024-11-12T03:59:55.308Z] [worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: IDLE"}}
[debug] [2024-11-12T03:59:55.308Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T03:59:55.308Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T03:59:55.308Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:59:55.309Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T03:59:55.309Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:59:55.309Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T03:59:55.309Z"],"workRunningCount":1}
[debug] [2024-11-12T03:59:55.309Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T03:59:55.312Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T03:59:55.312Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T03:59:55.313Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T03:59:55.313Z] [worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: BUSY"}}
[info] >  Error adding chat entry: ReferenceError: scanId is not defined {"user":"Error adding chat entry: ReferenceError: scanId is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: ReferenceError: scanId is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:6:19) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:6:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:6:19)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Hello {"user":">>>> 22. messages:  Hello","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Hello"}}
[info] >  >>>> 33. initialAnalysis:  The corn plant in the image has a health score of 30, indicating severe issues. There is a significant infestation of corn earworms causing extensive damage to the corn cob. Recommendations include applying an insecticide, regular monitoring, using IPM strategies, and removing infested ears of corn. {"user":">>>> 33. initialAnalysis:  The corn plant in the image has a health score of 30, indicating severe issues. There is a significant infestation of corn earworms causing extensive damage to the corn cob. Recommendations include applying an insecticide, regular monitoring, using IPM strategies, and removing infested ears of corn.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The corn plant in the image has a health score of 30, indicating severe issues. There is a significant infestation of corn earworms causing extensive damage to the corn cob. Recommendations include applying an insecticide, regular monitoring, using IPM strategies, and removing infested ears of corn."}}
[info] >  >>>> 44. conversationId:  1731383947329 {"user":">>>> 44. conversationId:  1731383947329","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731383947329"}}
[info] >  /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:32 {"user":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:32","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:32"}}
[info] >      res {"user":"    res","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     res"}}
[info] >      ^ {"user":"    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  ReferenceError: res is not defined {"user":"ReferenceError: res is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: res is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:32:5) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:32:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:32:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.20.4 {"user":"Node.js v18.20.4","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.20.4"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T03:59:55.408Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T03:59:55.410Z] [worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: exited"}}
[debug] [2024-11-12T03:59:55.410Z] [worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aa436e1e-6c60-417d-a57b-c5415ef7685e]: FINISHED"}}
[debug] [2024-11-12T04:00:27.250Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:00:28.258Z] Validating nodejs source
[debug] [2024-11-12T04:00:28.966Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:00:28.966Z] Building nodejs source
[debug] [2024-11-12T04:00:28.966Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:00:28.968Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:00:28.969Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8368

[debug] [2024-11-12T04:00:29.760Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:00:32.101Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:00:32.505Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:00:33.507Z] Validating nodejs source
[debug] [2024-11-12T04:00:34.081Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:00:34.082Z] Building nodejs source
[debug] [2024-11-12T04:00:34.082Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:00:34.083Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:00:34.084Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8998

[debug] [2024-11-12T04:00:34.556Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:00:39.643Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T04:00:39.643Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:00:39.645Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T04:00:39.643Z"],"workRunningCount":1}
[debug] [2024-11-12T04:00:39.648Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T04:00:39.681Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:00:39.683Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T04:00:39.683Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:00:39.697Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:00:39.700Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:00:41.203Z] [runtime-status] [21402] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:00:41.203Z] [runtime-status] [21402] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:00:41.203Z] [runtime-status] [21402] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:00:41.204Z] [runtime-status] [21402] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:00:41.305Z] [runtime-status] [21402] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:00:41.306Z] [runtime-status] [21402] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:00:41.306Z] [runtime-status] [21402] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:00:41.310Z] [runtime-status] [21402] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:00:41.311Z] [runtime-status] [21402] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:00:41.311Z] [runtime-status] [21402] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:00:41.332Z] [runtime-status] [21402] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:00:41.481Z] [runtime-status] [21402] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:00:41.481Z] [runtime-status] [21402] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_74006417641632c5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21402] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_74006417641632c5.sock"}}
[debug] [2024-11-12T04:00:41.544Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: IDLE"}}
[debug] [2024-11-12T04:00:41.544Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:00:41.545Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: BUSY"}}
[debug] [2024-11-12T04:00:42.025Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 480.347791ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 480.347791ms"}}
[debug] [2024-11-12T04:00:42.025Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: IDLE"}}
[debug] [2024-11-12T04:00:42.025Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:00:42.025Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:00:42.025Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:00:47.340Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T04:00:47.339Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:00:47.344Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T04:00:47.339Z"],"workRunningCount":1}
[debug] [2024-11-12T04:00:47.344Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T04:00:47.351Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:00:47.352Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T04:00:47.352Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:00:47.353Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: pestDiagnosis. {"user":"Processed non-image field insights[]: pestDiagnosis.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: pestDiagnosis."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'pestDiagnosis' ] {"user":"requestedInsights:  [ 'pestDiagnosis' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'pestDiagnosis' ]"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731384047384.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731384047384.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731384047384.jpg&uploadType=resumable&upload_id=AHmUCY2NwbOEcvKmjaQuxCpnuDtM3jFVvVM0l6Lnb3dEjqFSeaaGi2VExaAhFKptSjjPNUExMky_dfA-NCQHVSZsPjfeOYZWat-SVHQB7-xJPUn2JA"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731384047384.jpg&uploadType=resumable&upload_id=AHmUCY2NwbOEcvKmjaQuxCpnuDtM3jFVvVM0l6Lnb3dEjqFSeaaGi2VExaAhFKptSjjPNUExMky_dfA-NCQHVSZsPjfeOYZWat-SVHQB7-xJPUn2JA\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731384047384.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731384047384.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731384047384 {"user":">>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731384047384","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731384047384"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731384047384.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731384047384.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731384047384.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T04:00:52.836Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 5482.918916ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 5482.918916ms"}}
[debug] [2024-11-12T04:00:52.836Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: IDLE"}}
[debug] [2024-11-12T04:00:52.836Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:00:52.837Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:00:52.837Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:01:21.496Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:01:21.496Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:01:21.498Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:01:21.496Z"],"workRunningCount":1}
[debug] [2024-11-12T04:01:21.498Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:01:21.504Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:01:21.505Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:01:21.505Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:01:21.506Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: BUSY"}}
[debug] [2024-11-12T04:01:21.542Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 36.088167ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 36.088167ms"}}
[debug] [2024-11-12T04:01:21.543Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: IDLE"}}
[debug] [2024-11-12T04:01:21.543Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:01:21.544Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:01:21.544Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:01:21.545Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:01:21.545Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:01:21.545Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:01:21.545Z"],"workRunningCount":1}
[debug] [2024-11-12T04:01:21.545Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:01:21.554Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:01:21.554Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:01:21.554Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:01:21.555Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: BUSY"}}
[info] >  Error adding chat entry: ReferenceError: scanId is not defined {"user":"Error adding chat entry: ReferenceError: scanId is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: ReferenceError: scanId is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:6:19) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:6:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:6:19)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  What is your confidence in the above resulsts? {"user":">>>> 22. messages:  What is your confidence in the above resulsts?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  What is your confidence in the above resulsts?"}}
[info] >  >>>> 33. initialAnalysis:  The corn ear is severely infested with European corn borer larvae, causing significant damage. Immediate pest control measures are recommended to prevent further spread and to protect other plants. {"user":">>>> 33. initialAnalysis:  The corn ear is severely infested with European corn borer larvae, causing significant damage. Immediate pest control measures are recommended to prevent further spread and to protect other plants.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The corn ear is severely infested with European corn borer larvae, causing significant damage. Immediate pest control measures are recommended to prevent further spread and to protect other plants."}}
[info] >  >>>> 44. conversationId:  1731384047384 {"user":">>>> 44. conversationId:  1731384047384","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731384047384"}}
[info] >  Error adding chat entry: ReferenceError: scanId is not defined {"user":"Error adding chat entry: ReferenceError: scanId is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: ReferenceError: scanId is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:6:19) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:6:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:6:19)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:01:25.790Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 4234.554ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 4234.554ms"}}
[debug] [2024-11-12T04:01:25.790Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: IDLE"}}
[debug] [2024-11-12T04:01:25.790Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:01:25.791Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:01:25.791Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:01:50.098Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:01:51.103Z] Validating nodejs source
[debug] [2024-11-12T04:01:51.939Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:01:51.940Z] Building nodejs source
[debug] [2024-11-12T04:01:51.940Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:01:51.943Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:01:51.945Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8559

[debug] [2024-11-12T04:01:52.567Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:01:52.588Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:01:52.588Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: FINISHING"}}
[debug] [2024-11-12T04:01:52.603Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: exited"}}
[debug] [2024-11-12T04:01:52.603Z] [worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ec0eaba8-842c-47ea-8100-acc4abf0a13f]: FINISHED"}}
[debug] [2024-11-12T04:02:33.042Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:02:33.041Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:02:33.046Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:02:33.041Z"],"workRunningCount":1}
[debug] [2024-11-12T04:02:33.046Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:02:33.062Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:02:33.064Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:02:33.064Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:02:33.071Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:02:33.071Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:02:34.279Z] [runtime-status] [21880] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:02:34.280Z] [runtime-status] [21880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:02:34.280Z] [runtime-status] [21880] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:02:34.281Z] [runtime-status] [21880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:02:34.461Z] [runtime-status] [21880] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:02:34.461Z] [runtime-status] [21880] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:02:34.462Z] [runtime-status] [21880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:02:34.465Z] [runtime-status] [21880] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:02:34.467Z] [runtime-status] [21880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:02:34.467Z] [runtime-status] [21880] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:02:34.499Z] [runtime-status] [21880] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:02:34.731Z] [runtime-status] [21880] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:02:34.731Z] [runtime-status] [21880] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_88c236c007459ed7.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [21880] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_88c236c007459ed7.sock"}}
[debug] [2024-11-12T04:02:34.797Z] [worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: IDLE"}}
[debug] [2024-11-12T04:02:34.797Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:02:34.797Z] [worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: BUSY"}}
[debug] [2024-11-12T04:02:34.800Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2.820583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2.820583ms"}}
[debug] [2024-11-12T04:02:34.800Z] [worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: IDLE"}}
[debug] [2024-11-12T04:02:34.800Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:02:34.800Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:02:34.800Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:02:34.803Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:02:34.803Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:02:34.803Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:02:34.803Z"],"workRunningCount":1}
[debug] [2024-11-12T04:02:34.803Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:02:34.804Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:02:34.804Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:02:34.805Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:02:34.805Z] [worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: BUSY"}}
[info] >  Error adding chat entry: ReferenceError: db is not defined {"user":"Error adding chat entry: ReferenceError: db is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: ReferenceError: db is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:8:24) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:8:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:8:24)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Will you take the responsibility {"user":">>>> 22. messages:  Will you take the responsibility","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Will you take the responsibility"}}
[info] >  >>>> 33. initialAnalysis:  The corn ear is severely infested with European corn borer larvae, causing significant damage. Immediate pest control measures are recommended to prevent further spread and to protect other plants. {"user":">>>> 33. initialAnalysis:  The corn ear is severely infested with European corn borer larvae, causing significant damage. Immediate pest control measures are recommended to prevent further spread and to protect other plants.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The corn ear is severely infested with European corn borer larvae, causing significant damage. Immediate pest control measures are recommended to prevent further spread and to protect other plants."}}
[info] >  >>>> 44. conversationId:  1731384047384 {"user":">>>> 44. conversationId:  1731384047384","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731384047384"}}
[info] >  Error adding chat entry: ReferenceError: db is not defined {"user":"Error adding chat entry: ReferenceError: db is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: ReferenceError: db is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:8:24) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:8:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:8:24)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:02:43.331Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 8525.711583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 8525.711583ms"}}
[debug] [2024-11-12T04:02:43.331Z] [worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: IDLE"}}
[debug] [2024-11-12T04:02:43.331Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:02:43.331Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:02:43.331Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:02:54.838Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:02:55.843Z] Validating nodejs source
[debug] [2024-11-12T04:02:56.789Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:02:56.789Z] Building nodejs source
[debug] [2024-11-12T04:02:56.789Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:02:56.791Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:02:56.793Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T04:02:56.795Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8520

[debug] [2024-11-12T04:02:57.564Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:02:57.574Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:02:57.574Z] [worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: FINISHING"}}
[debug] [2024-11-12T04:02:57.584Z] [worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: exited"}}
[debug] [2024-11-12T04:02:57.584Z] [worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-427dffa4-7730-4481-aec2-8d6c7a9b8578]: FINISHED"}}
[debug] [2024-11-12T04:02:57.797Z] Validating nodejs source
[debug] [2024-11-12T04:02:58.282Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:02:58.282Z] Building nodejs source
[debug] [2024-11-12T04:02:58.282Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:02:58.283Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:02:58.284Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8070

[debug] [2024-11-12T04:02:58.668Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:03:29.264Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:03:29.264Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:03:29.265Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:03:29.264Z"],"workRunningCount":1}
[debug] [2024-11-12T04:03:29.265Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:03:29.274Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:03:29.274Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:03:29.274Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:03:29.279Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:03:29.280Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:03:30.371Z] [runtime-status] [22244] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:03:30.372Z] [runtime-status] [22244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:03:30.372Z] [runtime-status] [22244] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:03:30.373Z] [runtime-status] [22244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:03:30.576Z] [runtime-status] [22244] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:03:30.576Z] [runtime-status] [22244] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:03:30.576Z] [runtime-status] [22244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:03:30.582Z] [runtime-status] [22244] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:03:30.584Z] [runtime-status] [22244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:03:30.584Z] [runtime-status] [22244] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:03:30.622Z] [runtime-status] [22244] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:03:30.861Z] [runtime-status] [22244] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:03:30.861Z] [runtime-status] [22244] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_9b1780d8f2f54be5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22244] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_9b1780d8f2f54be5.sock"}}
[debug] [2024-11-12T04:03:30.903Z] [worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: IDLE"}}
[debug] [2024-11-12T04:03:30.903Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:03:30.903Z] [worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: BUSY"}}
[debug] [2024-11-12T04:03:30.906Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2.946917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2.946917ms"}}
[debug] [2024-11-12T04:03:30.908Z] [worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: IDLE"}}
[debug] [2024-11-12T04:03:30.908Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:03:30.909Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:03:30.909Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:03:30.909Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:03:30.909Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:03:30.909Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:03:30.909Z"],"workRunningCount":1}
[debug] [2024-11-12T04:03:30.909Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:03:30.911Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:03:30.912Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:03:30.912Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:03:30.912Z] [worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: BUSY"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Give me links to get educated on the matter {"user":">>>> 22. messages:  Give me links to get educated on the matter","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Give me links to get educated on the matter"}}
[info] >  >>>> 33. initialAnalysis:  The corn ear is severely infested with European corn borer larvae, causing significant damage. Immediate pest control measures are recommended to prevent further spread and to protect other plants. {"user":">>>> 33. initialAnalysis:  The corn ear is severely infested with European corn borer larvae, causing significant damage. Immediate pest control measures are recommended to prevent further spread and to protect other plants.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The corn ear is severely infested with European corn borer larvae, causing significant damage. Immediate pest control measures are recommended to prevent further spread and to protect other plants."}}
[info] >  >>>> 44. conversationId:  1731384047384 {"user":">>>> 44. conversationId:  1731384047384","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731384047384"}}
[info] >  >>>> 100. Chat entry added successfully to customer's db! docId:  1731384047384 {"user":">>>> 100. Chat entry added successfully to customer's db! docId:  1731384047384","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Chat entry added successfully to customer's db! docId:  1731384047384"}}
[debug] [2024-11-12T04:03:41.182Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 10271.633333ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 10271.633333ms"}}
[debug] [2024-11-12T04:03:41.184Z] [worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: IDLE"}}
[debug] [2024-11-12T04:03:41.184Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:03:41.184Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:03:41.185Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  >>>> 100. Chat entry added successfully to customer's db! docId:  1731384047384 {"user":">>>> 100. Chat entry added successfully to customer's db! docId:  1731384047384","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Chat entry added successfully to customer's db! docId:  1731384047384"}}
[debug] [2024-11-12T04:04:30.215Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T04:04:30.214Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:04:30.220Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T04:04:30.214Z"],"workRunningCount":1}
[debug] [2024-11-12T04:04:30.220Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T04:04:30.240Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:04:30.242Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T04:04:30.242Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:04:30.243Z] [worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: BUSY"}}
[debug] [2024-11-12T04:04:30.458Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 215.370959ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 215.370959ms"}}
[debug] [2024-11-12T04:04:30.460Z] [worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: IDLE"}}
[debug] [2024-11-12T04:04:30.465Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:04:30.467Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:04:30.469Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:04:41.303Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:04:42.331Z] Validating nodejs source
[debug] [2024-11-12T04:04:43.081Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:04:43.081Z] Building nodejs source
[debug] [2024-11-12T04:04:43.081Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:04:43.083Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:04:43.085Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8133

[debug] [2024-11-12T04:04:43.884Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:04:43.896Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:04:43.896Z] [worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: FINISHING"}}
[debug] [2024-11-12T04:04:43.908Z] [worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: exited"}}
[debug] [2024-11-12T04:04:43.908Z] [worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e57df4a6-6b19-488a-accc-4e913c7c4562]: FINISHED"}}
[debug] [2024-11-12T04:04:49.405Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T04:04:49.405Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:04:49.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T04:04:49.405Z"],"workRunningCount":1}
[debug] [2024-11-12T04:04:49.406Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T04:04:49.410Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:04:49.410Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T04:04:49.411Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:04:49.413Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:04:49.414Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:04:50.426Z] [runtime-status] [22646] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:04:50.427Z] [runtime-status] [22646] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:04:50.427Z] [runtime-status] [22646] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:04:50.428Z] [runtime-status] [22646] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:04:50.579Z] [runtime-status] [22646] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:04:50.579Z] [runtime-status] [22646] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:04:50.579Z] [runtime-status] [22646] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:04:50.583Z] [runtime-status] [22646] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:04:50.584Z] [runtime-status] [22646] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:04:50.585Z] [runtime-status] [22646] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:04:50.615Z] [runtime-status] [22646] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:04:50.834Z] [runtime-status] [22646] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:04:50.835Z] [runtime-status] [22646] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_5e3a76752c17b5b3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [22646] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_5e3a76752c17b5b3.sock"}}
[debug] [2024-11-12T04:04:50.939Z] [worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: IDLE"}}
[debug] [2024-11-12T04:04:50.939Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:04:50.939Z] [worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: pestDiagnosis. {"user":"Processed non-image field insights[]: pestDiagnosis.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: pestDiagnosis."}}
[info] >  Processed non-image field insights[]: sustainablePractices. {"user":"Processed non-image field insights[]: sustainablePractices.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: sustainablePractices."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'pestDiagnosis', 'sustainablePractices' ] {"user":"requestedInsights:  [ 'pestDiagnosis', 'sustainablePractices' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'pestDiagnosis', 'sustainablePractices' ]"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731384290951.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731384290951.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731384290951.jpg&uploadType=resumable&upload_id=AHmUCY3weewVT0Ld3PihrVa_KsLYHSLRpBuOaeXiOvaguUPLaBhJ0X_4Wj_lUmRH84vARehxg5mXQT0mj5y8AP5PFFtU33l5MLzr_rpBwJseoET1fA"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731384290951.jpg&uploadType=resumable&upload_id=AHmUCY3weewVT0Ld3PihrVa_KsLYHSLRpBuOaeXiOvaguUPLaBhJ0X_4Wj_lUmRH84vARehxg5mXQT0mj5y8AP5PFFtU33l5MLzr_rpBwJseoET1fA\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731384290951.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731384290951.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731384290951 {"user":">>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731384290951"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731384290951.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731384290951.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731384290951.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T04:04:58.403Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 7464.241417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 7464.241417ms"}}
[debug] [2024-11-12T04:04:58.404Z] [worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: IDLE"}}
[debug] [2024-11-12T04:04:58.404Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:04:58.404Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:04:58.404Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:06:18.481Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:06:18.480Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:06:18.482Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:06:18.480Z"],"workRunningCount":1}
[debug] [2024-11-12T04:06:18.483Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:06:18.499Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:06:18.499Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:06:18.500Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:06:18.501Z] [worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: BUSY"}}
[debug] [2024-11-12T04:06:18.557Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 56.204875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 56.204875ms"}}
[debug] [2024-11-12T04:06:18.559Z] [worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: IDLE"}}
[debug] [2024-11-12T04:06:18.559Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:06:18.560Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:06:18.560Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:06:18.562Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:06:18.561Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:06:18.562Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:06:18.561Z"],"workRunningCount":1}
[debug] [2024-11-12T04:06:18.562Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:06:18.566Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:06:18.566Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:06:18.566Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:06:18.567Z] [worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: BUSY"}}
[info] >  >>>> 11. model:  llama {"user":">>>> 11. model:  llama","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  llama"}}
[info] >  >>>> 22. messages:  What is your confidence level? {"user":">>>> 22. messages:  What is your confidence level?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  What is your confidence level?"}}
[info] >  >>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring. {"user":">>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring."}}
[info] >  >>>> 44. conversationId:  1731384290951 {"user":">>>> 44. conversationId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731384290951"}}
[info] >  >>>> 100. Chat entry added successfully to customer's db! docId:  1731384290951 {"user":">>>> 100. Chat entry added successfully to customer's db! docId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Chat entry added successfully to customer's db! docId:  1731384290951"}}
[debug] [2024-11-12T04:06:27.789Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 9222.66475ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 9222.66475ms"}}
[debug] [2024-11-12T04:06:27.789Z] [worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: IDLE"}}
[debug] [2024-11-12T04:06:27.789Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:06:27.790Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:06:27.790Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  >>>> 100. Chat entry added successfully to customer's db! docId:  1731384290951 {"user":">>>> 100. Chat entry added successfully to customer's db! docId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Chat entry added successfully to customer's db! docId:  1731384290951"}}
[debug] [2024-11-12T04:13:12.158Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:13:13.185Z] Validating nodejs source
[debug] [2024-11-12T04:13:14.053Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:13:14.053Z] Building nodejs source
[debug] [2024-11-12T04:13:14.053Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:13:14.058Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:13:14.060Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8255

[debug] [2024-11-12T04:13:14.685Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:13:14.695Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:13:14.695Z] [worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: FINISHING"}}
[debug] [2024-11-12T04:13:14.704Z] [worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: exited"}}
[debug] [2024-11-12T04:13:14.704Z] [worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c6bbfae6-5318-41fe-8a64-80002b9531e1]: FINISHED"}}
[debug] [2024-11-12T04:13:29.823Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:13:30.827Z] Validating nodejs source
[debug] [2024-11-12T04:13:31.501Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:13:31.501Z] Building nodejs source
[debug] [2024-11-12T04:13:31.501Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:13:31.503Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:13:31.504Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8547

[debug] [2024-11-12T04:13:31.906Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:13:32.098Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:13:32.908Z] Validating nodejs source
[debug] [2024-11-12T04:13:33.781Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:13:33.782Z] Building nodejs source
[debug] [2024-11-12T04:13:33.782Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:13:33.784Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:13:33.785Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8832

[debug] [2024-11-12T04:13:34.205Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:13:34.591Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:13:35.594Z] Validating nodejs source
[debug] [2024-11-12T04:13:36.145Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:13:36.145Z] Building nodejs source
[debug] [2024-11-12T04:13:36.145Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:13:36.146Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:13:36.147Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8067

[debug] [2024-11-12T04:13:36.531Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:13:42.238Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:13:43.241Z] Validating nodejs source
[debug] [2024-11-12T04:13:44.356Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:13:44.358Z] Building nodejs source
[debug] [2024-11-12T04:13:44.358Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:13:44.363Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:13:44.364Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T04:13:44.366Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8700

[debug] [2024-11-12T04:13:44.932Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:13:45.368Z] Validating nodejs source
[debug] [2024-11-12T04:13:45.876Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:13:45.876Z] Building nodejs source
[debug] [2024-11-12T04:13:45.876Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:13:45.876Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:13:45.877Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8095

[debug] [2024-11-12T04:13:46.248Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:13:47.696Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:13:48.699Z] Validating nodejs source
[debug] [2024-11-12T04:13:49.202Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:13:49.203Z] Building nodejs source
[debug] [2024-11-12T04:13:49.203Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:13:49.204Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:13:49.205Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8520

[debug] [2024-11-12T04:13:49.595Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:15:35.476Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:15:35.475Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:15:35.477Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:15:35.475Z"],"workRunningCount":1}
[debug] [2024-11-12T04:15:35.478Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:15:35.487Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:15:35.487Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:15:35.488Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:15:35.492Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:15:35.493Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:15:36.651Z] [runtime-status] [25578] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:15:36.652Z] [runtime-status] [25578] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:15:36.652Z] [runtime-status] [25578] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:15:36.653Z] [runtime-status] [25578] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:15:36.849Z] [runtime-status] [25578] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:15:36.849Z] [runtime-status] [25578] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:15:36.849Z] [runtime-status] [25578] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:15:36.851Z] [runtime-status] [25578] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:15:36.853Z] [runtime-status] [25578] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:15:36.853Z] [runtime-status] [25578] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:15:36.886Z] [runtime-status] [25578] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:15:37.123Z] [runtime-status] [25578] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:15:37.123Z] [runtime-status] [25578] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_b570f6a02e9e4f8f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [25578] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_b570f6a02e9e4f8f.sock"}}
[debug] [2024-11-12T04:15:37.219Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: IDLE"}}
[debug] [2024-11-12T04:15:37.220Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:15:37.220Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: BUSY"}}
[debug] [2024-11-12T04:15:37.222Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2.664792ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2.664792ms"}}
[debug] [2024-11-12T04:15:37.223Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: IDLE"}}
[debug] [2024-11-12T04:15:37.223Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:15:37.223Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:15:37.223Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:15:37.231Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:15:37.231Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:15:37.231Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:15:37.231Z"],"workRunningCount":1}
[debug] [2024-11-12T04:15:37.231Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:15:37.233Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:15:37.233Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:15:37.233Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:15:37.233Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: BUSY"}}
[info] >  Error adding chat entry: ReferenceError: admin is not defined {"user":"Error adding chat entry: ReferenceError: admin is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: ReferenceError: admin is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  llama {"user":">>>> 11. model:  llama","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  llama"}}
[info] >  >>>> 22. messages:  hi {"user":">>>> 22. messages:  hi","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  hi"}}
[info] >  >>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring. {"user":">>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring."}}
[info] >  >>>> 44. conversationId:  1731384290951 {"user":">>>> 44. conversationId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731384290951"}}
[info] >  Error adding chat entry: ReferenceError: admin is not defined {"user":"Error adding chat entry: ReferenceError: admin is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: ReferenceError: admin is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:15:51.729Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 14495.954708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 14495.954708ms"}}
[debug] [2024-11-12T04:15:51.729Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: IDLE"}}
[debug] [2024-11-12T04:15:51.729Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:15:51.729Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:15:51.729Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:16:30.752Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:16:30.752Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:16:30.753Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:16:30.752Z"],"workRunningCount":1}
[debug] [2024-11-12T04:16:30.753Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:16:30.758Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:16:30.759Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:16:30.760Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:16:30.766Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: BUSY"}}
[debug] [2024-11-12T04:16:30.783Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 17.282666ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 17.282666ms"}}
[debug] [2024-11-12T04:16:30.786Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: IDLE"}}
[debug] [2024-11-12T04:16:30.788Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:16:30.788Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:16:30.788Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:16:30.795Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:16:30.795Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:16:30.796Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:16:30.795Z"],"workRunningCount":1}
[debug] [2024-11-12T04:16:30.796Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:16:30.821Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:16:30.821Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:16:30.822Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:16:30.822Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: BUSY"}}
[info] >  Error adding chat entry: ReferenceError: admin is not defined {"user":"Error adding chat entry: ReferenceError: admin is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: ReferenceError: admin is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  llama {"user":">>>> 11. model:  llama","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  llama"}}
[info] >  >>>> 22. messages:  What is next {"user":">>>> 22. messages:  What is next","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  What is next"}}
[info] >  >>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring. {"user":">>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring."}}
[info] >  >>>> 44. conversationId:  1731384290951 {"user":">>>> 44. conversationId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731384290951"}}
[info] >  Error adding chat entry: ReferenceError: admin is not defined {"user":"Error adding chat entry: ReferenceError: admin is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: ReferenceError: admin is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:24)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:16:45.902Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 15080.93675ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 15080.93675ms"}}
[debug] [2024-11-12T04:16:45.906Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: IDLE"}}
[debug] [2024-11-12T04:16:45.906Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:16:45.906Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:16:45.906Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:19:13.083Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:19:14.190Z] Validating nodejs source
[debug] [2024-11-12T04:19:14.851Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:19:14.852Z] Building nodejs source
[debug] [2024-11-12T04:19:14.852Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:19:14.854Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:19:14.856Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8594

[debug] [2024-11-12T04:19:15.550Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:19:15.571Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:19:15.571Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: FINISHING"}}
[debug] [2024-11-12T04:19:15.584Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: exited"}}
[debug] [2024-11-12T04:19:15.584Z] [worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-1661a50f-4363-4da8-b12e-394220db5066]: FINISHED"}}
[debug] [2024-11-12T04:19:25.260Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:19:25.260Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:19:25.262Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:19:25.260Z"],"workRunningCount":1}
[debug] [2024-11-12T04:19:25.262Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:19:25.267Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:19:25.268Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:19:25.268Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:19:25.273Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:19:25.273Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:19:26.402Z] [runtime-status] [26588] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:19:26.402Z] [runtime-status] [26588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:19:26.403Z] [runtime-status] [26588] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:19:26.403Z] [runtime-status] [26588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:19:26.553Z] [runtime-status] [26588] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:19:26.553Z] [runtime-status] [26588] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:19:26.554Z] [runtime-status] [26588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:19:26.557Z] [runtime-status] [26588] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:19:26.558Z] [runtime-status] [26588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:19:26.558Z] [runtime-status] [26588] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:19:26.588Z] [runtime-status] [26588] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:19:26.801Z] [runtime-status] [26588] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:19:26.802Z] [runtime-status] [26588] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_cef0fe04f4359490.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [26588] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_cef0fe04f4359490.sock"}}
[debug] [2024-11-12T04:19:26.895Z] [worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: IDLE"}}
[debug] [2024-11-12T04:19:26.895Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:19:26.895Z] [worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: BUSY"}}
[debug] [2024-11-12T04:19:26.898Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2.986ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2.986ms"}}
[debug] [2024-11-12T04:19:26.898Z] [worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: IDLE"}}
[debug] [2024-11-12T04:19:26.898Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:19:26.898Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:19:26.899Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:19:26.900Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:19:26.900Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:19:26.900Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:19:26.900Z"],"workRunningCount":1}
[debug] [2024-11-12T04:19:26.900Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:19:26.902Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:19:26.902Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:19:26.902Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:19:26.902Z] [worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: BUSY"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:51) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:51)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:51)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  llama {"user":">>>> 11. model:  llama","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  llama"}}
[info] >  >>>> 22. messages:  you are an admin {"user":">>>> 22. messages:  you are an admin","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  you are an admin"}}
[info] >  >>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring. {"user":">>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring."}}
[info] >  >>>> 44. conversationId:  1731384290951 {"user":">>>> 44. conversationId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731384290951"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:51) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:51)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26:51)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:19:42.322Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 15420.297625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 15420.297625ms"}}
[debug] [2024-11-12T04:19:42.323Z] [worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: IDLE"}}
[debug] [2024-11-12T04:19:42.323Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:19:42.323Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:19:42.323Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:20:56.547Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:20:57.575Z] Validating nodejs source
[debug] [2024-11-12T04:20:58.525Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:20:58.527Z] Building nodejs source
[debug] [2024-11-12T04:20:58.527Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:20:58.530Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:20:58.532Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T04:20:58.535Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8261

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:26
        conversations: admin.firestore.FieldValue.arrayUnion(chatData),
        ^^^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T04:20:59.128Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected identifier
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T04:20:59.536Z] Validating nodejs source
[debug] [2024-11-12T04:21:00.054Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:21:00.054Z] Building nodejs source
[debug] [2024-11-12T04:21:00.054Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:21:00.055Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:21:00.056Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T04:21:00.136Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8829

[debug] [2024-11-12T04:21:00.435Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:21:00.449Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:21:00.449Z] [worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: FINISHING"}}
[debug] [2024-11-12T04:21:00.460Z] [worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: exited"}}
[debug] [2024-11-12T04:21:00.460Z] [worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-86e65df9-a543-4ed1-8a77-a70fde2c709f]: FINISHED"}}
[debug] [2024-11-12T04:21:01.137Z] Validating nodejs source
[debug] [2024-11-12T04:21:01.819Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:21:01.820Z] Building nodejs source
[debug] [2024-11-12T04:21:01.820Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:21:01.824Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:21:01.824Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8296

[debug] [2024-11-12T04:21:02.203Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:22:22.546Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:22:23.550Z] Validating nodejs source
[debug] [2024-11-12T04:22:24.153Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:22:24.154Z] Building nodejs source
[debug] [2024-11-12T04:22:24.154Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:22:24.156Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:22:24.157Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8201

[debug] [2024-11-12T04:22:24.660Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:22:24.773Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:22:25.661Z] Validating nodejs source
[debug] [2024-11-12T04:22:26.189Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:22:26.190Z] Building nodejs source
[debug] [2024-11-12T04:22:26.190Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:22:26.192Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:22:26.192Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8101

[debug] [2024-11-12T04:22:26.566Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:22:32.456Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:22:33.458Z] Validating nodejs source
[debug] [2024-11-12T04:22:33.998Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:22:33.998Z] Building nodejs source
[debug] [2024-11-12T04:22:33.998Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:22:33.999Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:22:34.000Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8872

[debug] [2024-11-12T04:22:34.536Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:22:36.120Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:22:37.123Z] Validating nodejs source
[debug] [2024-11-12T04:22:37.641Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:22:37.641Z] Building nodejs source
[debug] [2024-11-12T04:22:37.641Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:22:37.642Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:22:37.643Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8348

[debug] [2024-11-12T04:22:38.015Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:22:57.355Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:22:58.361Z] Validating nodejs source
[debug] [2024-11-12T04:22:58.998Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:22:58.999Z] Building nodejs source
[debug] [2024-11-12T04:22:58.999Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:22:59.001Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:22:59.003Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T04:22:59.004Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8397

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31
        conversations: admin.firestore.FieldValue.arrayUnion(chatData),
        ^^^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T04:22:59.582Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected identifier
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T04:23:00.005Z] Validating nodejs source
[debug] [2024-11-12T04:23:00.520Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:23:00.521Z] Building nodejs source
[debug] [2024-11-12T04:23:00.521Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:23:00.522Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:23:00.523Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T04:23:00.622Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8806

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31
        conversations: admin.firestore.FieldValue.arrayUnion(chatData),
        ^^^^^^^^^^^^^

SyntaxError: Unexpected identifier
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T04:23:00.896Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected identifier
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T04:23:01.624Z] Validating nodejs source
[debug] [2024-11-12T04:23:02.262Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:23:02.263Z] Building nodejs source
[debug] [2024-11-12T04:23:02.263Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:23:02.264Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:23:02.265Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T04:23:02.266Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8285

[debug] [2024-11-12T04:23:02.830Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:23:03.268Z] Validating nodejs source
[debug] [2024-11-12T04:23:03.753Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:23:03.753Z] Building nodejs source
[debug] [2024-11-12T04:23:03.753Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:23:03.754Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:23:03.754Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8822

[debug] [2024-11-12T04:23:04.139Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:25:18.384Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:25:19.388Z] Validating nodejs source
[debug] [2024-11-12T04:25:20.119Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:25:20.119Z] Building nodejs source
[debug] [2024-11-12T04:25:20.119Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:25:20.121Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:25:20.122Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8078

[debug] [2024-11-12T04:25:20.820Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:25:23.145Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:25:24.147Z] Validating nodejs source
[debug] [2024-11-12T04:25:24.680Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:25:24.680Z] Building nodejs source
[debug] [2024-11-12T04:25:24.680Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:25:24.682Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:25:24.683Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8607

[debug] [2024-11-12T04:25:25.068Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:25:46.645Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:25:46.645Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:25:46.647Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:25:46.645Z"],"workRunningCount":1}
[debug] [2024-11-12T04:25:46.647Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:25:46.653Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:25:46.653Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:25:46.653Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:25:46.659Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:25:46.660Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:25:47.781Z] [runtime-status] [28501] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:25:47.782Z] [runtime-status] [28501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:25:47.782Z] [runtime-status] [28501] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:25:47.783Z] [runtime-status] [28501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:25:47.943Z] [runtime-status] [28501] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:25:47.944Z] [runtime-status] [28501] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:25:47.944Z] [runtime-status] [28501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:25:47.947Z] [runtime-status] [28501] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:25:47.948Z] [runtime-status] [28501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:25:47.949Z] [runtime-status] [28501] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:25:47.978Z] [runtime-status] [28501] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:25:48.197Z] [runtime-status] [28501] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:25:48.197Z] [runtime-status] [28501] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_3b6e28d908d9898e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [28501] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_3b6e28d908d9898e.sock"}}
[debug] [2024-11-12T04:25:48.285Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: IDLE"}}
[debug] [2024-11-12T04:25:48.285Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:25:48.285Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: BUSY"}}
[debug] [2024-11-12T04:25:48.288Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2.86325ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2.86325ms"}}
[debug] [2024-11-12T04:25:48.288Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: IDLE"}}
[debug] [2024-11-12T04:25:48.288Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:25:48.288Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:25:48.288Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:25:48.291Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:25:48.291Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:25:48.291Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:25:48.291Z"],"workRunningCount":1}
[debug] [2024-11-12T04:25:48.291Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:25:48.293Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:25:48.293Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:25:48.293Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:25:48.293Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: BUSY"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  llama {"user":">>>> 11. model:  llama","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  llama"}}
[info] >  >>>> 22. messages:  what is next {"user":">>>> 22. messages:  what is next","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  what is next"}}
[info] >  >>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring. {"user":">>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The plant exhibits severe issues with visible fungal infection and corn borer infestation. A health score of 25 indicates critical care is needed. Recommendations include applying fungicide, using insecticide, implementing crop rotation, ensuring sanitation, and regular monitoring."}}
[info] >  >>>> 44. conversationId:  1731384290951 {"user":">>>> 44. conversationId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731384290951"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:26:01.879Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 13585.841541ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 13585.841541ms"}}
[debug] [2024-11-12T04:26:01.879Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: IDLE"}}
[debug] [2024-11-12T04:26:01.879Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:26:01.879Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:26:01.879Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:38:10.745Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:38:10.741Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:38:10.753Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:38:10.741Z"],"workRunningCount":1}
[debug] [2024-11-12T04:38:10.754Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:38:10.788Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:38:10.789Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:38:10.790Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:38:10.793Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: BUSY"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know who is John Seena? {"user":">>>> 22. messages:  Do you know who is John Seena?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know who is John Seena?"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:38:13.124Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2331.676875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2331.676875ms"}}
[debug] [2024-11-12T04:38:13.125Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: IDLE"}}
[debug] [2024-11-12T04:38:13.125Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:38:13.125Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:38:13.126Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:38:46.293Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:38:46.293Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:38:46.295Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:38:46.293Z"],"workRunningCount":1}
[debug] [2024-11-12T04:38:46.295Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:38:46.301Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:38:46.301Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:38:46.301Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:38:46.306Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: BUSY"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:49)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:38:56.710Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 10404.513959ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 10404.513959ms"}}
[debug] [2024-11-12T04:38:56.712Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: IDLE"}}
[debug] [2024-11-12T04:38:56.712Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:38:56.712Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:38:56.713Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:39:41.934Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:39:42.952Z] Validating nodejs source
[debug] [2024-11-12T04:39:44.092Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:39:44.093Z] Building nodejs source
[debug] [2024-11-12T04:39:44.093Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:39:44.098Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:39:44.101Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8252

[debug] [2024-11-12T04:39:44.793Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:39:44.810Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:39:44.810Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: FINISHING"}}
[debug] [2024-11-12T04:39:44.817Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: exited"}}
[debug] [2024-11-12T04:39:44.817Z] [worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-479ba874-79bd-4017-8191-3b10afad7e2a]: FINISHED"}}
[debug] [2024-11-12T04:39:45.609Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:39:46.611Z] Validating nodejs source
[debug] [2024-11-12T04:39:47.189Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:39:47.190Z] Building nodejs source
[debug] [2024-11-12T04:39:47.190Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:39:47.193Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:39:47.194Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8334

[debug] [2024-11-12T04:39:47.695Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:39:54.613Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:39:55.621Z] Validating nodejs source
[debug] [2024-11-12T04:39:56.303Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:39:56.303Z] Building nodejs source
[debug] [2024-11-12T04:39:56.304Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:39:56.305Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:39:56.306Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T04:39:56.307Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8670

[debug] [2024-11-12T04:39:56.717Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:39:57.309Z] Validating nodejs source
[debug] [2024-11-12T04:39:57.840Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:39:57.840Z] Building nodejs source
[debug] [2024-11-12T04:39:57.840Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:39:57.841Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:39:57.842Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8016

[debug] [2024-11-12T04:39:58.276Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:40:19.900Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:40:19.900Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:40:19.902Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:40:19.900Z"],"workRunningCount":1}
[debug] [2024-11-12T04:40:19.902Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:40:19.906Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:40:19.907Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:40:19.907Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:40:19.912Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:40:19.912Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:40:21.002Z] [runtime-status] [32320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:40:21.003Z] [runtime-status] [32320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:40:21.004Z] [runtime-status] [32320] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:40:21.004Z] [runtime-status] [32320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:40:21.179Z] [runtime-status] [32320] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:40:21.179Z] [runtime-status] [32320] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:40:21.179Z] [runtime-status] [32320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:40:21.183Z] [runtime-status] [32320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:40:21.184Z] [runtime-status] [32320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:40:21.185Z] [runtime-status] [32320] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:40:21.217Z] [runtime-status] [32320] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:40:21.454Z] [runtime-status] [32320] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:40:21.454Z] [runtime-status] [32320] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_8d22f3d018417d7d.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32320] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_8d22f3d018417d7d.sock"}}
[debug] [2024-11-12T04:40:21.540Z] [worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: IDLE"}}
[debug] [2024-11-12T04:40:21.540Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:40:21.540Z] [worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: BUSY"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'user', {"user":"  sender: 'user',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'user',"}}
[info] >    message: 'Do you know the causes', {"user":"  message: 'Do you know the causes',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Do you know the causes',"}}
[info] >    timestamp: '1731386421555' {"user":"  timestamp: '1731386421555'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731386421555'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:33:49) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:33:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:33:49)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'qwen', {"user":"  sender: 'qwen',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'qwen',"}}
[info] >    message: 'Certainly! Based on the previous analysis, the cause of the severe issues in the plant is the presence of a large caterpillar, likely a corn earworm. Here are some detailed insights and actionable advice:\n' + {"user":"  message: 'Certainly! Based on the previous analysis, the cause of the severe issues in the plant is the presence of a large caterpillar, likely a corn earworm. Here are some detailed insights and actionable advice:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Certainly! Based on the previous analysis, the cause of the severe issues in the plant is the presence of a large caterpillar, likely a corn earworm. Here are some detailed insights and actionable advice:\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '**Causes:**\n' + {"user":"    '**Causes:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '**Causes:**\\n' +"}}
[info] >      '- **Pest Infestation:** The primary cause of the severe issues is the infestation by a corn earworm, a common pest that feeds on corn and other crops, causing significant damage.\n' + {"user":"    '- **Pest Infestation:** The primary cause of the severe issues is the infestation by a corn earworm, a common pest that feeds on corn and other crops, causing significant damage.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Pest Infestation:** The primary cause of the severe issues is the infestation by a corn earworm, a common pest that feeds on corn and other crops, causing significant damage.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '**Actionable Advice:**\n' + {"user":"    '**Actionable Advice:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '**Actionable Advice:**\\n' +"}}
[info] >      '1. **Apply Insecticides:**\n' + {"user":"    '1. **Apply Insecticides:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '1. **Apply Insecticides:**\\n' +"}}
[info] >      "   - Choose an appropriate insecticide registered for use against corn earworms on your crop. Follow the manufacturer's instructions for application rates and safety precautions.\n" + {"user":"    \"   - Choose an appropriate insecticide registered for use against corn earworms on your crop. Follow the manufacturer's instructions for application rates and safety precautions.\\n\" +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"   - Choose an appropriate insecticide registered for use against corn earworms on your crop. Follow the manufacturer's instructions for application rates and safety precautions.\\n\" +"}}
[info] >      '   - Timing is crucial; apply insecticides when the pest is first noticed to prevent further damage.\n' + {"user":"    '   - Timing is crucial; apply insecticides when the pest is first noticed to prevent further damage.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - Timing is crucial; apply insecticides when the pest is first noticed to prevent further damage.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '2. **Monitor the Field:**\n' + {"user":"    '2. **Monitor the Field:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '2. **Monitor the Field:**\\n' +"}}
[info] >      '   - Regularly inspect plants for signs of pest activity. Look for damage patterns that indicate corn earworm activity, such as feeding holes in the ears or silk tunnels.\n' + {"user":"    '   - Regularly inspect plants for signs of pest activity. Look for damage patterns that indicate corn earworm activity, such as feeding holes in the ears or silk tunnels.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - Regularly inspect plants for signs of pest activity. Look for damage patterns that indicate corn earworm activity, such as feeding holes in the ears or silk tunnels.\\n' +"}}
[info] >      '   - Keep a log of pest activity to track the effectiveness of your control measures.\n' + {"user":"    '   - Keep a log of pest activity to track the effectiveness of your control measures.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - Keep a log of pest activity to track the effectiveness of your control measures.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '3. **Integrated Pest Management (IPM) Strategies:**\n' + {"user":"    '3. **Integrated Pest Management (IPM) Strategies:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '3. **Integrated Pest Management (IPM) Strategies:**\\n' +"}}
[info] >      "   - **Cultural Control:** Rotate crops to disrupt the pest's life cycle and reduce the buildup of pest populations.\n" + {"user":"    \"   - **Cultural Control:** Rotate crops to disrupt the pest's life cycle and reduce the buildup of pest populations.\\n\" +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"   - **Cultural Control:** Rotate crops to disrupt the pest's life cycle and reduce the buildup of pest populations.\\n\" +"}}
[info] >      '   - **Biological Control:** Introduce natural enemies of the corn earworm, such as parasitic wasps, which can help control the pest population.\n' + {"user":"    '   - **Biological Control:** Introduce natural enemies of the corn earworm, such as parasitic wasps, which can help control the pest population.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - **Biological Control:** Introduce natural enemies of the corn earworm, such as parasitic wasps, which can help control the pest population.\\n' +"}}
[info] >      '   - **Chemical Control:** Use insecticides as a last resort, choosing selective products that target specific pests and minimize harm to beneficial insects.\n' + {"user":"    '   - **Chemical Control:** Use insecticides as a last resort, choosing selective products that target specific pests and minimize harm to beneficial insects.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - **Chemical Control:** Use insecticides as a last resort, choosing selective products that target specific pests and minimize harm to beneficial insects.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '4. **Preventative Measures:**\n' + {"user":"    '4. **Preventative Measures:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '4. **Preventative Measures:**\\n' +"}}
[info] >      '   - Maintain good field hygiene by cleaning up plant debris that can harbor pests.\n' + {"user":"    '   - Maintain good field hygiene by cleaning up plant debris that can harbor pests.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - Maintain good field hygiene by cleaning up plant debris that can harbor pests.\\n' +"}}
[info] >      '   - Use crop covers or netting to physically protect plants from insect infestations.\n' + {"user":"    '   - Use crop covers or netting to physically protect plants from insect infestations.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - Use crop covers or netting to physically protect plants from insect infestations.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'By addressing the infestation with a combination of these strategies, you can effectively manage the corn earworm and improve the health of your plants. Regular monitoring and prompt action are key to preventing future infestations and maintaining healthy crop yields.', {"user":"    'By addressing the infestation with a combination of these strategies, you can effectively manage the corn earworm and improve the health of your plants. Regular monitoring and prompt action are key to preventing future infestations and maintaining healthy crop yields.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'By addressing the infestation with a combination of these strategies, you can effectively manage the corn earworm and improve the health of your plants. Regular monitoring and prompt action are key to preventing future infestations and maintaining healthy crop yields.',"}}
[info] >    timestamp: '1731386431055' {"user":"  timestamp: '1731386431055'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731386431055'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:33:49) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:33:49)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:33:49)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:40:31.065Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 9525.388167ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 9525.388167ms"}}
[debug] [2024-11-12T04:40:31.066Z] [worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: IDLE"}}
[debug] [2024-11-12T04:40:31.066Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:40:31.066Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:40:31.066Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:40:33.322Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:40:34.325Z] Validating nodejs source
[debug] [2024-11-12T04:40:35.028Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:40:35.028Z] Building nodejs source
[debug] [2024-11-12T04:40:35.028Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:40:35.031Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:40:35.032Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8423

[debug] [2024-11-12T04:40:35.553Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:40:35.573Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:40:35.573Z] [worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: FINISHING"}}
[debug] [2024-11-12T04:40:35.584Z] [worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: exited"}}
[debug] [2024-11-12T04:40:35.585Z] [worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-51115134-912c-4986-ac46-b319dfcd1567]: FINISHED"}}
[debug] [2024-11-12T04:40:37.404Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:40:37.404Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:40:37.405Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:40:37.404Z"],"workRunningCount":1}
[debug] [2024-11-12T04:40:37.405Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:40:37.408Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:40:37.408Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:40:37.408Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:40:37.410Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:40:37.410Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:40:38.360Z] [runtime-status] [32421] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:40:38.360Z] [runtime-status] [32421] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:40:38.360Z] [runtime-status] [32421] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:40:38.361Z] [runtime-status] [32421] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:40:38.459Z] [runtime-status] [32421] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:40:38.459Z] [runtime-status] [32421] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:40:38.460Z] [runtime-status] [32421] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:40:38.463Z] [runtime-status] [32421] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:40:38.464Z] [runtime-status] [32421] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:40:38.465Z] [runtime-status] [32421] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:40:38.487Z] [runtime-status] [32421] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:40:38.644Z] [runtime-status] [32421] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:40:38.644Z] [runtime-status] [32421] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_2f3037e8df685924.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32421] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_2f3037e8df685924.sock"}}
[debug] [2024-11-12T04:40:38.735Z] [worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: IDLE"}}
[debug] [2024-11-12T04:40:38.735Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:40:38.735Z] [worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: BUSY"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'user', {"user":"  sender: 'user',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'user',"}}
[info] >    message: 'Do you know the causes', {"user":"  message: 'Do you know the causes',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Do you know the causes',"}}
[info] >    timestamp: '1731386438747' {"user":"  timestamp: '1731386438747'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731386438747'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 100. Chat entry added successfully to customer's db! docId:  11111 {"user":">>>> 100. Chat entry added successfully to customer's db! docId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Chat entry added successfully to customer's db! docId:  11111"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'qwen', {"user":"  sender: 'qwen',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'qwen',"}}
[info] >    message: '```markdown\n' + {"user":"  message: '```markdown\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: '```markdown\\n' +"}}
[info] >      'Certainly! The presence of a corn earworm, as identified in the previous analysis, can be attributed to several factors:\n' + {"user":"    'Certainly! The presence of a corn earworm, as identified in the previous analysis, can be attributed to several factors:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Certainly! The presence of a corn earworm, as identified in the previous analysis, can be attributed to several factors:\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '1. **Crop Management**: Overwintering larvae can hatch from the soil in the spring and infest young plants. Improper crop rotation can increase the likelihood of infestation since corn earworms can survive on various crops.\n' + {"user":"    '1. **Crop Management**: Overwintering larvae can hatch from the soil in the spring and infest young plants. Improper crop rotation can increase the likelihood of infestation since corn earworms can survive on various crops.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '1. **Crop Management**: Overwintering larvae can hatch from the soil in the spring and infest young plants. Improper crop rotation can increase the likelihood of infestation since corn earworms can survive on various crops.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '2. **Environmental Factors**: Warm, moist conditions are favorable for the development and survival of corn earworms. These conditions can lead to higher pest populations.\n' + {"user":"    '2. **Environmental Factors**: Warm, moist conditions are favorable for the development and survival of corn earworms. These conditions can lead to higher pest populations.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '2. **Environmental Factors**: Warm, moist conditions are favorable for the development and survival of corn earworms. These conditions can lead to higher pest populations.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '3. **Lack of Predators**: Natural predators of corn earworms, such as parasitic wasps and birds, might be absent or in low numbers, allowing the pest population to grow unchecked.\n' + {"user":"    '3. **Lack of Predators**: Natural predators of corn earworms, such as parasitic wasps and birds, might be absent or in low numbers, allowing the pest population to grow unchecked.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '3. **Lack of Predators**: Natural predators of corn earworms, such as parasitic wasps and birds, might be absent or in low numbers, allowing the pest population to grow unchecked.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '4. **Resistant Varieties**: Planting crops that are resistant to corn earworm damage can help reduce infestations. The absence of resistant varieties can make the plants more susceptible to attack.\n' + {"user":"    '4. **Resistant Varieties**: Planting crops that are resistant to corn earworm damage can help reduce infestations. The absence of resistant varieties can make the plants more susceptible to attack.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '4. **Resistant Varieties**: Planting crops that are resistant to corn earworm damage can help reduce infestations. The absence of resistant varieties can make the plants more susceptible to attack.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '5. **Pest Management Practices**: Inadequate or improperly timed insecticide applications can lead to infestations. Over-reliance on chemical control without incorporating other pest management strategies can also contribute to the problem.\n' + {"user":"    '5. **Pest Management Practices**: Inadequate or improperly timed insecticide applications can lead to infestations. Over-reliance on chemical control without incorporating other pest management strategies can also contribute to the problem.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '5. **Pest Management Practices**: Inadequate or improperly timed insecticide applications can lead to infestations. Over-reliance on chemical control without incorporating other pest management strategies can also contribute to the problem.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'To address these causes, consider implementing a combination of the following strategies:\n' + {"user":"    'To address these causes, consider implementing a combination of the following strategies:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'To address these causes, consider implementing a combination of the following strategies:\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Crop Rotation**: Rotate crops to disrupt the life cycle of the corn earworm.\n' + {"user":"    '- **Crop Rotation**: Rotate crops to disrupt the life cycle of the corn earworm.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Crop Rotation**: Rotate crops to disrupt the life cycle of the corn earworm.\\n' +"}}
[info] >      '- **Use of Resistant Varieties**: Plant varieties that are less susceptible to corn earworm damage.\n' + {"user":"    '- **Use of Resistant Varieties**: Plant varieties that are less susceptible to corn earworm damage.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Use of Resistant Varieties**: Plant varieties that are less susceptible to corn earworm damage.\\n' +"}}
[info] >      '- **Integrated Pest Management (IPM)**: Combine biological, cultural, and chemical controls to manage pests effectively and sustainably.\n' + {"user":"    '- **Integrated Pest Management (IPM)**: Combine biological, cultural, and chemical controls to manage pests effectively and sustainably.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Integrated Pest Management (IPM)**: Combine biological, cultural, and chemical controls to manage pests effectively and sustainably.\\n' +"}}
[info] >      '- **Monitor and Control**: Regularly inspect crops for signs of infestation and apply appropriate insecticides as needed, following label instructions carefully.\n' + {"user":"    '- **Monitor and Control**: Regularly inspect crops for signs of infestation and apply appropriate insecticides as needed, following label instructions carefully.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Monitor and Control**: Regularly inspect crops for signs of infestation and apply appropriate insecticides as needed, following label instructions carefully.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'By addressing these factors, you can help prevent and manage corn earworm infestations in the future.\n' + {"user":"    'By addressing these factors, you can help prevent and manage corn earworm infestations in the future.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'By addressing these factors, you can help prevent and manage corn earworm infestations in the future.\\n' +"}}
[info] >      '```', {"user":"    '```',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '```',"}}
[info] >    timestamp: '1731386448627' {"user":"  timestamp: '1731386448627'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731386448627'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 100. Chat entry added successfully to customer's db! docId:  11111 {"user":">>>> 100. Chat entry added successfully to customer's db! docId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Chat entry added successfully to customer's db! docId:  11111"}}
[debug] [2024-11-12T04:40:48.634Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 9899.392125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 9899.392125ms"}}
[debug] [2024-11-12T04:40:48.635Z] [worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: IDLE"}}
[debug] [2024-11-12T04:40:48.635Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:40:48.635Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:40:48.635Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:40:55.096Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:40:56.105Z] Validating nodejs source
[debug] [2024-11-12T04:40:57.558Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:40:57.559Z] Building nodejs source
[debug] [2024-11-12T04:40:57.559Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:40:57.562Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:40:57.563Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8279

[debug] [2024-11-12T04:40:58.408Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:40:58.419Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:40:58.419Z] [worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: FINISHING"}}
[debug] [2024-11-12T04:40:58.432Z] [worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: exited"}}
[debug] [2024-11-12T04:40:58.432Z] [worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-2fd781e8-57bd-4653-aae8-d7bdc20495a8]: FINISHED"}}
[debug] [2024-11-12T04:40:59.203Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:40:59.202Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:40:59.203Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:40:59.202Z"],"workRunningCount":1}
[debug] [2024-11-12T04:40:59.203Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:40:59.207Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:40:59.207Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:40:59.207Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:40:59.210Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:40:59.210Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:41:00.220Z] [runtime-status] [32577] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:41:00.220Z] [runtime-status] [32577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:41:00.221Z] [runtime-status] [32577] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:41:00.221Z] [runtime-status] [32577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:41:00.328Z] [runtime-status] [32577] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:41:00.328Z] [runtime-status] [32577] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:41:00.329Z] [runtime-status] [32577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:41:00.333Z] [runtime-status] [32577] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:41:00.334Z] [runtime-status] [32577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:41:00.334Z] [runtime-status] [32577] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:41:00.355Z] [runtime-status] [32577] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:41:00.507Z] [runtime-status] [32577] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:41:00.507Z] [runtime-status] [32577] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_0af0b54c52be23cb.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32577] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_0af0b54c52be23cb.sock"}}
[debug] [2024-11-12T04:41:00.532Z] [worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: IDLE"}}
[debug] [2024-11-12T04:41:00.532Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:41:00.533Z] [worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: BUSY"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'user', {"user":"  sender: 'user',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'user',"}}
[info] >    message: 'Do you know the causes', {"user":"  message: 'Do you know the causes',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Do you know the causes',"}}
[info] >    timestamp: '1731386460548' {"user":"  timestamp: '1731386460548'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731386460548'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:30:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:30:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:30:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'qwen', {"user":"  sender: 'qwen',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'qwen',"}}
[info] >    message: '### Causes of Corn Earworm Infestation\n' + {"user":"  message: '### Causes of Corn Earworm Infestation\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: '### Causes of Corn Earworm Infestation\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'Corn earworms (Helicoverpa zea) are common pests that can cause significant damage to crops. Here are the main causes of corn earworm infestation:\n' + {"user":"    'Corn earworms (Helicoverpa zea) are common pests that can cause significant damage to crops. Here are the main causes of corn earworm infestation:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Corn earworms (Helicoverpa zea) are common pests that can cause significant damage to crops. Here are the main causes of corn earworm infestation:\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '1. **Crop Rotation**: Lack of proper crop rotation can lead to a buildup of pests in the soil. Corn earworms can overwinter in the soil and move to new crops.\n' + {"user":"    '1. **Crop Rotation**: Lack of proper crop rotation can lead to a buildup of pests in the soil. Corn earworms can overwinter in the soil and move to new crops.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '1. **Crop Rotation**: Lack of proper crop rotation can lead to a buildup of pests in the soil. Corn earworms can overwinter in the soil and move to new crops.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '2. **Host Plants**: Corn earworms feed on a variety of plants, including corn, cotton, tomatoes, and many others. The presence of these host plants can attract the pest.\n' + {"user":"    '2. **Host Plants**: Corn earworms feed on a variety of plants, including corn, cotton, tomatoes, and many others. The presence of these host plants can attract the pest.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '2. **Host Plants**: Corn earworms feed on a variety of plants, including corn, cotton, tomatoes, and many others. The presence of these host plants can attract the pest.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '3. **Climate**: Warm, moist conditions are ideal for corn earworms. They thrive in such environments, leading to increased infestations.\n' + {"user":"    '3. **Climate**: Warm, moist conditions are ideal for corn earworms. They thrive in such environments, leading to increased infestations.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '3. **Climate**: Warm, moist conditions are ideal for corn earworms. They thrive in such environments, leading to increased infestations.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '4. **Resistant Varieties**: Planting varieties of crops that are resistant to corn earworms can help reduce infestations. Lack of such resistant varieties can make the crops more susceptible to attack.\n' + {"user":"    '4. **Resistant Varieties**: Planting varieties of crops that are resistant to corn earworms can help reduce infestations. Lack of such resistant varieties can make the crops more susceptible to attack.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '4. **Resistant Varieties**: Planting varieties of crops that are resistant to corn earworms can help reduce infestations. Lack of such resistant varieties can make the crops more susceptible to attack.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '5. **Integrated Pest Management (IPM) Practices**: Inadequate implementation of IPM practices, such as biological control, crop rotation, and proper pesticide use, can lead to higher pest populations.\n' + {"user":"    '5. **Integrated Pest Management (IPM) Practices**: Inadequate implementation of IPM practices, such as biological control, crop rotation, and proper pesticide use, can lead to higher pest populations.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '5. **Integrated Pest Management (IPM) Practices**: Inadequate implementation of IPM practices, such as biological control, crop rotation, and proper pesticide use, can lead to higher pest populations.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '### Practical Advice\n' + {"user":"    '### Practical Advice\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '### Practical Advice\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Implement Crop Rotation**: Rotate crops to disrupt the pest lifecycle and reduce pest populations.\n' + {"user":"    '- **Implement Crop Rotation**: Rotate crops to disrupt the pest lifecycle and reduce pest populations.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Implement Crop Rotation**: Rotate crops to disrupt the pest lifecycle and reduce pest populations.\\n' +"}}
[info] >      '- **Use Resistant Varieties**: Plant crop varieties that are resistant to corn earworms.\n' + {"user":"    '- **Use Resistant Varieties**: Plant crop varieties that are resistant to corn earworms.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Use Resistant Varieties**: Plant crop varieties that are resistant to corn earworms.\\n' +"}}
[info] >      '- **Monitor Crops Regularly**: Early detection and management are key to controlling corn earworms. Regular monitoring can help you catch and address infestations before they become severe.\n' + {"user":"    '- **Monitor Crops Regularly**: Early detection and management are key to controlling corn earworms. Regular monitoring can help you catch and address infestations before they become severe.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Monitor Crops Regularly**: Early detection and management are key to controlling corn earworms. Regular monitoring can help you catch and address infestations before they become severe.\\n' +"}}
[info] >      '- **Integrated Pest Management (IPM)**: Adopt a comprehensive IPM strategy that includes biological control, cultural practices, and selective use of pesticides.\n' + {"user":"    '- **Integrated Pest Management (IPM)**: Adopt a comprehensive IPM strategy that includes biological control, cultural practices, and selective use of pesticides.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Integrated Pest Management (IPM)**: Adopt a comprehensive IPM strategy that includes biological control, cultural practices, and selective use of pesticides.\\n' +"}}
[info] >      '- **Pesticide Use**: If necessary, apply insecticides that are specifically labeled for corn earworm control. Follow the recommended application rates and timings for best results.\n' + {"user":"    '- **Pesticide Use**: If necessary, apply insecticides that are specifically labeled for corn earworm control. Follow the recommended application rates and timings for best results.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Pesticide Use**: If necessary, apply insecticides that are specifically labeled for corn earworm control. Follow the recommended application rates and timings for best results.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'By addressing these causes and implementing the recommended practices, you can manage and reduce corn earworm infestations in your crops.', {"user":"    'By addressing these causes and implementing the recommended practices, you can manage and reduce corn earworm infestations in your crops.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'By addressing these causes and implementing the recommended practices, you can manage and reduce corn earworm infestations in your crops.',"}}
[info] >    timestamp: '1731386473149' {"user":"  timestamp: '1731386473149'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731386473149'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:30:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:30:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:30:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:41:13.179Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 12646.845208ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 12646.845208ms"}}
[debug] [2024-11-12T04:41:13.180Z] [worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: IDLE"}}
[debug] [2024-11-12T04:41:13.180Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:41:13.180Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:41:13.180Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:42:17.209Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:42:18.213Z] Validating nodejs source
[debug] [2024-11-12T04:42:18.946Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:42:18.946Z] Building nodejs source
[debug] [2024-11-12T04:42:18.946Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:42:18.948Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:42:18.949Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8262

[debug] [2024-11-12T04:42:19.552Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:42:19.610Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:42:19.619Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:42:19.619Z] [worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: FINISHING"}}
[debug] [2024-11-12T04:42:19.634Z] [worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: exited"}}
[debug] [2024-11-12T04:42:19.634Z] [worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3e59609-9876-4449-b266-8c4e300c6b97]: FINISHED"}}
[debug] [2024-11-12T04:42:20.554Z] Validating nodejs source
[debug] [2024-11-12T04:42:21.200Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:42:21.200Z] Building nodejs source
[debug] [2024-11-12T04:42:21.200Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:42:21.201Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:42:21.202Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8254

[debug] [2024-11-12T04:42:21.773Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:42:23.325Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:42:24.327Z] Validating nodejs source
[debug] [2024-11-12T04:42:24.929Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:42:24.929Z] Building nodejs source
[debug] [2024-11-12T04:42:24.929Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:42:24.930Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:42:24.931Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8936

[debug] [2024-11-12T04:42:25.315Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:42:27.623Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:42:27.623Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:42:27.625Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:42:27.623Z"],"workRunningCount":1}
[debug] [2024-11-12T04:42:27.625Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:42:27.629Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:42:27.629Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:42:27.629Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:42:27.632Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:42:27.632Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:42:28.661Z] [runtime-status] [32987] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:42:28.662Z] [runtime-status] [32987] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:42:28.662Z] [runtime-status] [32987] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:42:28.663Z] [runtime-status] [32987] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:42:28.761Z] [runtime-status] [32987] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:42:28.761Z] [runtime-status] [32987] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:42:28.763Z] [runtime-status] [32987] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:42:28.764Z] [runtime-status] [32987] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:42:28.767Z] [runtime-status] [32987] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:42:28.767Z] [runtime-status] [32987] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:42:28.789Z] [runtime-status] [32987] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:42:28.953Z] [runtime-status] [32987] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:42:28.954Z] [runtime-status] [32987] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_2968c6a3368acfc0.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [32987] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_2968c6a3368acfc0.sock"}}
[debug] [2024-11-12T04:42:29.054Z] [worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: IDLE"}}
[debug] [2024-11-12T04:42:29.055Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:42:29.055Z] [worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: BUSY"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'user', {"user":"  sender: 'user',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'user',"}}
[info] >    message: 'Do you know the causes', {"user":"  message: 'Do you know the causes',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Do you know the causes',"}}
[info] >    timestamp: '1731386549067' {"user":"  timestamp: '1731386549067'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731386549067'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Result of arrayUnion: [Function: bound fn] {"user":"Result of arrayUnion: [Function: bound fn]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Result of arrayUnion: [Function: bound fn]"}}
[info] >  >>>> 100. Chat entry added successfully to customer's db! docId:  11111 {"user":">>>> 100. Chat entry added successfully to customer's db! docId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Chat entry added successfully to customer's db! docId:  11111"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'qwen', {"user":"  sender: 'qwen',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'qwen',"}}
[info] >    message: 'Certainly! To address the causes of the pest infestation detected in your plant:\n' + {"user":"  message: 'Certainly! To address the causes of the pest infestation detected in your plant:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Certainly! To address the causes of the pest infestation detected in your plant:\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '**Causes of Corn Earworm Infestation:**\n' + {"user":"    '**Causes of Corn Earworm Infestation:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '**Causes of Corn Earworm Infestation:**\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '1. **Environmental Factors:**\n' + {"user":"    '1. **Environmental Factors:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '1. **Environmental Factors:**\\n' +"}}
[info] >      '   - **Climate:** Corn earworms thrive in warm, humid conditions. High temperatures and humidity can increase their population and activity.\n' + {"user":"    '   - **Climate:** Corn earworms thrive in warm, humid conditions. High temperatures and humidity can increase their population and activity.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - **Climate:** Corn earworms thrive in warm, humid conditions. High temperatures and humidity can increase their population and activity.\\n' +"}}
[info] >      '   - **Crop Rotation:** Lack of crop rotation can allow corn earworms to persist in the soil from one season to the next, especially if the same crops are planted continuously.\n' + {"user":"    '   - **Crop Rotation:** Lack of crop rotation can allow corn earworms to persist in the soil from one season to the next, especially if the same crops are planted continuously.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - **Crop Rotation:** Lack of crop rotation can allow corn earworms to persist in the soil from one season to the next, especially if the same crops are planted continuously.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '2. **Cultural Practices:**\n' + {"user":"    '2. **Cultural Practices:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '2. **Cultural Practices:**\\n' +"}}
[info] >      '   - **Pest Management Practices:** Insufficient pest management practices, such as inadequate use of insecticides or lack of monitoring, can lead to unchecked pest populations.\n' + {"user":"    '   - **Pest Management Practices:** Insufficient pest management practices, such as inadequate use of insecticides or lack of monitoring, can lead to unchecked pest populations.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - **Pest Management Practices:** Insufficient pest management practices, such as inadequate use of insecticides or lack of monitoring, can lead to unchecked pest populations.\\n' +"}}
[info] >      '   - **Weed Management:** Weeds can serve as hosts for corn earworms, providing a breeding ground and a food source that can sustain their population.\n' + {"user":"    '   - **Weed Management:** Weeds can serve as hosts for corn earworms, providing a breeding ground and a food source that can sustain their population.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - **Weed Management:** Weeds can serve as hosts for corn earworms, providing a breeding ground and a food source that can sustain their population.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '3. **Plant Health:**\n' + {"user":"    '3. **Plant Health:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '3. **Plant Health:**\\n' +"}}
[info] >      '   - **Plant Stress:** Plants under stress due to nutrient deficiencies, water stress, or other diseases are more susceptible to pest attacks, including corn earworms.\n' + {"user":"    '   - **Plant Stress:** Plants under stress due to nutrient deficiencies, water stress, or other diseases are more susceptible to pest attacks, including corn earworms.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - **Plant Stress:** Plants under stress due to nutrient deficiencies, water stress, or other diseases are more susceptible to pest attacks, including corn earworms.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '**Practical Recommendations:**\n' + {"user":"    '**Practical Recommendations:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '**Practical Recommendations:**\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Insecticide Application:** Apply insecticides specifically formulated to target corn earworms. Follow the application guidelines to ensure effective pest control while minimizing environmental impact.\n' + {"user":"    '- **Insecticide Application:** Apply insecticides specifically formulated to target corn earworms. Follow the application guidelines to ensure effective pest control while minimizing environmental impact.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Insecticide Application:** Apply insecticides specifically formulated to target corn earworms. Follow the application guidelines to ensure effective pest control while minimizing environmental impact.\\n' +"}}
[info] >      '- **Monitor the Field:** Regularly inspect your plants for signs of pest activity, such as chewed leaves or tunnels in the plant tissue. Early detection can prevent the infestation from spreading.\n' + {"user":"    '- **Monitor the Field:** Regularly inspect your plants for signs of pest activity, such as chewed leaves or tunnels in the plant tissue. Early detection can prevent the infestation from spreading.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Monitor the Field:** Regularly inspect your plants for signs of pest activity, such as chewed leaves or tunnels in the plant tissue. Early detection can prevent the infestation from spreading.\\n' +"}}
[info] >      '- **Integrated Pest Management (IPM):**\n' + {"user":"    '- **Integrated Pest Management (IPM):**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Integrated Pest Management (IPM):**\\n' +"}}
[info] >      '  - **Crop Rotation:** Rotate crops to disrupt the life cycle of corn earworms and reduce their population in the soil.\n' + {"user":"    '  - **Crop Rotation:** Rotate crops to disrupt the life cycle of corn earworms and reduce their population in the soil.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '  - **Crop Rotation:** Rotate crops to disrupt the life cycle of corn earworms and reduce their population in the soil.\\n' +"}}
[info] >      '  - **Biological Control:** Consider using natural predators or parasites of corn earworms to control their population.\n' + {"user":"    '  - **Biological Control:** Consider using natural predators or parasites of corn earworms to control their population.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '  - **Biological Control:** Consider using natural predators or parasites of corn earworms to control their population.\\n' +"}}
[info] >      '  - **Cultural Controls:** Maintain good weed control practices and ensure the health of your plants by providing adequate nutrients and water.\n' + {"user":"    '  - **Cultural Controls:** Maintain good weed control practices and ensure the health of your plants by providing adequate nutrients and water.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '  - **Cultural Controls:** Maintain good weed control practices and ensure the health of your plants by providing adequate nutrients and water.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'By implementing these strategies, you can address the causes of the corn earworm infestation and work towards maintaining a healthier plant environment.', {"user":"    'By implementing these strategies, you can address the causes of the corn earworm infestation and work towards maintaining a healthier plant environment.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'By implementing these strategies, you can address the causes of the corn earworm infestation and work towards maintaining a healthier plant environment.',"}}
[info] >    timestamp: '1731386561294' {"user":"  timestamp: '1731386561294'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731386561294'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Result of arrayUnion: [Function: bound fn] {"user":"Result of arrayUnion: [Function: bound fn]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Result of arrayUnion: [Function: bound fn]"}}
[info] >  >>>> 100. Chat entry added successfully to customer's db! docId:  11111 {"user":">>>> 100. Chat entry added successfully to customer's db! docId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Chat entry added successfully to customer's db! docId:  11111"}}
[debug] [2024-11-12T04:42:41.305Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 12250.691709ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 12250.691709ms"}}
[debug] [2024-11-12T04:42:41.306Z] [worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: IDLE"}}
[debug] [2024-11-12T04:42:41.306Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:42:41.306Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:42:41.306Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:42:55.029Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:42:56.033Z] Validating nodejs source
[debug] [2024-11-12T04:42:56.683Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:42:56.683Z] Building nodejs source
[debug] [2024-11-12T04:42:56.683Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:42:56.685Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:42:56.686Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8319

[debug] [2024-11-12T04:42:57.188Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:42:57.196Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:42:57.196Z] [worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: FINISHING"}}
[debug] [2024-11-12T04:42:57.207Z] [worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: exited"}}
[debug] [2024-11-12T04:42:57.207Z] [worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-3bc441f4-9316-4149-8eb6-a85a18b9fac2]: FINISHED"}}
[debug] [2024-11-12T04:43:09.308Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:43:10.312Z] Validating nodejs source
[debug] [2024-11-12T04:43:10.959Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:43:10.959Z] Building nodejs source
[debug] [2024-11-12T04:43:10.959Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:43:10.961Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:43:10.962Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8751

[debug] [2024-11-12T04:43:11.533Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:43:12.273Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:43:13.275Z] Validating nodejs source
[debug] [2024-11-12T04:43:13.768Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:43:13.768Z] Building nodejs source
[debug] [2024-11-12T04:43:13.768Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:43:13.769Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:43:13.770Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8461

[debug] [2024-11-12T04:43:14.152Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:43:17.384Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:43:17.384Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:43:17.385Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:43:17.384Z"],"workRunningCount":1}
[debug] [2024-11-12T04:43:17.385Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:43:17.389Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:43:17.389Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:43:17.389Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:43:17.391Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:43:17.391Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:43:18.444Z] [runtime-status] [33355] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:43:18.445Z] [runtime-status] [33355] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:43:18.445Z] [runtime-status] [33355] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:43:18.445Z] [runtime-status] [33355] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:43:18.567Z] [runtime-status] [33355] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:43:18.569Z] [runtime-status] [33355] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:43:18.570Z] [runtime-status] [33355] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:43:18.573Z] [runtime-status] [33355] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:43:18.574Z] [runtime-status] [33355] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:43:18.575Z] [runtime-status] [33355] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:43:18.597Z] [runtime-status] [33355] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:43:18.998Z] [runtime-status] [33355] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:43:18.999Z] [runtime-status] [33355] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_88e22cc203732a92.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [33355] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_88e22cc203732a92.sock"}}
[debug] [2024-11-12T04:43:19.034Z] [worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: IDLE"}}
[debug] [2024-11-12T04:43:19.034Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:43:19.034Z] [worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: BUSY"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'user', {"user":"  sender: 'user',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'user',"}}
[info] >    message: 'Do you know the causes', {"user":"  message: 'Do you know the causes',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Do you know the causes',"}}
[info] >    timestamp: '1731386599049' {"user":"  timestamp: '1731386599049'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731386599049'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 444. Result of arrayUnion: undefined {"user":">>>>>> 444. Result of arrayUnion: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 444. Result of arrayUnion: undefined"}}
[info] >  >>>> 100. Chat entry added successfully to customer's db! docId:  11111 {"user":">>>> 100. Chat entry added successfully to customer's db! docId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Chat entry added successfully to customer's db! docId:  11111"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'qwen', {"user":"  sender: 'qwen',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'qwen',"}}
[info] >    message: '### Causes of the Current Plant Health Status\n' + {"user":"  message: '### Causes of the Current Plant Health Status\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: '### Causes of the Current Plant Health Status\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      "The analysis indicates that the plant is experiencing **Severe Issues**, primarily due to the presence of a **large caterpillar, likely a corn earworm**. Corn earworms are a common pest that can cause significant damage to plants, especially to corn, tomatoes, and other crops. They feed on the plant's leaves, flowers, and fruits, leading to a reduction in yield and plant health.\n" + {"user":"    \"The analysis indicates that the plant is experiencing **Severe Issues**, primarily due to the presence of a **large caterpillar, likely a corn earworm**. Corn earworms are a common pest that can cause significant damage to plants, especially to corn, tomatoes, and other crops. They feed on the plant's leaves, flowers, and fruits, leading to a reduction in yield and plant health.\\n\" +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"The analysis indicates that the plant is experiencing **Severe Issues**, primarily due to the presence of a **large caterpillar, likely a corn earworm**. Corn earworms are a common pest that can cause significant damage to plants, especially to corn, tomatoes, and other crops. They feed on the plant's leaves, flowers, and fruits, leading to a reduction in yield and plant health.\\n\" +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '#### Factors Contributing to the Pest Infestation:\n' + {"user":"    '#### Factors Contributing to the Pest Infestation:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '#### Factors Contributing to the Pest Infestation:\\n' +"}}
[info] >      '1. **Environmental Conditions**: Warm, moist conditions are favorable for the development of corn earworms. If the environment has been conducive to their growth, it could have led to the infestation.\n' + {"user":"    '1. **Environmental Conditions**: Warm, moist conditions are favorable for the development of corn earworms. If the environment has been conducive to their growth, it could have led to the infestation.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '1. **Environmental Conditions**: Warm, moist conditions are favorable for the development of corn earworms. If the environment has been conducive to their growth, it could have led to the infestation.\\n' +"}}
[info] >      '2. **Lack of Predators**: A reduction in natural predators such as birds, parasitic wasps, and spiders can allow pest populations to increase unchecked.\n' + {"user":"    '2. **Lack of Predators**: A reduction in natural predators such as birds, parasitic wasps, and spiders can allow pest populations to increase unchecked.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '2. **Lack of Predators**: A reduction in natural predators such as birds, parasitic wasps, and spiders can allow pest populations to increase unchecked.\\n' +"}}
[info] >      '3. **Cultural Practices**: Practices like continuous cropping, poor crop rotation, and lack of cover crops can contribute to higher pest pressures.\n' + {"user":"    '3. **Cultural Practices**: Practices like continuous cropping, poor crop rotation, and lack of cover crops can contribute to higher pest pressures.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '3. **Cultural Practices**: Practices like continuous cropping, poor crop rotation, and lack of cover crops can contribute to higher pest pressures.\\n' +"}}
[info] >      '4. **Resistance Management**: Overuse of the same insecticides can lead to resistance in pest populations, making them harder to control.\n' + {"user":"    '4. **Resistance Management**: Overuse of the same insecticides can lead to resistance in pest populations, making them harder to control.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '4. **Resistance Management**: Overuse of the same insecticides can lead to resistance in pest populations, making them harder to control.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '#### Actionable Advice:\n' + {"user":"    '#### Actionable Advice:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '#### Actionable Advice:\\n' +"}}
[info] >      '- **Implement Integrated Pest Management (IPM)**: This includes a combination of monitoring, biological control, cultural practices, and chemical control to manage pest populations effectively.\n' + {"user":"    '- **Implement Integrated Pest Management (IPM)**: This includes a combination of monitoring, biological control, cultural practices, and chemical control to manage pest populations effectively.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Implement Integrated Pest Management (IPM)**: This includes a combination of monitoring, biological control, cultural practices, and chemical control to manage pest populations effectively.\\n' +"}}
[info] >      '- **Monitor Regularly**: Keep a close watch on the field for signs of pests and damage. Early detection can prevent the problem from worsening.\n' + {"user":"    '- **Monitor Regularly**: Keep a close watch on the field for signs of pests and damage. Early detection can prevent the problem from worsening.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Monitor Regularly**: Keep a close watch on the field for signs of pests and damage. Early detection can prevent the problem from worsening.\\n' +"}}
[info] >      '- **Use Insecticides Wisely**: Choose insecticides that target specific pests and are least harmful to beneficial insects. Rotate insecticides to prevent resistance.\n' + {"user":"    '- **Use Insecticides Wisely**: Choose insecticides that target specific pests and are least harmful to beneficial insects. Rotate insecticides to prevent resistance.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Use Insecticides Wisely**: Choose insecticides that target specific pests and are least harmful to beneficial insects. Rotate insecticides to prevent resistance.\\n' +"}}
[info] >      '- **Crop Rotation**: Plan a crop rotation strategy to disrupt the life cycle of pests.\n' + {"user":"    '- **Crop Rotation**: Plan a crop rotation strategy to disrupt the life cycle of pests.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Crop Rotation**: Plan a crop rotation strategy to disrupt the life cycle of pests.\\n' +"}}
[info] >      '- **Introduce Beneficial Insects**: Encourage natural predators and parasites that feed on pests.\n' + {"user":"    '- **Introduce Beneficial Insects**: Encourage natural predators and parasites that feed on pests.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Introduce Beneficial Insects**: Encourage natural predators and parasites that feed on pests.\\n' +"}}
[info] >      '- **Cultural Controls**: Maintain good field hygiene by removing crop debris where pests may overwinter.\n' + {"user":"    '- **Cultural Controls**: Maintain good field hygiene by removing crop debris where pests may overwinter.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Cultural Controls**: Maintain good field hygiene by removing crop debris where pests may overwinter.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'By addressing these factors and implementing the recommendations, you can help mitigate the impact of pest infestations and improve the overall health of your plants.', {"user":"    'By addressing these factors and implementing the recommendations, you can help mitigate the impact of pest infestations and improve the overall health of your plants.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'By addressing these factors and implementing the recommendations, you can help mitigate the impact of pest infestations and improve the overall health of your plants.',"}}
[info] >    timestamp: '1731386612511' {"user":"  timestamp: '1731386612511'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731386612511'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 444. Result of arrayUnion: undefined {"user":">>>>>> 444. Result of arrayUnion: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 444. Result of arrayUnion: undefined"}}
[info] >  >>>> 100. Chat entry added successfully to customer's db! docId:  11111 {"user":">>>> 100. Chat entry added successfully to customer's db! docId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. Chat entry added successfully to customer's db! docId:  11111"}}
[debug] [2024-11-12T04:43:32.529Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 13494.83125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 13494.83125ms"}}
[debug] [2024-11-12T04:43:32.530Z] [worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: IDLE"}}
[debug] [2024-11-12T04:43:32.530Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:43:32.530Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:43:32.530Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:50:47.361Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/package-lock.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/package-lock.json changed, reloading triggers"}}
[debug] [2024-11-12T04:50:47.448Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/package-lock.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/package-lock.json changed, reloading triggers"}}
[debug] [2024-11-12T04:50:48.458Z] Validating nodejs source
[debug] [2024-11-12T04:50:49.049Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:50:49.049Z] Building nodejs source
[debug] [2024-11-12T04:50:49.049Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:50:49.054Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:50:49.057Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8845

[debug] [2024-11-12T04:50:49.677Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:50:49.693Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:50:49.693Z] [worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: FINISHING"}}
[debug] [2024-11-12T04:50:49.701Z] [worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: exited"}}
[debug] [2024-11-12T04:50:49.701Z] [worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-154efbb2-8614-405c-8452-6b49a340d96d]: FINISHED"}}
[debug] [2024-11-12T04:53:14.158Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:53:15.163Z] Validating nodejs source
[debug] [2024-11-12T04:53:15.826Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:53:15.826Z] Building nodejs source
[debug] [2024-11-12T04:53:15.826Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:53:15.829Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:53:15.831Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8401

[info] >>>>>> 400. chatData before using arrayUnion: {
  sender: 'John Doe',
  message: 'Hello, how can I help you?',
  timestamp: '1731387196500'
}

[info] >>>>>> 444. Result of arrayUnion: [class FieldValue]
>>>> 100. Chat entry added successfully to customer's db! docId:  12345

[info] Chat entry added successfully

[debug] [2024-11-12T04:53:16.506Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:53:20.379Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:53:21.386Z] Validating nodejs source
[debug] [2024-11-12T04:53:21.963Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:53:21.963Z] Building nodejs source
[debug] [2024-11-12T04:53:21.963Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:53:21.964Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:53:21.965Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8326

[info] >>>>>> 400. chatData before using arrayUnion: {
  sender: 'John Doe',
  message: 'Hello, how can I help you?',
  timestamp: '1731387202474'
}

[info] >>>>>> 444. Result of arrayUnion: [class FieldValue]
>>>> 100. Chat entry added successfully to customer's db! docId:  12345

[info] Chat entry added successfully

[debug] [2024-11-12T04:53:22.480Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:53:48.534Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:53:49.538Z] Validating nodejs source
[debug] [2024-11-12T04:53:50.216Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:53:50.216Z] Building nodejs source
[debug] [2024-11-12T04:53:50.216Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:53:50.218Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:53:50.219Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8589

[info] >>>>>> 400. chatData before using arrayUnion: {
  sender: 'John Doe',
  message: 'Hello, how can I help you?',
  timestamp: '1731387230829'
}

[error] Error adding chat entry: TypeError: admin.firestore.FieldValuearrayUnion is not a function
    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:46)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:291:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[info] Chat entry added successfully

[debug] [2024-11-12T04:53:50.835Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:53:51.434Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:53:52.438Z] Validating nodejs source
[debug] [2024-11-12T04:53:52.963Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:53:52.964Z] Building nodejs source
[debug] [2024-11-12T04:53:52.964Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:53:52.966Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:53:52.967Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8933

[info] >>>>>> 400. chatData before using arrayUnion: {
  sender: 'John Doe',
  message: 'Hello, how can I help you?',
  timestamp: '1731387233371'
}

[info] >>>>>> 444. Result of arrayUnion: ArrayUnionTransform {
  elements: [
    {
      sender: 'John Doe',
      message: 'Hello, how can I help you?',
      timestamp: '1731387233371'
    }
  ]
}
>>>> 100. Chat entry added successfully to customer's db! docId:  12345

[info] Chat entry added successfully

[debug] [2024-11-12T04:53:53.377Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:55:27.525Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T04:55:28.530Z] Validating nodejs source
[debug] [2024-11-12T04:55:29.223Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:55:29.223Z] Building nodejs source
[debug] [2024-11-12T04:55:29.223Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:55:29.225Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:55:29.227Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8351

[info] >>>>>> 400. chatData before using arrayUnion: {
  sender: 'John Doe',
  message: 'Hello, how can I help you?',
  timestamp: '1731387329797'
}

[info] >>>>>> 444. Result of arrayUnion: ArrayUnionTransform {
  elements: [
    {
      sender: 'John Doe',
      message: 'Hello, how can I help you?',
      timestamp: '1731387329797'
    }
  ]
}

[debug] [2024-11-12T04:55:29.985Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[error] Error adding chat entry: Error: 5 NOT_FOUND: No document to update: projects/agrilens-web/databases/(default)/documents/users/customers/customer/OQ79MAoXE9SMin2WhUzNV5vyTm73/chat-history/12345
    at callErrorFromStatus (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@grpc/grpc-js/build/src/call.js:31:19)
    at Object.onReceiveStatus (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@grpc/grpc-js/build/src/client.js:192:76)
    at Object.onReceiveStatus (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)
    at Object.onReceiveStatus (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)
    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78
    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@grpc/grpc-js/build/src/client.js:160:32)
    at ServiceClientImpl.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)
    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29
    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16
    at repeat (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/google-gax/build/src/normalCalls/retries.js:80:25)
    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/google-gax/build/src/normalCalls/retries.js:118:13
    at OngoingCallPromise.call (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/google-gax/build/src/call.js:67:27)
    at NormalApiCaller.call (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/google-gax/build/src/normalCalls/normalApiCaller.js:34:19)
    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/google-gax/build/src/createApiCall.js:84:30
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
Caused by: Error
    at WriteBatch.commit (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:433:23)
    at DocumentReference.update (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/reference.js:435:14)
    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:36:22)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:291:1)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18) {
  code: 5,
  details: 'No document to update: projects/agrilens-web/databases/(default)/documents/users/customers/customer/OQ79MAoXE9SMin2WhUzNV5vyTm73/chat-history/12345',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}

[info] Chat entry added successfully

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:56:17.784Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:56:18.792Z] Validating nodejs source
[debug] [2024-11-12T04:56:19.414Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:56:19.414Z] Building nodejs source
[debug] [2024-11-12T04:56:19.414Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:56:19.419Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:56:19.420Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8358

[info] >>>>>> 400. chatData before using arrayUnion: {
  sender: 'John Doe',
  message: 'Hello, how can I help you?',
  timestamp: '1731387380028'
}

[info] >>>>>> 444. Result of arrayUnion: ArrayUnionTransform {
  elements: [
    {
      sender: 'John Doe',
      message: 'Hello, how can I help you?',
      timestamp: '1731387380028'
    }
  ]
}

[debug] [2024-11-12T04:56:20.219Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] >>>> 100. Chat entry added successfully to customer's db! docId:  1731384290951

[info] Chat entry added successfully

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:56:37.103Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:56:38.108Z] Validating nodejs source
[debug] [2024-11-12T04:56:38.812Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:56:38.812Z] Building nodejs source
[debug] [2024-11-12T04:56:38.812Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:56:38.814Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:56:38.815Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8739

[info] >>>>>> 400. chatData before using arrayUnion: {
  sender: 'John Doe33',
  message: 'Hello, how can I help you?',
  timestamp: '1731387399324'
}

[info] >>>>>> 444. Result of arrayUnion: ArrayUnionTransform {
  elements: [
    {
      sender: 'John Doe33',
      message: 'Hello, how can I help you?',
      timestamp: '1731387399324'
    }
  ]
}

[debug] [2024-11-12T04:56:39.654Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] >>>> 100. Chat entry added successfully to customer's db! docId:  1731384290951

[info] Chat entry added successfully

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:57:48.148Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:57:49.151Z] Validating nodejs source
[debug] [2024-11-12T04:57:49.850Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:57:49.851Z] Building nodejs source
[debug] [2024-11-12T04:57:49.851Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:57:49.854Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:57:49.855Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8361

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:292
  .then(() => console.log("Chat entry added successfully"))
  ^

SyntaxError: Unexpected token '.'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T04:57:50.049Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '.'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T04:57:50.155Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:57:51.158Z] Validating nodejs source
[debug] [2024-11-12T04:57:51.661Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:57:51.662Z] Building nodejs source
[debug] [2024-11-12T04:57:51.662Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:57:51.662Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:57:51.663Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8389

[info] >>>>>> 400. chatData before using arrayUnion: {
  sender: 'John Doe33',
  message: 'Hello, how can I help you?',
  timestamp: '1731387472188'
}

[info] >>>>>> 444. Result of arrayUnion: ArrayUnionTransform {
  elements: [
    {
      sender: 'John Doe33',
      message: 'Hello, how can I help you?',
      timestamp: '1731387472188'
    }
  ]
}

[debug] [2024-11-12T04:57:52.377Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] >>>> 100. Chat entry added successfully to customer's db! docId:  1731384290951

[info] Chat entry added successfully

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:58:10.653Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:58:11.656Z] Validating nodejs source
[debug] [2024-11-12T04:58:12.300Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:58:12.300Z] Building nodejs source
[debug] [2024-11-12T04:58:12.300Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:58:12.302Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:58:12.303Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8602

[debug] [2024-11-12T04:58:12.815Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:58:19.344Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:58:19.344Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:58:19.346Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:58:19.344Z"],"workRunningCount":1}
[debug] [2024-11-12T04:58:19.346Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:58:19.354Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:58:19.354Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:58:19.355Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:58:19.379Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:58:19.380Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:58:20.475Z] [runtime-status] [37453] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:58:20.476Z] [runtime-status] [37453] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:58:20.476Z] [runtime-status] [37453] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:58:20.477Z] [runtime-status] [37453] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:58:20.637Z] [runtime-status] [37453] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:58:20.637Z] [runtime-status] [37453] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:58:20.637Z] [runtime-status] [37453] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:58:20.639Z] [runtime-status] [37453] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:58:20.641Z] [runtime-status] [37453] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:58:20.641Z] [runtime-status] [37453] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:58:20.670Z] [runtime-status] [37453] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:58:20.881Z] [runtime-status] [37453] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:58:20.882Z] [runtime-status] [37453] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_ddd6b769bac62c04.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37453] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_ddd6b769bac62c04.sock"}}
[debug] [2024-11-12T04:58:20.914Z] [worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: IDLE"}}
[debug] [2024-11-12T04:58:20.914Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:58:20.914Z] [worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: BUSY"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'user', {"user":"  sender: 'user',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'user',"}}
[info] >    message: 'Do you know the causes', {"user":"  message: 'Do you know the causes',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Do you know the causes',"}}
[info] >    timestamp: '1731387500926' {"user":"  timestamp: '1731387500926'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731387500926'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'qwen', {"user":"  sender: 'qwen',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'qwen',"}}
[info] >    message: 'The causes of the severe issues in your plant, as identified in the previous analysis, are primarily due to the presence of a large caterpillar, specifically a corn earworm. Corn earworms are common pests that can cause significant damage to plants, particularly in crops like corn, cotton, and tomatoes. They feed on plant tissues, which can lead to reduced yield and quality of the produce.\n' + {"user":"  message: 'The causes of the severe issues in your plant, as identified in the previous analysis, are primarily due to the presence of a large caterpillar, specifically a corn earworm. Corn earworms are common pests that can cause significant damage to plants, particularly in crops like corn, cotton, and tomatoes. They feed on plant tissues, which can lead to reduced yield and quality of the produce.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'The causes of the severe issues in your plant, as identified in the previous analysis, are primarily due to the presence of a large caterpillar, specifically a corn earworm. Corn earworms are common pests that can cause significant damage to plants, particularly in crops like corn, cotton, and tomatoes. They feed on plant tissues, which can lead to reduced yield and quality of the produce.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'Here is a detailed breakdown of the causes and recommended actions:\n' + {"user":"    'Here is a detailed breakdown of the causes and recommended actions:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Here is a detailed breakdown of the causes and recommended actions:\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '1. **Corn Earworm Infestation:**\n' + {"user":"    '1. **Corn Earworm Infestation:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '1. **Corn Earworm Infestation:**\\n' +"}}
[info] >      '   - **Cause:** Corn earworms are attracted to various crops and can lay eggs on leaves, stems, or flowers. The larvae then hatch and feed on the plant tissues.\n' + {"user":"    '   - **Cause:** Corn earworms are attracted to various crops and can lay eggs on leaves, stems, or flowers. The larvae then hatch and feed on the plant tissues.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - **Cause:** Corn earworms are attracted to various crops and can lay eggs on leaves, stems, or flowers. The larvae then hatch and feed on the plant tissues.\\n' +"}}
[info] >      '   - **Impact:** The feeding damage can lead to reduced plant vigor, lower yield, and potential entry points for diseases.\n' + {"user":"    '   - **Impact:** The feeding damage can lead to reduced plant vigor, lower yield, and potential entry points for diseases.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - **Impact:** The feeding damage can lead to reduced plant vigor, lower yield, and potential entry points for diseases.\\n' +"}}
[info] >      '   - **Prevention and Control:**\n' + {"user":"    '   - **Prevention and Control:**\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '   - **Prevention and Control:**\\n' +"}}
[info] >      '     - **Apply Appropriate Insecticides:** Use insecticides that are effective against corn earworms. Be sure to follow the application instructions carefully to avoid harming beneficial insects and the environment.\n' + {"user":"    '     - **Apply Appropriate Insecticides:** Use insecticides that are effective against corn earworms. Be sure to follow the application instructions carefully to avoid harming beneficial insects and the environment.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '     - **Apply Appropriate Insecticides:** Use insecticides that are effective against corn earworms. Be sure to follow the application instructions carefully to avoid harming beneficial insects and the environment.\\n' +"}}
[info] >      '     - **Monitor the Field:** Regularly check plants for signs of pests and damage. Early detection can help in managing the infestation more effectively.\n' + {"user":"    '     - **Monitor the Field:** Regularly check plants for signs of pests and damage. Early detection can help in managing the infestation more effectively.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '     - **Monitor the Field:** Regularly check plants for signs of pests and damage. Early detection can help in managing the infestation more effectively.\\n' +"}}
[info] >      '     - **Integrated Pest Management (IPM):** Implement a combination of cultural, biological, and chemical control methods. This includes crop rotation, use of resistant plant varieties, and biological controls like parasitic wasps.\n' + {"user":"    '     - **Integrated Pest Management (IPM):** Implement a combination of cultural, biological, and chemical control methods. This includes crop rotation, use of resistant plant varieties, and biological controls like parasitic wasps.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '     - **Integrated Pest Management (IPM):** Implement a combination of cultural, biological, and chemical control methods. This includes crop rotation, use of resistant plant varieties, and biological controls like parasitic wasps.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'By addressing the corn earworm infestation through these strategies, you can help protect your plants from further damage and improve their overall health.', {"user":"    'By addressing the corn earworm infestation through these strategies, you can help protect your plants from further damage and improve their overall health.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'By addressing the corn earworm infestation through these strategies, you can help protect your plants from further damage and improve their overall health.',"}}
[info] >    timestamp: '1731387508771' {"user":"  timestamp: '1731387508771'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731387508771'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:275:5"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:58:28.782Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 7868.302166ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 7868.302166ms"}}
[debug] [2024-11-12T04:58:28.783Z] [worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: IDLE"}}
[debug] [2024-11-12T04:58:28.783Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:58:28.783Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:58:28.783Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:58:38.070Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:58:38.372Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:58:39.374Z] Validating nodejs source
[debug] [2024-11-12T04:58:40.209Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:58:40.209Z] Building nodejs source
[debug] [2024-11-12T04:58:40.209Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:58:40.211Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:58:40.212Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8904

[debug] [2024-11-12T04:58:40.772Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:58:40.786Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:58:40.786Z] [worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: FINISHING"}}
[debug] [2024-11-12T04:58:40.798Z] [worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: exited"}}
[debug] [2024-11-12T04:58:40.799Z] [worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-82dcb31c-b884-41b9-a8e1-a3a2994a5957]: FINISHED"}}
[debug] [2024-11-12T04:58:45.392Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:58:46.396Z] Validating nodejs source
[debug] [2024-11-12T04:58:47.192Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:58:47.193Z] Building nodejs source
[debug] [2024-11-12T04:58:47.194Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:58:47.196Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:58:47.198Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8879

[debug] [2024-11-12T04:58:47.815Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:58:48.517Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:58:48.517Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:58:48.518Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:58:48.517Z"],"workRunningCount":1}
[debug] [2024-11-12T04:58:48.518Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:58:48.520Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:58:48.520Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:58:48.520Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:58:48.522Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:58:48.522Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:58:49.456Z] [runtime-status] [37624] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:58:49.457Z] [runtime-status] [37624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:58:49.457Z] [runtime-status] [37624] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:58:49.457Z] [runtime-status] [37624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:58:49.564Z] [runtime-status] [37624] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:58:49.564Z] [runtime-status] [37624] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:58:49.566Z] [runtime-status] [37624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:58:49.569Z] [runtime-status] [37624] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:58:49.570Z] [runtime-status] [37624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:58:49.570Z] [runtime-status] [37624] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:58:49.592Z] [runtime-status] [37624] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:58:49.743Z] [runtime-status] [37624] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:58:49.744Z] [runtime-status] [37624] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_efe1118ed0c0a7e3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37624] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_efe1118ed0c0a7e3.sock"}}
[debug] [2024-11-12T04:58:49.848Z] [worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: IDLE"}}
[debug] [2024-11-12T04:58:49.848Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:58:49.848Z] [worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: BUSY"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'user', {"user":"  sender: 'user',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'user',"}}
[info] >    message: 'Do you know the causes', {"user":"  message: 'Do you know the causes',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Do you know the causes',"}}
[info] >    timestamp: '1731387529859' {"user":"  timestamp: '1731387529859'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731387529859'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:9 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:9"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[debug] [2024-11-12T04:58:56.787Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:58:57.792Z] Validating nodejs source
[debug] [2024-11-12T04:58:58.415Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:58:58.415Z] Building nodejs source
[debug] [2024-11-12T04:58:58.415Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:58:58.416Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:58:58.417Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8268

[debug] [2024-11-12T04:58:58.810Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:58:58.830Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T04:58:58.830Z] [worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: FINISHING"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'qwen', {"user":"  sender: 'qwen',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'qwen',"}}
[info] >    message: '### Causes of Corn Earworm Infestation\n' + {"user":"  message: '### Causes of Corn Earworm Infestation\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: '### Causes of Corn Earworm Infestation\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'Corn earworms are attracted to plants in the field for several reasons:\n' + {"user":"    'Corn earworms are attracted to plants in the field for several reasons:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Corn earworms are attracted to plants in the field for several reasons:\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '1. **Host Plant Attraction**: Corn earworms are attracted to the scent of certain plants, including corn, tomatoes, peppers, and others. The specific chemicals emitted by these plants can attract the adult moths to lay their eggs.\n' + {"user":"    '1. **Host Plant Attraction**: Corn earworms are attracted to the scent of certain plants, including corn, tomatoes, peppers, and others. The specific chemicals emitted by these plants can attract the adult moths to lay their eggs.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '1. **Host Plant Attraction**: Corn earworms are attracted to the scent of certain plants, including corn, tomatoes, peppers, and others. The specific chemicals emitted by these plants can attract the adult moths to lay their eggs.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '2. **Environmental Conditions**: Warm and humid conditions are favorable for the development of corn earworms. These conditions can increase the rate of reproduction and the survival rate of the larvae.\n' + {"user":"    '2. **Environmental Conditions**: Warm and humid conditions are favorable for the development of corn earworms. These conditions can increase the rate of reproduction and the survival rate of the larvae.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '2. **Environmental Conditions**: Warm and humid conditions are favorable for the development of corn earworms. These conditions can increase the rate of reproduction and the survival rate of the larvae.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '3. **Pest Management Practices**: Inadequate pest management practices, such as not rotating crops or using resistant plant varieties, can lead to higher infestation rates.\n' + {"user":"    '3. **Pest Management Practices**: Inadequate pest management practices, such as not rotating crops or using resistant plant varieties, can lead to higher infestation rates.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '3. **Pest Management Practices**: Inadequate pest management practices, such as not rotating crops or using resistant plant varieties, can lead to higher infestation rates.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '4. **Presence of Other Pests**: Sometimes, the presence of other pests can create a more favorable environment for corn earworms. For example, damage caused by other pests can make plants more susceptible to infestation.\n' + {"user":"    '4. **Presence of Other Pests**: Sometimes, the presence of other pests can create a more favorable environment for corn earworms. For example, damage caused by other pests can make plants more susceptible to infestation.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '4. **Presence of Other Pests**: Sometimes, the presence of other pests can create a more favorable environment for corn earworms. For example, damage caused by other pests can make plants more susceptible to infestation.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '### Practical Advice to Address Corn Earworm Infestations\n' + {"user":"    '### Practical Advice to Address Corn Earworm Infestations\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '### Practical Advice to Address Corn Earworm Infestations\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Monitor Regularly**: Regular monitoring of plants can help detect early signs of infestation, allowing for timely intervention.\n' + {"user":"    '- **Monitor Regularly**: Regular monitoring of plants can help detect early signs of infestation, allowing for timely intervention.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Monitor Regularly**: Regular monitoring of plants can help detect early signs of infestation, allowing for timely intervention.\\n' +"}}
[info] >      '  \n' + {"user":"    '  \\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '  \\n' +"}}
[info] >      '- **Use Integrated Pest Management (IPM) Strategies**: IPM combines various methods to control pests while minimizing the impact on the environment. This includes the use of biological controls, crop rotation, and cultural practices.\n' + {"user":"    '- **Use Integrated Pest Management (IPM) Strategies**: IPM combines various methods to control pests while minimizing the impact on the environment. This includes the use of biological controls, crop rotation, and cultural practices.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Use Integrated Pest Management (IPM) Strategies**: IPM combines various methods to control pests while minimizing the impact on the environment. This includes the use of biological controls, crop rotation, and cultural practices.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Apply Insecticides**: If the infestation is severe, applying appropriate insecticides can help control the corn earworm population. Make sure to follow the recommended application rates and timings.\n' + {"user":"    '- **Apply Insecticides**: If the infestation is severe, applying appropriate insecticides can help control the corn earworm population. Make sure to follow the recommended application rates and timings.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Apply Insecticides**: If the infestation is severe, applying appropriate insecticides can help control the corn earworm population. Make sure to follow the recommended application rates and timings.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Consider Resistant Varieties**: Planting resistant varieties of crops can reduce the impact of corn earworms.\n' + {"user":"    '- **Consider Resistant Varieties**: Planting resistant varieties of crops can reduce the impact of corn earworms.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Consider Resistant Varieties**: Planting resistant varieties of crops can reduce the impact of corn earworms.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Maintain Field Hygiene**: Removing crop debris and weeds can reduce hiding places for corn earworms and other pests.\n' + {"user":"    '- **Maintain Field Hygiene**: Removing crop debris and weeds can reduce hiding places for corn earworms and other pests.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Maintain Field Hygiene**: Removing crop debris and weeds can reduce hiding places for corn earworms and other pests.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'By understanding the causes and implementing these strategies, you can better manage corn earworm infestations and protect your plants.', {"user":"    'By understanding the causes and implementing these strategies, you can better manage corn earworm infestations and protect your plants.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'By understanding the causes and implementing these strategies, you can better manage corn earworm infestations and protect your plants.',"}}
[info] >    timestamp: '1731387539049' {"user":"  timestamp: '1731387539049'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731387539049'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:280:11 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:280:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:280:11"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:58:59.053Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 9205.33925ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 9205.33925ms"}}
[debug] [2024-11-12T04:58:59.054Z] [worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: IDLE --> FINISHING"}}
[debug] [2024-11-12T04:58:59.054Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:58:59.054Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:58:59.054Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:58:59.063Z] [worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: exited"}}
[debug] [2024-11-12T04:58:59.063Z] [worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9df7701b-1c6a-42ff-980e-8a982c564e40]: FINISHED"}}
[debug] [2024-11-12T04:59:02.154Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:59:03.157Z] Validating nodejs source
[debug] [2024-11-12T04:59:03.771Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:59:03.771Z] Building nodejs source
[debug] [2024-11-12T04:59:03.771Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:59:03.773Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:59:03.774Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8803

[debug] [2024-11-12T04:59:04.161Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:59:06.784Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:59:06.784Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:59:06.785Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:59:06.784Z"],"workRunningCount":1}
[debug] [2024-11-12T04:59:06.786Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:59:06.790Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:59:06.790Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:59:06.790Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:59:06.803Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:59:06.803Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:59:07.859Z] [runtime-status] [37800] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:59:07.863Z] [runtime-status] [37800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:59:07.864Z] [runtime-status] [37800] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:59:07.864Z] [runtime-status] [37800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:59:07.960Z] [runtime-status] [37800] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:59:07.960Z] [runtime-status] [37800] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:59:07.960Z] [runtime-status] [37800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:59:07.963Z] [runtime-status] [37800] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:59:07.964Z] [runtime-status] [37800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:59:07.964Z] [runtime-status] [37800] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:59:07.986Z] [runtime-status] [37800] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:59:08.133Z] [runtime-status] [37800] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:59:08.133Z] [runtime-status] [37800] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_9b87a43d6b58a029.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37800] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_9b87a43d6b58a029.sock"}}
[debug] [2024-11-12T04:59:08.226Z] [worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: IDLE"}}
[debug] [2024-11-12T04:59:08.226Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:59:08.226Z] [worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: BUSY"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'user', {"user":"  sender: 'user',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'user',"}}
[info] >    message: 'Do you know the causes', {"user":"  message: 'Do you know the causes',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Do you know the causes',"}}
[info] >    timestamp: '1731387548238' {"user":"  timestamp: '1731387548238'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731387548238'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:9 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:225:9"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[debug] [2024-11-12T04:59:17.447Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'qwen', {"user":"  sender: 'qwen',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'qwen',"}}
[info] >    message: 'The causes of the corn earworm infestation could be related to several factors:\n' + {"user":"  message: 'The causes of the corn earworm infestation could be related to several factors:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'The causes of the corn earworm infestation could be related to several factors:\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '1. **Crop Management Practices**: Improper crop rotation, lack of crop diversity, and not using resistant varieties can make your plants more susceptible to pests like the corn earworm.\n' + {"user":"    '1. **Crop Management Practices**: Improper crop rotation, lack of crop diversity, and not using resistant varieties can make your plants more susceptible to pests like the corn earworm.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '1. **Crop Management Practices**: Improper crop rotation, lack of crop diversity, and not using resistant varieties can make your plants more susceptible to pests like the corn earworm.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '2. **Environmental Conditions**: Warm, humid weather can promote the development and spread of corn earworms. Additionally, the presence of host plants nearby can also attract these pests.\n' + {"user":"    '2. **Environmental Conditions**: Warm, humid weather can promote the development and spread of corn earworms. Additionally, the presence of host plants nearby can also attract these pests.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '2. **Environmental Conditions**: Warm, humid weather can promote the development and spread of corn earworms. Additionally, the presence of host plants nearby can also attract these pests.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '3. **Inadequate Pest Monitoring**: Regular monitoring of your crops can help detect pests early and prevent infestations from becoming severe.\n' + {"user":"    '3. **Inadequate Pest Monitoring**: Regular monitoring of your crops can help detect pests early and prevent infestations from becoming severe.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '3. **Inadequate Pest Monitoring**: Regular monitoring of your crops can help detect pests early and prevent infestations from becoming severe.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '4. **Lack of Integrated Pest Management (IPM) Practices**: Relying solely on chemical insecticides without incorporating other IPM strategies, such as biological controls, cultural practices, and mechanical controls, can lead to pest resistance and continued infestations.\n' + {"user":"    '4. **Lack of Integrated Pest Management (IPM) Practices**: Relying solely on chemical insecticides without incorporating other IPM strategies, such as biological controls, cultural practices, and mechanical controls, can lead to pest resistance and continued infestations.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '4. **Lack of Integrated Pest Management (IPM) Practices**: Relying solely on chemical insecticides without incorporating other IPM strategies, such as biological controls, cultural practices, and mechanical controls, can lead to pest resistance and continued infestations.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'To address the corn earworm infestation and prevent future occurrences, consider the following actions:\n' + {"user":"    'To address the corn earworm infestation and prevent future occurrences, consider the following actions:\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'To address the corn earworm infestation and prevent future occurrences, consider the following actions:\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Implement Crop Rotation**: Rotate crops annually to disrupt pest cycles and reduce their population build-up.\n' + {"user":"    '- **Implement Crop Rotation**: Rotate crops annually to disrupt pest cycles and reduce their population build-up.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Implement Crop Rotation**: Rotate crops annually to disrupt pest cycles and reduce their population build-up.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Use Resistant Varieties**: Plant crop varieties that are resistant to corn earworms.\n' + {"user":"    '- **Use Resistant Varieties**: Plant crop varieties that are resistant to corn earworms.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Use Resistant Varieties**: Plant crop varieties that are resistant to corn earworms.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Monitor Regularly**: Check your crops frequently for signs of pests and damage.\n' + {"user":"    '- **Monitor Regularly**: Check your crops frequently for signs of pests and damage.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Monitor Regularly**: Check your crops frequently for signs of pests and damage.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Integrated Pest Management (IPM)**: Combine various pest control methods to reduce reliance on pesticides. This includes the use of beneficial insects, pheromone traps, and other non-chemical methods.\n' + {"user":"    '- **Integrated Pest Management (IPM)**: Combine various pest control methods to reduce reliance on pesticides. This includes the use of beneficial insects, pheromone traps, and other non-chemical methods.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Integrated Pest Management (IPM)**: Combine various pest control methods to reduce reliance on pesticides. This includes the use of beneficial insects, pheromone traps, and other non-chemical methods.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Pesticide Application**: If necessary, apply insecticides as recommended. However, ensure that you follow the instructions carefully and use pesticides that are approved for use on your specific crop.\n' + {"user":"    '- **Pesticide Application**: If necessary, apply insecticides as recommended. However, ensure that you follow the instructions carefully and use pesticides that are approved for use on your specific crop.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Pesticide Application**: If necessary, apply insecticides as recommended. However, ensure that you follow the instructions carefully and use pesticides that are approved for use on your specific crop.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      '- **Cultural Practices**: Maintain good field hygiene by removing crop residue that can harbor pests, and ensure proper irrigation to reduce stress on plants that might make them more susceptible to pests.\n' + {"user":"    '- **Cultural Practices**: Maintain good field hygiene by removing crop residue that can harbor pests, and ensure proper irrigation to reduce stress on plants that might make them more susceptible to pests.\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '- **Cultural Practices**: Maintain good field hygiene by removing crop residue that can harbor pests, and ensure proper irrigation to reduce stress on plants that might make them more susceptible to pests.\\n' +"}}
[info] >      '\n' + {"user":"    '\\n' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     '\\n' +"}}
[info] >      'By addressing these factors and implementing a comprehensive IPM strategy, you can help control the corn earworm population and improve the overall health of your crops.', {"user":"    'By addressing these factors and implementing a comprehensive IPM strategy, you can help control the corn earworm population and improve the overall health of your crops.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     'By addressing these factors and implementing a comprehensive IPM strategy, you can help control the corn earworm population and improve the overall health of your crops.',"}}
[info] >    timestamp: '1731387558223' {"user":"  timestamp: '1731387558223'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731387558223'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:280:11 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:280:11","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:280:11"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2024-11-12T04:59:18.236Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 10010.678792ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 10010.678792ms"}}
[debug] [2024-11-12T04:59:18.237Z] [worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: IDLE"}}
[debug] [2024-11-12T04:59:18.237Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:59:18.237Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:59:18.237Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:59:18.450Z] Validating nodejs source
[debug] [2024-11-12T04:59:19.149Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:59:19.150Z] Building nodejs source
[debug] [2024-11-12T04:59:19.150Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:59:19.153Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:59:19.154Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T04:59:19.155Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8089

[debug] [2024-11-12T04:59:19.840Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:59:19.849Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T04:59:19.849Z] [worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: FINISHING"}}
[debug] [2024-11-12T04:59:19.861Z] [worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: exited"}}
[debug] [2024-11-12T04:59:19.861Z] [worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5d6e069d-a155-4fcc-8790-26a51a8b6ba7]: FINISHED"}}
[debug] [2024-11-12T04:59:20.157Z] Validating nodejs source
[debug] [2024-11-12T04:59:20.640Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:59:20.641Z] Building nodejs source
[debug] [2024-11-12T04:59:20.641Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:59:20.641Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:59:20.642Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8564

[debug] [2024-11-12T04:59:21.009Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:59:25.387Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T04:59:26.412Z] Validating nodejs source
[debug] [2024-11-12T04:59:27.090Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T04:59:27.090Z] Building nodejs source
[debug] [2024-11-12T04:59:27.090Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:59:27.093Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T04:59:27.094Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8376

[debug] [2024-11-12T04:59:27.762Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T04:59:31.149Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:59:31.149Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T04:59:31.150Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T04:59:31.149Z"],"workRunningCount":1}
[debug] [2024-11-12T04:59:31.150Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T04:59:31.154Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T04:59:31.154Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T04:59:31.154Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T04:59:31.158Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T04:59:31.158Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T04:59:32.089Z] [runtime-status] [37990] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:59:32.089Z] [runtime-status] [37990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:59:32.090Z] [runtime-status] [37990] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T04:59:32.090Z] [runtime-status] [37990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:59:32.188Z] [runtime-status] [37990] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T04:59:32.188Z] [runtime-status] [37990] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T04:59:32.188Z] [runtime-status] [37990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:59:32.192Z] [runtime-status] [37990] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T04:59:32.193Z] [runtime-status] [37990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T04:59:32.193Z] [runtime-status] [37990] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T04:59:32.219Z] [runtime-status] [37990] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T04:59:32.371Z] [runtime-status] [37990] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T04:59:32.372Z] [runtime-status] [37990] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_8266a375c4db198b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [37990] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_8266a375c4db198b.sock"}}
[debug] [2024-11-12T04:59:32.377Z] [worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: IDLE"}}
[debug] [2024-11-12T04:59:32.378Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T04:59:32.379Z] [worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: BUSY"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'John Doe33', {"user":"  sender: 'John Doe33',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'John Doe33',"}}
[info] >    message: 'Hello, how can I help you?', {"user":"  message: 'Hello, how can I help you?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Hello, how can I help you?',"}}
[info] >    timestamp: '1731387572394' {"user":"  timestamp: '1731387572394'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731387572394'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T04:59:44.163Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 11786.083ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 11786.083ms"}}
[debug] [2024-11-12T04:59:44.165Z] [worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: IDLE"}}
[debug] [2024-11-12T04:59:44.165Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T04:59:44.166Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T04:59:44.166Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:00:07.905Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:00:08.909Z] Validating nodejs source
[debug] [2024-11-12T05:00:09.714Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:00:09.715Z] Building nodejs source
[debug] [2024-11-12T05:00:09.715Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:00:09.718Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:00:09.720Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8404

[debug] [2024-11-12T05:00:10.656Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:00:10.667Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T05:00:10.667Z] [worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: FINISHING"}}
[debug] [2024-11-12T05:00:10.680Z] [worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: exited"}}
[debug] [2024-11-12T05:00:10.680Z] [worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a0d009e1-12ff-4f09-8e2e-ae1c33a5bc18]: FINISHED"}}
[debug] [2024-11-12T05:00:10.826Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:00:11.829Z] Validating nodejs source
[debug] [2024-11-12T05:00:12.393Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:00:12.393Z] Building nodejs source
[debug] [2024-11-12T05:00:12.393Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:00:12.394Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:00:12.394Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8527

[debug] [2024-11-12T05:00:12.847Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:00:12.999Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:00:13.201Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:00:14.203Z] Validating nodejs source
[debug] [2024-11-12T05:00:14.694Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:00:14.694Z] Building nodejs source
[debug] [2024-11-12T05:00:14.694Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:00:14.694Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:00:14.695Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8687

[debug] [2024-11-12T05:00:15.072Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:00:55.289Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:00:56.294Z] Validating nodejs source
[debug] [2024-11-12T05:00:57.217Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:00:57.218Z] Building nodejs source
[debug] [2024-11-12T05:00:57.218Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:00:57.221Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:00:57.223Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8472

[debug] [2024-11-12T05:00:57.586Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:00:57.586Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:00:57.586Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:00:57.586Z"],"workRunningCount":1}
[debug] [2024-11-12T05:00:57.586Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T05:00:57.588Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:00:57.588Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T05:00:57.588Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:00:57.590Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:00:57.590Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:00:57.906Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:00:58.643Z] [runtime-status] [38397] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:00:58.644Z] [runtime-status] [38397] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:00:58.644Z] [runtime-status] [38397] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:00:58.645Z] [runtime-status] [38397] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:00:58.750Z] [runtime-status] [38397] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:00:58.750Z] [runtime-status] [38397] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:00:58.750Z] [runtime-status] [38397] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:00:58.754Z] [runtime-status] [38397] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:00:58.755Z] [runtime-status] [38397] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:00:58.756Z] [runtime-status] [38397] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:00:58.778Z] [runtime-status] [38397] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:00:58.921Z] [runtime-status] [38397] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:00:58.921Z] [runtime-status] [38397] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_01a391c4bbf6b708.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [38397] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_01a391c4bbf6b708.sock"}}
[debug] [2024-11-12T05:00:59.014Z] [worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: IDLE"}}
[debug] [2024-11-12T05:00:59.014Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:00:59.014Z] [worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: BUSY"}}
[info] >  >>>>>> 400. chatData before using arrayUnion: { {"user":">>>>>> 400. chatData before using arrayUnion: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 400. chatData before using arrayUnion: {"}}
[info] >    sender: 'John Doe44', {"user":"  sender: 'John Doe44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'John Doe44',"}}
[info] >    message: 'Hello, how can I help you?44', {"user":"  message: 'Hello, how can I help you?44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Hello, how can I help you?44',"}}
[info] >    timestamp: '1731387659025' {"user":"  timestamp: '1731387659025'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731387659025'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:31:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T05:01:09.792Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 10779.810958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 10779.810958ms"}}
[debug] [2024-11-12T05:01:09.794Z] [worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: IDLE"}}
[debug] [2024-11-12T05:01:09.794Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T05:01:09.795Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T05:01:09.795Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:02:34.010Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:02:35.013Z] Validating nodejs source
[debug] [2024-11-12T05:02:35.654Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:02:35.654Z] Building nodejs source
[debug] [2024-11-12T05:02:35.654Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:02:35.656Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:02:35.657Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8622

[debug] [2024-11-12T05:02:36.242Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:02:36.251Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T05:02:36.251Z] [worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: FINISHING"}}
[debug] [2024-11-12T05:02:36.263Z] [worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: exited"}}
[debug] [2024-11-12T05:02:36.263Z] [worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b225c876-707a-421a-a219-48d0230f3c29]: FINISHED"}}
[debug] [2024-11-12T05:02:45.182Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:02:46.185Z] Validating nodejs source
[debug] [2024-11-12T05:02:47.087Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:02:47.088Z] Building nodejs source
[debug] [2024-11-12T05:02:47.088Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:02:47.091Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:02:47.092Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:02:47.095Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8521

[debug] [2024-11-12T05:02:47.670Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:02:48.095Z] Validating nodejs source
[debug] [2024-11-12T05:02:48.617Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:02:48.617Z] Building nodejs source
[debug] [2024-11-12T05:02:48.617Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:02:48.617Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:02:48.618Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8254

[debug] [2024-11-12T05:02:48.975Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:04:42.497Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:04:42.581Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:04:43.698Z] Validating nodejs source
[debug] [2024-11-12T05:04:44.602Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:04:44.602Z] Building nodejs source
[debug] [2024-11-12T05:04:44.602Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:04:44.607Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:04:44.609Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8313

[debug] [2024-11-12T05:04:45.318Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:06:16.369Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:06:17.380Z] Validating nodejs source
[debug] [2024-11-12T05:06:17.993Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:06:17.994Z] Building nodejs source
[debug] [2024-11-12T05:06:17.994Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:06:17.996Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:06:17.997Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8312

[debug] [2024-11-12T05:06:18.595Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:06:38.198Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:06:39.204Z] Validating nodejs source
[debug] [2024-11-12T05:06:40.469Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:06:40.470Z] Building nodejs source
[debug] [2024-11-12T05:06:40.470Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:06:40.472Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:06:40.474Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8726

[info] >>>>>> 100. Initializing upload to Firebase...

[info] >>>>>> 200. chatData: {
  sender: 'John Doe44',
  message: 'Hello, how can I help you?44',
  timestamp: '1731388001905'
}

[info] >>>>>> 300. arrayUnionResult: ArrayUnionTransform {
  elements: [
    {
      sender: 'John Doe44',
      message: 'Hello, how can I help you?44',
      timestamp: '1731388001905'
    }
  ]
}

[debug] [2024-11-12T05:06:42.159Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951

[info] Chat entry added successfully

[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:06:55.271Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:06:56.276Z] Validating nodejs source
[debug] [2024-11-12T05:06:56.891Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:06:56.891Z] Building nodejs source
[debug] [2024-11-12T05:06:56.891Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:06:56.893Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:06:56.894Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8589

[debug] [2024-11-12T05:06:57.532Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:07:09.267Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:07:10.271Z] Validating nodejs source
[debug] [2024-11-12T05:07:12.062Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:07:12.063Z] Building nodejs source
[debug] [2024-11-12T05:07:12.064Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:07:12.069Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:07:12.072Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8041

[debug] [2024-11-12T05:07:13.164Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:07:13.263Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:07:13.263Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:07:13.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:07:13.263Z"],"workRunningCount":1}
[debug] [2024-11-12T05:07:13.264Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T05:07:13.267Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:07:13.268Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T05:07:13.268Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:07:13.270Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:07:13.270Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:07:14.291Z] [runtime-status] [40316] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:07:14.291Z] [runtime-status] [40316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:07:14.292Z] [runtime-status] [40316] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:07:14.292Z] [runtime-status] [40316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:07:14.397Z] [runtime-status] [40316] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:07:14.397Z] [runtime-status] [40316] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:07:14.397Z] [runtime-status] [40316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:07:14.402Z] [runtime-status] [40316] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:07:14.403Z] [runtime-status] [40316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:07:14.403Z] [runtime-status] [40316] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:07:14.424Z] [runtime-status] [40316] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:07:14.611Z] [runtime-status] [40316] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:07:14.612Z] [runtime-status] [40316] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_5e51a8d5b6341b4d.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40316] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_5e51a8d5b6341b4d.sock"}}
[debug] [2024-11-12T05:07:14.693Z] [worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: IDLE"}}
[debug] [2024-11-12T05:07:14.693Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:07:14.693Z] [worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: BUSY"}}
[info] >  >>>>>> 100. Initializing upload to Firebase... {"user":">>>>>> 100. Initializing upload to Firebase...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. Initializing upload to Firebase..."}}
[info] >  >>>>>> 200. chatData: { {"user":">>>>>> 200. chatData: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 200. chatData: {"}}
[info] >    sender: 'John Doe00000', {"user":"  sender: 'John Doe00000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'John Doe00000',"}}
[info] >    message: 'Hello, how can I help you?44', {"user":"  message: 'Hello, how can I help you?44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Hello, how can I help you?44',"}}
[info] >    timestamp: '1731388034706' {"user":"  timestamp: '1731388034706'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731388034706'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:34:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:34:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:34:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T05:07:27.493Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 12803.44825ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 12803.44825ms"}}
[debug] [2024-11-12T05:07:27.499Z] [worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: IDLE"}}
[debug] [2024-11-12T05:07:27.500Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T05:07:27.500Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T05:07:27.500Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:07:32.053Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:07:33.063Z] Validating nodejs source
[debug] [2024-11-12T05:07:33.646Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:07:33.646Z] Building nodejs source
[debug] [2024-11-12T05:07:33.646Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:07:33.648Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:07:33.649Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8824

[debug] [2024-11-12T05:07:34.250Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:07:34.258Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T05:07:34.258Z] [worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: FINISHING"}}
[debug] [2024-11-12T05:07:34.271Z] [worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: exited"}}
[debug] [2024-11-12T05:07:34.272Z] [worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-dc30e02a-1d2d-4b7e-b9f6-fb1c0e749953]: FINISHED"}}
[debug] [2024-11-12T05:07:34.858Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:07:35.860Z] Validating nodejs source
[debug] [2024-11-12T05:07:36.348Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:07:36.348Z] Building nodejs source
[debug] [2024-11-12T05:07:36.348Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:07:36.349Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:07:36.350Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8395

[debug] [2024-11-12T05:07:36.813Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:07:37.870Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:07:38.874Z] Validating nodejs source
[debug] [2024-11-12T05:07:39.433Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:07:39.433Z] Building nodejs source
[debug] [2024-11-12T05:07:39.434Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:07:39.435Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:07:39.436Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8275

[debug] [2024-11-12T05:07:39.941Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:07:45.513Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:07:45.512Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:07:45.514Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:07:45.512Z"],"workRunningCount":1}
[debug] [2024-11-12T05:07:45.514Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T05:07:45.519Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:07:45.519Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T05:07:45.519Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:07:45.523Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:07:45.523Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:07:46.563Z] [runtime-status] [40517] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:07:46.563Z] [runtime-status] [40517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:07:46.563Z] [runtime-status] [40517] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:07:46.564Z] [runtime-status] [40517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:07:46.663Z] [runtime-status] [40517] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:07:46.663Z] [runtime-status] [40517] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:07:46.664Z] [runtime-status] [40517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:07:46.667Z] [runtime-status] [40517] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:07:46.668Z] [runtime-status] [40517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:07:46.668Z] [runtime-status] [40517] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:07:46.690Z] [runtime-status] [40517] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:07:46.837Z] [runtime-status] [40517] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:07:46.838Z] [runtime-status] [40517] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_9b4675b00d7efb3e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40517] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_9b4675b00d7efb3e.sock"}}
[debug] [2024-11-12T05:07:46.851Z] [worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: IDLE"}}
[debug] [2024-11-12T05:07:46.851Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:07:46.851Z] [worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: BUSY"}}
[info] >  >>>>>> 100. Initializing upload to Firebase... {"user":">>>>>> 100. Initializing upload to Firebase...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. Initializing upload to Firebase..."}}
[info] >  >>>>>> 200. chatData: { {"user":">>>>>> 200. chatData: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 200. chatData: {"}}
[info] >    sender: 'John Doe00000', {"user":"  sender: 'John Doe00000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'John Doe00000',"}}
[info] >    message: 'Hello, how can I help you?44', {"user":"  message: 'Hello, how can I help you?44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Hello, how can I help you?44',"}}
[info] >    timestamp: '1731388066863' {"user":"  timestamp: '1731388066863'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731388066863'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 300. arrayUnionResult: undefined {"user":">>>>>> 300. arrayUnionResult: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 300. arrayUnionResult: undefined"}}
[info] >  Error adding chat entry: Error: Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition. Value for argument "dataOrField" is not a valid Firestore value. Cannot use "undefined" as a Firestore value (found in field "conversations"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`. {"user":"Error adding chat entry: Error: Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition. Value for argument \"dataOrField\" is not a valid Firestore value. Cannot use \"undefined\" as a Firestore value (found in field \"conversations\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: Error: Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition. Value for argument \"dataOrField\" is not a valid Firestore value. Cannot use \"undefined\" as a Firestore value (found in field \"conversations\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`."}}
[info] >      at WriteBatch.update (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:392:23) {"user":"    at WriteBatch.update (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:392:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at WriteBatch.update (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/write-batch.js:392:23)"}}
[info] >      at DocumentReference.update (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/reference.js:434:14) {"user":"    at DocumentReference.update (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/reference.js:434:14)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at DocumentReference.update (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/reference.js:434:14)"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:22) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:22)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T05:07:54.094Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:07:55.098Z] Validating nodejs source
[debug] [2024-11-12T05:07:55.772Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:07:55.772Z] Building nodejs source
[debug] [2024-11-12T05:07:55.772Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:07:55.774Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:07:55.774Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:07:55.777Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 8926.061791ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 8926.061791ms"}}
[debug] [2024-11-12T05:07:55.778Z] [worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: IDLE"}}
[debug] [2024-11-12T05:07:55.778Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T05:07:55.778Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T05:07:55.778Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] Serving at port 8658

[debug] [2024-11-12T05:07:56.327Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:07:56.336Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T05:07:56.336Z] [worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: FINISHING"}}
[debug] [2024-11-12T05:07:56.342Z] [worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: exited"}}
[debug] [2024-11-12T05:07:56.342Z] [worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-8d7e873e-f15d-48bf-bc42-12c0fb5eb8ff]: FINISHED"}}
[debug] [2024-11-12T05:08:08.970Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:08:08.970Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:08:08.972Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:08:08.970Z"],"workRunningCount":1}
[debug] [2024-11-12T05:08:08.972Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T05:08:08.978Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:08:08.978Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T05:08:08.979Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:08:08.994Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:08:08.995Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:08:10.107Z] [runtime-status] [40635] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:08:10.108Z] [runtime-status] [40635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:08:10.108Z] [runtime-status] [40635] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:08:10.109Z] [runtime-status] [40635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:08:10.381Z] [runtime-status] [40635] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:08:10.381Z] [runtime-status] [40635] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:08:10.382Z] [runtime-status] [40635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:08:10.385Z] [runtime-status] [40635] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:08:10.387Z] [runtime-status] [40635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:08:10.388Z] [runtime-status] [40635] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:08:10.422Z] [runtime-status] [40635] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:08:10.844Z] [runtime-status] [40635] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:08:10.844Z] [runtime-status] [40635] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_742bf24d1de80f5e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [40635] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_742bf24d1de80f5e.sock"}}
[debug] [2024-11-12T05:08:10.928Z] [worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: IDLE"}}
[debug] [2024-11-12T05:08:10.929Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:08:10.929Z] [worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: BUSY"}}
[info] >  >>>>>> 100. Initializing upload to Firebase... {"user":">>>>>> 100. Initializing upload to Firebase...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. Initializing upload to Firebase..."}}
[info] >  >>>>>> 200. chatData: { {"user":">>>>>> 200. chatData: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 200. chatData: {"}}
[info] >    sender: 'John Doe00000', {"user":"  sender: 'John Doe00000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'John Doe00000',"}}
[info] >    message: 'Hello, how can I help you?44', {"user":"  message: 'Hello, how can I help you?44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Hello, how can I help you?44',"}}
[info] >    timestamp: '1731388090940' {"user":"  timestamp: '1731388090940'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731388090940'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:34:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:34:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:34:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:231:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T05:08:20.004Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 9076.22275ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 9076.22275ms"}}
[debug] [2024-11-12T05:08:20.006Z] [worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: IDLE"}}
[debug] [2024-11-12T05:08:20.006Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T05:08:20.006Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T05:08:20.006Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:09:47.187Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:09:48.191Z] Validating nodejs source
[debug] [2024-11-12T05:09:48.937Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:09:48.938Z] Building nodejs source
[debug] [2024-11-12T05:09:48.938Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:09:48.942Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:09:48.944Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8593

[error] Error: Cannot find module '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/index.js'. Please verify that the package.json has a valid "main" entry
    at tryPackage (node:internal/modules/cjs/loader:443:19)
    at Module._findPath (node:internal/modules/cjs/loader:711:18)
    at Module._resolveFilename (node:internal/modules/cjs/loader:1126:27)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32) {
  code: 'MODULE_NOT_FOUND',
  path: '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/package.json',
  requestPath: '../'
}

[debug] [2024-11-12T05:09:49.527Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/index.js'. Please verify that the package.json has a valid "main" entry
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:09:50.049Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:09:51.052Z] Validating nodejs source
[debug] [2024-11-12T05:09:51.645Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:09:51.645Z] Building nodejs source
[debug] [2024-11-12T05:09:51.645Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:09:51.647Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:09:51.648Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:09:51.649Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8854

[error] Error: Cannot find module './config'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T05:09:51.917Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module './config'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:09:52.256Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:09:53.258Z] Validating nodejs source
[debug] [2024-11-12T05:09:53.738Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:09:53.738Z] Building nodejs source
[debug] [2024-11-12T05:09:53.739Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:09:53.739Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:09:53.740Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:09:53.741Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8353

[debug] [2024-11-12T05:09:54.185Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:09:54.193Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T05:09:54.193Z] [worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: FINISHING"}}
[debug] [2024-11-12T05:09:54.204Z] [worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: exited"}}
[debug] [2024-11-12T05:09:54.204Z] [worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b4093910-bab3-4d5f-95d7-99aa17211399]: FINISHED"}}
[debug] [2024-11-12T05:09:54.652Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:09:55.654Z] Validating nodejs source
[debug] [2024-11-12T05:09:56.306Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:09:56.306Z] Building nodejs source
[debug] [2024-11-12T05:09:56.306Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:09:56.308Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:09:56.310Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8340

[debug] [2024-11-12T05:09:56.685Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:11:37.712Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T05:11:38.733Z] Validating nodejs source
[debug] [2024-11-12T05:11:39.388Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:11:39.388Z] Building nodejs source
[debug] [2024-11-12T05:11:39.389Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:11:39.390Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:11:39.391Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8823

[info] >>>>>> 100. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 100. admin.firestore.FieldValue:  [class FieldValue]

[debug] [2024-11-12T05:11:39.953Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:12:02.724Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T05:12:03.730Z] Validating nodejs source
[debug] [2024-11-12T05:12:04.498Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:12:04.498Z] Building nodejs source
[debug] [2024-11-12T05:12:04.498Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:12:04.500Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:12:04.501Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8270

[debug] [2024-11-12T05:12:05.045Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:12:07.429Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:12:08.436Z] Validating nodejs source
[debug] [2024-11-12T05:12:08.985Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:12:08.986Z] Building nodejs source
[debug] [2024-11-12T05:12:08.986Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:12:08.988Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:12:08.989Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8566

[info] >>>>>> 100. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 100. admin.firestore.FieldValue:  [class FieldValue]

[debug] [2024-11-12T05:12:09.369Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:12:16.351Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:12:17.354Z] Validating nodejs source
[debug] [2024-11-12T05:12:17.864Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:12:17.864Z] Building nodejs source
[debug] [2024-11-12T05:12:17.864Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:12:17.866Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:12:17.867Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:12:17.868Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8838

[debug] [2024-11-12T05:12:18.252Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:12:18.269Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:12:19.270Z] Validating nodejs source
[debug] [2024-11-12T05:12:19.886Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:12:19.887Z] Building nodejs source
[debug] [2024-11-12T05:12:19.887Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:12:19.887Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:12:19.888Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8490

[debug] [2024-11-12T05:12:20.393Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:12:34.738Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:12:35.777Z] Validating nodejs source
[debug] [2024-11-12T05:12:36.361Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:12:36.361Z] Building nodejs source
[debug] [2024-11-12T05:12:36.361Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:12:36.363Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:12:36.364Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8006

[debug] [2024-11-12T05:12:36.962Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:12:37.471Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:12:38.473Z] Validating nodejs source
[debug] [2024-11-12T05:12:39.001Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:12:39.001Z] Building nodejs source
[debug] [2024-11-12T05:12:39.001Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:12:39.009Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:12:39.009Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8660

[debug] [2024-11-12T05:12:39.503Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:12:45.901Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:12:46.910Z] Validating nodejs source
[debug] [2024-11-12T05:12:47.699Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:12:47.699Z] Building nodejs source
[debug] [2024-11-12T05:12:47.699Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:12:47.700Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:12:47.701Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8108

[debug] [2024-11-12T05:12:48.136Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:12:48.306Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:12:49.307Z] Validating nodejs source
[debug] [2024-11-12T05:12:49.868Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:12:49.868Z] Building nodejs source
[debug] [2024-11-12T05:12:49.868Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:12:49.869Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:12:49.870Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8644

[debug] [2024-11-12T05:12:50.260Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:12:58.695Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:12:58.695Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:12:58.696Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:12:58.695Z"],"workRunningCount":1}
[debug] [2024-11-12T05:12:58.696Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T05:12:58.703Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:12:58.704Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T05:12:58.704Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:12:58.709Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:12:58.710Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:12:59.778Z] [runtime-status] [42186] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:12:59.778Z] [runtime-status] [42186] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:12:59.778Z] [runtime-status] [42186] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:12:59.779Z] [runtime-status] [42186] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:12:59.931Z] [runtime-status] [42186] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:12:59.932Z] [runtime-status] [42186] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:12:59.932Z] [runtime-status] [42186] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:12:59.935Z] [runtime-status] [42186] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:12:59.937Z] [runtime-status] [42186] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:12:59.937Z] [runtime-status] [42186] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:12:59.967Z] [runtime-status] [42186] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:13:00.185Z] [runtime-status] [42186] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:13:00.186Z] [runtime-status] [42186] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_3664493ff837a486.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42186] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_3664493ff837a486.sock"}}
[debug] [2024-11-12T05:13:00.234Z] [worker-us-central1-app-23a5cdc9-5632-4da3-8901-26c3fa1778be]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-23a5cdc9-5632-4da3-8901-26c3fa1778be]: IDLE"}}
[debug] [2024-11-12T05:13:00.235Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:13:00.235Z] [worker-us-central1-app-23a5cdc9-5632-4da3-8901-26c3fa1778be]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-23a5cdc9-5632-4da3-8901-26c3fa1778be]: BUSY"}}
[info] >  >>>>>> 100. admin:  <ref *1> FirebaseNamespace { {"user":">>>>>> 100. admin:  <ref *1> FirebaseNamespace {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. admin:  <ref *1> FirebaseNamespace {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    credential: { {"user":"  credential: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: {"}}
[info] >      cert: [Function: cert], {"user":"    cert: [Function: cert],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     cert: [Function: cert],"}}
[info] >      refreshToken: [Function: refreshToken], {"user":"    refreshToken: [Function: refreshToken],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     refreshToken: [Function: refreshToken],"}}
[info] >      applicationDefault: [Function: applicationDefault] {"user":"    applicationDefault: [Function: applicationDefault]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     applicationDefault: [Function: applicationDefault]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    SDK_VERSION: '11.11.1', {"user":"  SDK_VERSION: '11.11.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '11.11.1',"}}
[info] >    Promise: [Function: Promise], {"user":"  Promise: [Function: Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   Promise: [Function: Promise],"}}
[info] >    INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } }, {"user":"  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },"}}
[info] >    default: [Circular *1] {"user":"  default: [Circular *1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 100. admin.firestore.FieldValue:  undefined {"user":">>>>>> 100. admin.firestore.FieldValue:  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. admin.firestore.FieldValue:  undefined"}}
[info] >  >>>>>> 100. Initializing upload to Firebase... {"user":">>>>>> 100. Initializing upload to Firebase...","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. Initializing upload to Firebase..."}}
[info] >  >>>>>> 200. chatData: { {"user":">>>>>> 200. chatData: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 200. chatData: {"}}
[info] >    sender: 'John Doe00000', {"user":"  sender: 'John Doe00000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'John Doe00000',"}}
[info] >    message: 'Hello, how can I help you?44', {"user":"  message: 'Hello, how can I help you?44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Hello, how can I help you?44',"}}
[info] >    timestamp: '1731388380247' {"user":"  timestamp: '1731388380247'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731388380247'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:34:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:34:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:34:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:238:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:238:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:238:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T05:13:50.778Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:13:51.784Z] Validating nodejs source
[debug] [2024-11-12T05:13:52.415Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:13:52.415Z] Building nodejs source
[debug] [2024-11-12T05:13:52.415Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:13:52.417Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:13:52.418Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8690

[debug] [2024-11-12T05:13:53.022Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:13:53.065Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:13:53.079Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:13:53.079Z] [worker-us-central1-app-23a5cdc9-5632-4da3-8901-26c3fa1778be]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-23a5cdc9-5632-4da3-8901-26c3fa1778be]: FINISHING"}}
[debug] [2024-11-12T05:13:54.023Z] Validating nodejs source
[debug] [2024-11-12T05:13:54.511Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:13:54.511Z] Building nodejs source
[debug] [2024-11-12T05:13:54.511Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:13:54.512Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:13:54.512Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8830

[debug] [2024-11-12T05:13:54.896Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:14:00.250Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:14:00.267Z] [worker-us-central1-app-23a5cdc9-5632-4da3-8901-26c3fa1778be]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-23a5cdc9-5632-4da3-8901-26c3fa1778be]: exited"}}
[debug] [2024-11-12T05:14:00.267Z] [worker-us-central1-app-23a5cdc9-5632-4da3-8901-26c3fa1778be]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-23a5cdc9-5632-4da3-8901-26c3fa1778be]: FINISHED"}}
[debug] [2024-11-12T05:14:05.452Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:14:06.454Z] Validating nodejs source
[debug] [2024-11-12T05:14:07.062Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:14:07.062Z] Building nodejs source
[debug] [2024-11-12T05:14:07.062Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:14:07.065Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:14:07.066Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8351

[debug] [2024-11-12T05:14:07.575Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:14:09.344Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:14:09.344Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:14:09.344Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:14:09.344Z"],"workRunningCount":1}
[debug] [2024-11-12T05:14:09.344Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T05:14:09.348Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:14:09.349Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T05:14:09.349Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:14:09.352Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:14:09.353Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:14:10.766Z] [runtime-status] [42534] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:14:10.767Z] [runtime-status] [42534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:14:10.767Z] [runtime-status] [42534] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:14:10.767Z] [runtime-status] [42534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:14:10.869Z] [runtime-status] [42534] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:14:10.869Z] [runtime-status] [42534] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:14:10.869Z] [runtime-status] [42534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:14:10.873Z] [runtime-status] [42534] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:14:10.874Z] [runtime-status] [42534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:14:10.874Z] [runtime-status] [42534] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:14:10.896Z] [runtime-status] [42534] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:14:11.044Z] [runtime-status] [42534] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:14:11.045Z] [runtime-status] [42534] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_09401180159546d1.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42534] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_09401180159546d1.sock"}}
[debug] [2024-11-12T05:14:11.084Z] [worker-us-central1-app-a620b806-7857-4ac0-b32e-98ba7ed250c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a620b806-7857-4ac0-b32e-98ba7ed250c8]: IDLE"}}
[debug] [2024-11-12T05:14:11.085Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:14:11.085Z] [worker-us-central1-app-a620b806-7857-4ac0-b32e-98ba7ed250c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a620b806-7857-4ac0-b32e-98ba7ed250c8]: BUSY"}}
[info] >  >>>>>> 1111100. admin:  <ref *1> FirebaseNamespace { {"user":">>>>>> 1111100. admin:  <ref *1> FirebaseNamespace {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 1111100. admin:  <ref *1> FirebaseNamespace {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    credential: { {"user":"  credential: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: {"}}
[info] >      cert: [Function: cert], {"user":"    cert: [Function: cert],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     cert: [Function: cert],"}}
[info] >      refreshToken: [Function: refreshToken], {"user":"    refreshToken: [Function: refreshToken],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     refreshToken: [Function: refreshToken],"}}
[info] >      applicationDefault: [Function: applicationDefault] {"user":"    applicationDefault: [Function: applicationDefault]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     applicationDefault: [Function: applicationDefault]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    SDK_VERSION: '11.11.1', {"user":"  SDK_VERSION: '11.11.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '11.11.1',"}}
[info] >    Promise: [Function: Promise], {"user":"  Promise: [Function: Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   Promise: [Function: Promise],"}}
[info] >    INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } }, {"user":"  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },"}}
[info] >    default: [Circular *1] {"user":"  default: [Circular *1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 11111100. admin.firestore.FieldValue:  undefined {"user":">>>>>> 11111100. admin.firestore.FieldValue:  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 11111100. admin.firestore.FieldValue:  undefined"}}
[info] >  >>>>>> 100. admin:  <ref *1> FirebaseNamespace { {"user":">>>>>> 100. admin:  <ref *1> FirebaseNamespace {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. admin:  <ref *1> FirebaseNamespace {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    credential: { {"user":"  credential: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: {"}}
[info] >      cert: [Function: cert], {"user":"    cert: [Function: cert],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     cert: [Function: cert],"}}
[info] >      refreshToken: [Function: refreshToken], {"user":"    refreshToken: [Function: refreshToken],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     refreshToken: [Function: refreshToken],"}}
[info] >      applicationDefault: [Function: applicationDefault] {"user":"    applicationDefault: [Function: applicationDefault]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     applicationDefault: [Function: applicationDefault]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    SDK_VERSION: '11.11.1', {"user":"  SDK_VERSION: '11.11.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '11.11.1',"}}
[info] >    Promise: [Function: Promise], {"user":"  Promise: [Function: Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   Promise: [Function: Promise],"}}
[info] >    INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } }, {"user":"  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },"}}
[info] >    default: [Circular *1] {"user":"  default: [Circular *1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 100. admin.firestore.FieldValue:  undefined {"user":">>>>>> 100. admin.firestore.FieldValue:  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. admin.firestore.FieldValue:  undefined"}}
[info] >  >>>>>> 200. chatData: { {"user":">>>>>> 200. chatData: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 200. chatData: {"}}
[info] >    sender: 'John Doe00000', {"user":"  sender: 'John Doe00000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'John Doe00000',"}}
[info] >    message: 'Hello, how can I help you?44', {"user":"  message: 'Hello, how can I help you?44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Hello, how can I help you?44',"}}
[info] >    timestamp: '1731388451098' {"user":"  timestamp: '1731388451098'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731388451098'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:238:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:238:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:238:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[debug] [2024-11-12T05:14:38.979Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:14:39.984Z] Validating nodejs source
[debug] [2024-11-12T05:14:40.594Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:14:40.595Z] Building nodejs source
[debug] [2024-11-12T05:14:40.595Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:14:40.596Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:14:40.597Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8841

[debug] [2024-11-12T05:14:41.100Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:14:41.253Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:14:41.261Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:14:41.262Z] [worker-us-central1-app-a620b806-7857-4ac0-b32e-98ba7ed250c8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a620b806-7857-4ac0-b32e-98ba7ed250c8]: FINISHING"}}
[debug] [2024-11-12T05:14:42.104Z] Validating nodejs source
[debug] [2024-11-12T05:14:43.837Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:14:43.888Z] Building nodejs source
[debug] [2024-11-12T05:14:43.889Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:14:43.903Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:14:43.906Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8804

[debug] [2024-11-12T05:14:44.674Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:14:47.143Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:14:47.142Z"],"queueLength":1,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:14:09.344Z"],"workRunningCount":1}
[debug] [2024-11-12T05:14:47.144Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:14:09.344Z","/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:14:47.142Z"],"workRunningCount":2}
[debug] [2024-11-12T05:14:47.144Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T05:14:47.156Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:14:47.156Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:14:47.160Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:14:47.160Z] [worker-pool] Adding worker with key us-central1-app, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=2"}}
[debug] [2024-11-12T05:14:48.994Z] [runtime-status] [42726] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:14:48.995Z] [runtime-status] [42726] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:14:48.995Z] [runtime-status] [42726] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:14:48.995Z] [runtime-status] [42726] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:14:49.092Z] [runtime-status] [42726] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:14:49.092Z] [runtime-status] [42726] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:14:49.093Z] [runtime-status] [42726] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:14:49.096Z] [runtime-status] [42726] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:14:49.097Z] [runtime-status] [42726] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:14:49.097Z] [runtime-status] [42726] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:14:49.119Z] [runtime-status] [42726] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:14:49.272Z] [runtime-status] [42726] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:14:49.273Z] [runtime-status] [42726] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_c431bb8be0b2ad74.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [42726] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_c431bb8be0b2ad74.sock"}}
[debug] [2024-11-12T05:14:49.297Z] [worker-us-central1-app-f3100cb9-0b47-4117-a283-5d18d94f60d9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3100cb9-0b47-4117-a283-5d18d94f60d9]: IDLE"}}
[debug] [2024-11-12T05:14:49.297Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:14:49.297Z] [worker-us-central1-app-f3100cb9-0b47-4117-a283-5d18d94f60d9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3100cb9-0b47-4117-a283-5d18d94f60d9]: BUSY"}}
[info] >  >>>>>> 200. chatData: { {"user":">>>>>> 200. chatData: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 200. chatData: {"}}
[info] >    sender: 'John Doe00000', {"user":"  sender: 'John Doe00000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'John Doe00000',"}}
[info] >    message: 'Hello, how can I help you?44', {"user":"  message: 'Hello, how can I help you?44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Hello, how can I help you?44',"}}
[info] >    timestamp: '1731388489309' {"user":"  timestamp: '1731388489309'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731388489309'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:238:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:238:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:238:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T05:15:03.125Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:15:04.129Z] Validating nodejs source
[debug] [2024-11-12T05:15:04.775Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:15:04.775Z] Building nodejs source
[debug] [2024-11-12T05:15:04.775Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:15:04.777Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:15:04.778Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8438

[debug] [2024-11-12T05:15:05.408Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:15:05.416Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:15:05.416Z] [worker-us-central1-app-f3100cb9-0b47-4117-a283-5d18d94f60d9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3100cb9-0b47-4117-a283-5d18d94f60d9]: FINISHING"}}
[debug] [2024-11-12T05:15:09.530Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:15:10.535Z] Validating nodejs source
[debug] [2024-11-12T05:15:11.190Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:15:11.190Z] Building nodejs source
[debug] [2024-11-12T05:15:11.190Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[debug] [2024-11-12T05:15:11.192Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:15:11.193Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:15:11.200Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:14:47.142Z"],"workRunningCount":1}
[debug] [2024-11-12T05:15:11.212Z] [worker-us-central1-app-a620b806-7857-4ac0-b32e-98ba7ed250c8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a620b806-7857-4ac0-b32e-98ba7ed250c8]: exited"}}
[debug] [2024-11-12T05:15:11.212Z] [worker-us-central1-app-a620b806-7857-4ac0-b32e-98ba7ed250c8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a620b806-7857-4ac0-b32e-98ba7ed250c8]: FINISHED"}}
[info] Serving at port 8314

[debug] [2024-11-12T05:15:11.877Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:15:18.771Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:15:19.775Z] Validating nodejs source
[debug] [2024-11-12T05:15:20.398Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:15:20.399Z] Building nodejs source
[debug] [2024-11-12T05:15:20.399Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:15:20.400Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:15:20.402Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8905

[debug] [2024-11-12T05:15:20.981Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:15:29.086Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:15:30.090Z] Validating nodejs source
[debug] [2024-11-12T05:15:30.706Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:15:30.707Z] Building nodejs source
[debug] [2024-11-12T05:15:30.707Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:15:30.712Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:15:30.713Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8682

[debug] [2024-11-12T05:15:31.254Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:15:34.451Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:15:35.454Z] Validating nodejs source
[debug] [2024-11-12T05:15:36.019Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:15:36.019Z] Building nodejs source
[debug] [2024-11-12T05:15:36.019Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:15:36.021Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:15:36.022Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8942

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:335
  .log(">>>> 44. conversationId: ", conversationId);
  ^

SyntaxError: Unexpected token '.'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T05:15:36.156Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '.'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:15:36.626Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:15:37.628Z] Validating nodejs source
[debug] [2024-11-12T05:15:38.111Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:15:38.111Z] Building nodejs source
[debug] [2024-11-12T05:15:38.111Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:15:38.112Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:15:38.113Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8992

[debug] [2024-11-12T05:15:38.749Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:15:41.444Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:15:42.447Z] Validating nodejs source
[debug] [2024-11-12T05:15:43.030Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:15:43.031Z] Building nodejs source
[debug] [2024-11-12T05:15:43.031Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:15:43.032Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:15:43.033Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8807

[debug] [2024-11-12T05:15:43.415Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:15:49.305Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:15:49.320Z] [worker-us-central1-app-f3100cb9-0b47-4117-a283-5d18d94f60d9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3100cb9-0b47-4117-a283-5d18d94f60d9]: exited"}}
[debug] [2024-11-12T05:15:49.320Z] [worker-us-central1-app-f3100cb9-0b47-4117-a283-5d18d94f60d9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f3100cb9-0b47-4117-a283-5d18d94f60d9]: FINISHED"}}
[debug] [2024-11-12T05:15:49.744Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:49.744Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:15:49.745Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:49.744Z"],"workRunningCount":1}
[debug] [2024-11-12T05:15:49.745Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:15:49.765Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:15:49.765Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:15:49.765Z] [worker-pool] Cleaned up workers for us-central1-app: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 2 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:15:49.768Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:15:49.769Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:15:50.800Z] [runtime-status] [43213] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:15:50.801Z] [runtime-status] [43213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:15:50.801Z] [runtime-status] [43213] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:15:50.802Z] [runtime-status] [43213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:15:50.912Z] [runtime-status] [43213] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:15:50.912Z] [runtime-status] [43213] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:15:50.912Z] [runtime-status] [43213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:15:50.916Z] [runtime-status] [43213] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:15:50.917Z] [runtime-status] [43213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:15:50.917Z] [runtime-status] [43213] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:15:50.939Z] [runtime-status] [43213] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:15:51.096Z] [runtime-status] [43213] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:15:51.097Z] [runtime-status] [43213] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_3106dab5a8c2709d.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43213] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_3106dab5a8c2709d.sock"}}
[debug] [2024-11-12T05:15:51.195Z] [worker-us-central1-app-a07d3e72-a7c3-4d85-9781-b4877b2b55b0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a07d3e72-a7c3-4d85-9781-b4877b2b55b0]: IDLE"}}
[debug] [2024-11-12T05:15:51.195Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:15:51.196Z] [worker-us-central1-app-a07d3e72-a7c3-4d85-9781-b4877b2b55b0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a07d3e72-a7c3-4d85-9781-b4877b2b55b0]: BUSY"}}
[info] >  >>>>>> 200. chatData: { {"user":">>>>>> 200. chatData: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 200. chatData: {"}}
[info] >    sender: 'John Doe00000', {"user":"  sender: 'John Doe00000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'John Doe00000',"}}
[info] >    message: 'Hello, how can I help you?44', {"user":"  message: 'Hello, how can I help you?44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Hello, how can I help you?44',"}}
[info] >    timestamp: '1731388551207' {"user":"  timestamp: '1731388551207'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731388551207'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:312:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:312:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:312:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[debug] [2024-11-12T05:15:58.432Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:58.432Z"],"queueLength":1,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:49.744Z"],"workRunningCount":1}
[debug] [2024-11-12T05:15:58.433Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:49.744Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:58.432Z"],"workRunningCount":2}
[debug] [2024-11-12T05:15:58.433Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:15:58.439Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:15:58.439Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:15:58.444Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:15:58.444Z] [worker-pool] Adding worker with key us-central1-app, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=2"}}
[debug] [2024-11-12T05:15:59.447Z] [runtime-status] [43250] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:15:59.448Z] [runtime-status] [43250] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:15:59.448Z] [runtime-status] [43250] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:15:59.448Z] [runtime-status] [43250] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:15:59.558Z] [runtime-status] [43250] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:15:59.559Z] [runtime-status] [43250] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:15:59.559Z] [runtime-status] [43250] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:15:59.563Z] [runtime-status] [43250] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:15:59.564Z] [runtime-status] [43250] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:15:59.564Z] [runtime-status] [43250] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:15:59.588Z] [runtime-status] [43250] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:15:59.737Z] [runtime-status] [43250] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:15:59.738Z] [runtime-status] [43250] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_bc04993c254a5d6e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43250] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_bc04993c254a5d6e.sock"}}
[debug] [2024-11-12T05:15:59.768Z] [worker-us-central1-app-b5db8995-a720-4720-99c6-19679df29836]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b5db8995-a720-4720-99c6-19679df29836]: IDLE"}}
[debug] [2024-11-12T05:15:59.769Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:15:59.769Z] [worker-us-central1-app-b5db8995-a720-4720-99c6-19679df29836]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b5db8995-a720-4720-99c6-19679df29836]: BUSY"}}
[info] >  >>>>>> 200. chatData: { {"user":">>>>>> 200. chatData: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 200. chatData: {"}}
[info] >    sender: 'John Doe00000', {"user":"  sender: 'John Doe00000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   sender: 'John Doe00000',"}}
[info] >    message: 'Hello, how can I help you?44', {"user":"  message: 'Hello, how can I help you?44',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   message: 'Hello, how can I help you?44',"}}
[info] >    timestamp: '1731388559781' {"user":"  timestamp: '1731388559781'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   timestamp: '1731388559781'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:57)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:312:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:312:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:312:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[debug] [2024-11-12T05:16:38.315Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:16:39.320Z] Validating nodejs source
[debug] [2024-11-12T05:16:39.982Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:16:39.982Z] Building nodejs source
[debug] [2024-11-12T05:16:39.982Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:16:39.984Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:16:39.985Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8880

[debug] [2024-11-12T05:16:40.673Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:16:40.682Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:16:40.682Z] [worker-us-central1-app-a07d3e72-a7c3-4d85-9781-b4877b2b55b0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a07d3e72-a7c3-4d85-9781-b4877b2b55b0]: FINISHING"}}
[debug] [2024-11-12T05:16:40.682Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:16:40.682Z] [worker-us-central1-app-b5db8995-a720-4720-99c6-19679df29836]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b5db8995-a720-4720-99c6-19679df29836]: FINISHING"}}
[debug] [2024-11-12T05:16:40.790Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:16:41.792Z] Validating nodejs source
[debug] [2024-11-12T05:16:42.352Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:16:42.353Z] Building nodejs source
[debug] [2024-11-12T05:16:42.353Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:16:42.359Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:16:42.364Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8201

[debug] [2024-11-12T05:16:43.247Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:16:47.802Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:16:47.802Z"],"queueLength":1,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:49.744Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:58.432Z"],"workRunningCount":2}
[debug] [2024-11-12T05:16:47.803Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:49.744Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:58.432Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:16:47.802Z"],"workRunningCount":3}
[debug] [2024-11-12T05:16:47.803Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:16:47.809Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:16:47.809Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:16:47.812Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:16:47.812Z] [worker-pool] Adding worker with key us-central1-app, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=3"}}
[debug] [2024-11-12T05:16:48.851Z] [runtime-status] [43484] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:16:48.851Z] [runtime-status] [43484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:16:48.852Z] [runtime-status] [43484] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:16:48.852Z] [runtime-status] [43484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:16:48.950Z] [runtime-status] [43484] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:16:48.950Z] [runtime-status] [43484] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:16:48.950Z] [runtime-status] [43484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:16:48.955Z] [runtime-status] [43484] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:16:48.956Z] [runtime-status] [43484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:16:48.956Z] [runtime-status] [43484] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:16:48.977Z] [runtime-status] [43484] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:16:49.129Z] [runtime-status] [43484] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:16:49.130Z] [runtime-status] [43484] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_bd33941df5301433.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [43484] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_bd33941df5301433.sock"}}
[debug] [2024-11-12T05:16:49.141Z] [worker-us-central1-app-c9c68ed7-3551-4c2b-8886-2b438ecc99fd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c9c68ed7-3551-4c2b-8886-2b438ecc99fd]: IDLE"}}
[debug] [2024-11-12T05:16:49.141Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:16:49.142Z] [worker-us-central1-app-c9c68ed7-3551-4c2b-8886-2b438ecc99fd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c9c68ed7-3551-4c2b-8886-2b438ecc99fd]: BUSY"}}
[info] >  >>>>>> 100. admin:  <ref *1> FirebaseNamespace { {"user":">>>>>> 100. admin:  <ref *1> FirebaseNamespace {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. admin:  <ref *1> FirebaseNamespace {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    credential: { {"user":"  credential: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: {"}}
[info] >      cert: [Function: cert], {"user":"    cert: [Function: cert],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     cert: [Function: cert],"}}
[info] >      refreshToken: [Function: refreshToken], {"user":"    refreshToken: [Function: refreshToken],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     refreshToken: [Function: refreshToken],"}}
[info] >      applicationDefault: [Function: applicationDefault] {"user":"    applicationDefault: [Function: applicationDefault]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     applicationDefault: [Function: applicationDefault]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    SDK_VERSION: '11.11.1', {"user":"  SDK_VERSION: '11.11.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '11.11.1',"}}
[info] >    Promise: [Function: Promise], {"user":"  Promise: [Function: Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   Promise: [Function: Promise],"}}
[info] >    INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } }, {"user":"  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },"}}
[info] >    default: [Circular *1] {"user":"  default: [Circular *1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 100. admin.firestore.FieldValue:  undefined {"user":">>>>>> 100. admin.firestore.FieldValue:  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. admin.firestore.FieldValue:  undefined"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:16:51.200Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:15:58.432Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:16:47.802Z"],"workRunningCount":2}
[debug] [2024-11-12T05:16:51.218Z] [worker-us-central1-app-a07d3e72-a7c3-4d85-9781-b4877b2b55b0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a07d3e72-a7c3-4d85-9781-b4877b2b55b0]: exited"}}
[debug] [2024-11-12T05:16:51.218Z] [worker-us-central1-app-a07d3e72-a7c3-4d85-9781-b4877b2b55b0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a07d3e72-a7c3-4d85-9781-b4877b2b55b0]: FINISHED"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:16:59.777Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:16:47.802Z"],"workRunningCount":1}
[debug] [2024-11-12T05:16:59.794Z] [worker-us-central1-app-b5db8995-a720-4720-99c6-19679df29836]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b5db8995-a720-4720-99c6-19679df29836]: exited"}}
[debug] [2024-11-12T05:16:59.794Z] [worker-us-central1-app-b5db8995-a720-4720-99c6-19679df29836]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-b5db8995-a720-4720-99c6-19679df29836]: FINISHED"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:17:49.159Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:17:49.176Z] [worker-us-central1-app-c9c68ed7-3551-4c2b-8886-2b438ecc99fd]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c9c68ed7-3551-4c2b-8886-2b438ecc99fd]: exited"}}
[debug] [2024-11-12T05:17:49.177Z] [worker-us-central1-app-c9c68ed7-3551-4c2b-8886-2b438ecc99fd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c9c68ed7-3551-4c2b-8886-2b438ecc99fd]: FINISHED"}}
[debug] [2024-11-12T05:18:39.662Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers"}}
[debug] [2024-11-12T05:18:40.667Z] Validating nodejs source
[debug] [2024-11-12T05:18:41.404Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:18:41.404Z] Building nodejs source
[debug] [2024-11-12T05:18:41.404Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:18:41.406Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:18:41.407Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:18:41.409Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/serviceAccountKeys.js changed, reloading triggers"}}
[info] Serving at port 8076

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T05:18:41.934Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:18:42.410Z] Validating nodejs source
[debug] [2024-11-12T05:18:42.971Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:18:42.971Z] Building nodejs source
[debug] [2024-11-12T05:18:42.971Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:18:42.972Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:18:42.974Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8768

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T05:18:43.336Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:18:46.012Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T05:18:47.016Z] Validating nodejs source
[debug] [2024-11-12T05:18:47.545Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:18:47.545Z] Building nodejs source
[debug] [2024-11-12T05:18:47.545Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:18:47.546Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:18:47.547Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8071

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T05:18:47.884Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:18:49.161Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T05:18:50.165Z] Validating nodejs source
[debug] [2024-11-12T05:18:50.691Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:18:50.691Z] Building nodejs source
[debug] [2024-11-12T05:18:50.691Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:18:50.694Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:18:50.695Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8995

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:17:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T05:18:51.094Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:18:53.824Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T05:18:54.829Z] Validating nodejs source
[debug] [2024-11-12T05:18:55.353Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:18:55.353Z] Building nodejs source
[debug] [2024-11-12T05:18:55.354Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:18:55.356Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:18:55.357Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8739

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T05:18:55.718Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:18:56.467Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T05:18:57.469Z] Validating nodejs source
[debug] [2024-11-12T05:18:58.095Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:18:58.096Z] Building nodejs source
[debug] [2024-11-12T05:18:58.096Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:18:58.100Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:18:58.101Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8870

[error] FirebaseError: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
    at Storage.bucket (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/storage/storage.js:106:15)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js:16:32)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:4:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14) {
  errorInfo: {
    code: 'storage/invalid-argument',
    message: 'Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.'
  }
}

[debug] [2024-11-12T05:18:58.459Z] Got response code 400; body Failed to generate manifest from function source: Error: Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:18:59.509Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T05:19:00.512Z] Validating nodejs source
[debug] [2024-11-12T05:19:01.074Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:19:01.074Z] Building nodejs source
[debug] [2024-11-12T05:19:01.074Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:19:01.078Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:19:01.079Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8487

[debug] [2024-11-12T05:19:01.460Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:19:05.818Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/config/firebase-config.js changed, reloading triggers"}}
[debug] [2024-11-12T05:19:06.820Z] Validating nodejs source
[debug] [2024-11-12T05:19:07.302Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:19:07.303Z] Building nodejs source
[debug] [2024-11-12T05:19:07.303Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:19:07.303Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:19:07.304Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8108

[debug] [2024-11-12T05:19:07.682Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:19:10.300Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:19:10.300Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:19:10.302Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:19:10.300Z"],"workRunningCount":1}
[debug] [2024-11-12T05:19:10.302Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:19:10.307Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:19:10.307Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:19:10.307Z] [worker-pool] Cleaned up workers for us-central1-app: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 3 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:19:10.311Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:19:10.311Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:19:11.368Z] [runtime-status] [44291] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:19:11.368Z] [runtime-status] [44291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:19:11.369Z] [runtime-status] [44291] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:19:11.369Z] [runtime-status] [44291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:19:11.476Z] [runtime-status] [44291] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:19:11.476Z] [runtime-status] [44291] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:19:11.477Z] [runtime-status] [44291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:19:11.481Z] [runtime-status] [44291] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:19:11.481Z] [runtime-status] [44291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:19:11.482Z] [runtime-status] [44291] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:19:11.503Z] [runtime-status] [44291] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:19:11.667Z] [runtime-status] [44291] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:19:11.667Z] [runtime-status] [44291] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_9905a194ae8907a6.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44291] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_9905a194ae8907a6.sock"}}
[debug] [2024-11-12T05:19:11.737Z] [worker-us-central1-app-bd931679-1e26-41ba-8b66-8a80fd21b4bb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-bd931679-1e26-41ba-8b66-8a80fd21b4bb]: IDLE"}}
[debug] [2024-11-12T05:19:11.737Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:19:11.738Z] [worker-us-central1-app-bd931679-1e26-41ba-8b66-8a80fd21b4bb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-bd931679-1e26-41ba-8b66-8a80fd21b4bb]: BUSY"}}
[info] >  >>>>>> 100. admin:  <ref *1> FirebaseNamespace { {"user":">>>>>> 100. admin:  <ref *1> FirebaseNamespace {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. admin:  <ref *1> FirebaseNamespace {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    credential: { {"user":"  credential: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: {"}}
[info] >      cert: [Function: cert], {"user":"    cert: [Function: cert],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     cert: [Function: cert],"}}
[info] >      refreshToken: [Function: refreshToken], {"user":"    refreshToken: [Function: refreshToken],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     refreshToken: [Function: refreshToken],"}}
[info] >      applicationDefault: [Function: applicationDefault] {"user":"    applicationDefault: [Function: applicationDefault]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     applicationDefault: [Function: applicationDefault]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    SDK_VERSION: '11.11.1', {"user":"  SDK_VERSION: '11.11.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '11.11.1',"}}
[info] >    Promise: [Function: Promise], {"user":"  Promise: [Function: Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   Promise: [Function: Promise],"}}
[info] >    INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } }, {"user":"  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },"}}
[info] >    default: [Circular *1] {"user":"  default: [Circular *1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 100. admin.firestore.FieldValue:  undefined {"user":">>>>>> 100. admin.firestore.FieldValue:  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 100. admin.firestore.FieldValue:  undefined"}}
[debug] [2024-11-12T05:19:42.302Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:19:43.306Z] Validating nodejs source
[debug] [2024-11-12T05:19:44.297Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:19:44.298Z] Building nodejs source
[debug] [2024-11-12T05:19:44.299Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:19:44.301Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:19:44.303Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:19:44.305Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8629

[debug] [2024-11-12T05:19:44.976Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:19:44.986Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:19:44.986Z] [worker-us-central1-app-bd931679-1e26-41ba-8b66-8a80fd21b4bb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-bd931679-1e26-41ba-8b66-8a80fd21b4bb]: FINISHING"}}
[debug] [2024-11-12T05:19:45.306Z] Validating nodejs source
[debug] [2024-11-12T05:19:46.006Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:19:46.007Z] Building nodejs source
[debug] [2024-11-12T05:19:46.007Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:19:46.009Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:19:46.010Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8264

[debug] [2024-11-12T05:19:46.501Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:19:47.053Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:19:47.053Z"],"queueLength":1,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:19:10.300Z"],"workRunningCount":1}
[debug] [2024-11-12T05:19:47.054Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:19:10.300Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:19:47.053Z"],"workRunningCount":2}
[debug] [2024-11-12T05:19:47.054Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:19:47.057Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:19:47.057Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:19:47.060Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:19:47.060Z] [worker-pool] Adding worker with key us-central1-app, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=2"}}
[debug] [2024-11-12T05:19:48.103Z] [runtime-status] [44490] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:19:48.104Z] [runtime-status] [44490] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:19:48.104Z] [runtime-status] [44490] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:19:48.104Z] [runtime-status] [44490] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:19:48.205Z] [runtime-status] [44490] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:19:48.206Z] [runtime-status] [44490] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:19:48.206Z] [runtime-status] [44490] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:19:48.208Z] [runtime-status] [44490] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:19:48.209Z] [runtime-status] [44490] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:19:48.209Z] [runtime-status] [44490] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:19:48.231Z] [runtime-status] [44490] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:19:48.380Z] [runtime-status] [44490] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:19:48.380Z] [runtime-status] [44490] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_06565a25c8280708.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44490] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_06565a25c8280708.sock"}}
[debug] [2024-11-12T05:19:48.484Z] [worker-us-central1-app-81567cb7-0347-4d98-bc3c-ee9bd2d171f6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-81567cb7-0347-4d98-bc3c-ee9bd2d171f6]: IDLE"}}
[debug] [2024-11-12T05:19:48.484Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:19:48.485Z] [worker-us-central1-app-81567cb7-0347-4d98-bc3c-ee9bd2d171f6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-81567cb7-0347-4d98-bc3c-ee9bd2d171f6]: BUSY"}}
[info] >  >>>>>> 101. admin:  <ref *1> FirebaseNamespace { {"user":">>>>>> 101. admin:  <ref *1> FirebaseNamespace {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 101. admin:  <ref *1> FirebaseNamespace {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    credential: { {"user":"  credential: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: {"}}
[info] >      cert: [Function: cert], {"user":"    cert: [Function: cert],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     cert: [Function: cert],"}}
[info] >      refreshToken: [Function: refreshToken], {"user":"    refreshToken: [Function: refreshToken],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     refreshToken: [Function: refreshToken],"}}
[info] >      applicationDefault: [Function: applicationDefault] {"user":"    applicationDefault: [Function: applicationDefault]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     applicationDefault: [Function: applicationDefault]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    SDK_VERSION: '11.11.1', {"user":"  SDK_VERSION: '11.11.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '11.11.1',"}}
[info] >    Promise: [Function: Promise], {"user":"  Promise: [Function: Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   Promise: [Function: Promise],"}}
[info] >    INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } }, {"user":"  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },"}}
[info] >    default: [Circular *1] {"user":"  default: [Circular *1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 102. admin.firestore.FieldValue:  undefined {"user":">>>>>> 102. admin.firestore.FieldValue:  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 102. admin.firestore.FieldValue:  undefined"}}
[debug] [2024-11-12T05:20:10.986Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:20:11.744Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:19:47.053Z"],"workRunningCount":1}
[debug] [2024-11-12T05:20:11.754Z] [worker-us-central1-app-bd931679-1e26-41ba-8b66-8a80fd21b4bb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-bd931679-1e26-41ba-8b66-8a80fd21b4bb]: exited"}}
[debug] [2024-11-12T05:20:11.755Z] [worker-us-central1-app-bd931679-1e26-41ba-8b66-8a80fd21b4bb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-bd931679-1e26-41ba-8b66-8a80fd21b4bb]: FINISHED"}}
[debug] [2024-11-12T05:20:11.989Z] Validating nodejs source
[debug] [2024-11-12T05:20:12.660Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:20:12.660Z] Building nodejs source
[debug] [2024-11-12T05:20:12.660Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:20:12.661Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:20:12.663Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8116

[debug] [2024-11-12T05:20:13.162Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:20:13.186Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:20:13.186Z] [worker-us-central1-app-81567cb7-0347-4d98-bc3c-ee9bd2d171f6]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-81567cb7-0347-4d98-bc3c-ee9bd2d171f6]: FINISHING"}}
[debug] [2024-11-12T05:20:14.184Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:20:15.188Z] Validating nodejs source
[debug] [2024-11-12T05:20:15.710Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:20:15.710Z] Building nodejs source
[debug] [2024-11-12T05:20:15.710Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:20:15.711Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:20:15.712Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8244

[debug] [2024-11-12T05:20:16.135Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:20:19.449Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:20:20.454Z] Validating nodejs source
[debug] [2024-11-12T05:20:21.090Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:20:21.091Z] Building nodejs source
[debug] [2024-11-12T05:20:21.091Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:20:21.094Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:20:21.095Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8142

[debug] [2024-11-12T05:20:21.729Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:20:23.531Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:20:24.534Z] Validating nodejs source
[debug] [2024-11-12T05:20:25.040Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:20:25.040Z] Building nodejs source
[debug] [2024-11-12T05:20:25.040Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:20:25.041Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:20:25.042Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8764

[debug] [2024-11-12T05:20:25.444Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:20:26.958Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:20:27.961Z] Validating nodejs source
[debug] [2024-11-12T05:20:28.680Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:20:28.681Z] Building nodejs source
[debug] [2024-11-12T05:20:28.681Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:20:28.683Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:20:28.684Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8935

[debug] [2024-11-12T05:20:29.299Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:20:29.396Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:20:30.301Z] Validating nodejs source
[debug] [2024-11-12T05:20:30.911Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:20:30.913Z] Building nodejs source
[debug] [2024-11-12T05:20:30.913Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:20:30.915Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:20:30.916Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8565

[debug] [2024-11-12T05:20:31.307Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:20:35.257Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:20:36.260Z] Validating nodejs source
[debug] [2024-11-12T05:20:36.792Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:20:36.792Z] Building nodejs source
[debug] [2024-11-12T05:20:36.793Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:20:36.794Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:20:36.795Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8001

[debug] [2024-11-12T05:20:37.270Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:20:43.934Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:20:44.995Z] Validating nodejs source
[debug] [2024-11-12T05:20:45.771Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:20:45.772Z] Building nodejs source
[debug] [2024-11-12T05:20:45.772Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:20:45.774Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:20:45.775Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8861

[debug] [2024-11-12T05:20:46.200Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:20:48.107Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:20:48.107Z"],"queueLength":1,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:19:47.053Z"],"workRunningCount":1}
[debug] [2024-11-12T05:20:48.108Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:19:47.053Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:20:48.107Z"],"workRunningCount":2}
[debug] [2024-11-12T05:20:48.108Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:20:48.113Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:20:48.113Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:20:48.113Z] [worker-pool] Cleaned up workers for us-central1-app: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 2 --> 1"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:20:48.116Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:20:48.117Z] [worker-pool] Adding worker with key us-central1-app, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=2"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:20:48.487Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:20:48.107Z"],"workRunningCount":1}
[debug] [2024-11-12T05:20:48.497Z] [worker-us-central1-app-81567cb7-0347-4d98-bc3c-ee9bd2d171f6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-81567cb7-0347-4d98-bc3c-ee9bd2d171f6]: exited"}}
[debug] [2024-11-12T05:20:48.498Z] [worker-us-central1-app-81567cb7-0347-4d98-bc3c-ee9bd2d171f6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-81567cb7-0347-4d98-bc3c-ee9bd2d171f6]: FINISHED"}}
[debug] [2024-11-12T05:20:49.148Z] [runtime-status] [44850] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:20:49.148Z] [runtime-status] [44850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:20:49.148Z] [runtime-status] [44850] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:20:49.149Z] [runtime-status] [44850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:20:49.246Z] [runtime-status] [44850] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:20:49.246Z] [runtime-status] [44850] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:20:49.246Z] [runtime-status] [44850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:20:49.251Z] [runtime-status] [44850] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:20:49.252Z] [runtime-status] [44850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:20:49.253Z] [runtime-status] [44850] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:20:49.274Z] [runtime-status] [44850] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:20:49.422Z] [runtime-status] [44850] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:20:49.422Z] [runtime-status] [44850] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_edeb7d76ff3e0d78.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [44850] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_edeb7d76ff3e0d78.sock"}}
[debug] [2024-11-12T05:20:49.439Z] [worker-us-central1-app-77fe53ee-b531-4452-9a9d-2294b3352bc7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-77fe53ee-b531-4452-9a9d-2294b3352bc7]: IDLE"}}
[debug] [2024-11-12T05:20:49.440Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[debug] [2024-11-12T05:20:49.440Z] [worker-pool] Cleaned up workers for us-central1-app: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:20:49.440Z] [worker-us-central1-app-77fe53ee-b531-4452-9a9d-2294b3352bc7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-77fe53ee-b531-4452-9a9d-2294b3352bc7]: BUSY"}}
[info] >  >>>>>> 101. admin:  <ref *1> FirebaseNamespace { {"user":">>>>>> 101. admin:  <ref *1> FirebaseNamespace {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 101. admin:  <ref *1> FirebaseNamespace {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    credential: { {"user":"  credential: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: {"}}
[info] >      cert: [Function: cert], {"user":"    cert: [Function: cert],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     cert: [Function: cert],"}}
[info] >      refreshToken: [Function: refreshToken], {"user":"    refreshToken: [Function: refreshToken],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     refreshToken: [Function: refreshToken],"}}
[info] >      applicationDefault: [Function: applicationDefault] {"user":"    applicationDefault: [Function: applicationDefault]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     applicationDefault: [Function: applicationDefault]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    SDK_VERSION: '11.11.1', {"user":"  SDK_VERSION: '11.11.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '11.11.1',"}}
[info] >    Promise: [Function: Promise], {"user":"  Promise: [Function: Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   Promise: [Function: Promise],"}}
[info] >    INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } }, {"user":"  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },"}}
[info] >    default: [Circular *1] {"user":"  default: [Circular *1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn] {"user":">>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn]"}}
[info] >  >>>>>> 103. admin.firestore.FieldValue:  undefined {"user":">>>>>> 103. admin.firestore.FieldValue:  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 103. admin.firestore.FieldValue:  undefined"}}
[debug] [2024-11-12T05:21:14.056Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:21:15.075Z] Validating nodejs source
[debug] [2024-11-12T05:21:15.702Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:21:15.703Z] Building nodejs source
[debug] [2024-11-12T05:21:15.703Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:21:15.705Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:21:15.706Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8829

[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[info] >>>>>> 103. admin.firestore.FieldValue:  [class FieldValue]

[debug] [2024-11-12T05:21:16.266Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:21:16.276Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:21:16.277Z] [worker-us-central1-app-77fe53ee-b531-4452-9a9d-2294b3352bc7]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-77fe53ee-b531-4452-9a9d-2294b3352bc7]: FINISHING"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:21:49.450Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:21:49.464Z] [worker-us-central1-app-77fe53ee-b531-4452-9a9d-2294b3352bc7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-77fe53ee-b531-4452-9a9d-2294b3352bc7]: exited"}}
[debug] [2024-11-12T05:21:49.464Z] [worker-us-central1-app-77fe53ee-b531-4452-9a9d-2294b3352bc7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-77fe53ee-b531-4452-9a9d-2294b3352bc7]: FINISHED"}}
[debug] [2024-11-12T05:22:10.156Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:22:11.159Z] Validating nodejs source
[debug] [2024-11-12T05:22:11.765Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:22:11.765Z] Building nodejs source
[debug] [2024-11-12T05:22:11.765Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:22:11.767Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:22:11.768Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8213

[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[error] TypeError: Class constructor FieldValue cannot be invoked without 'new'
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:336:19)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-11-12T05:22:12.328Z] Got response code 400; body Failed to generate manifest from function source: TypeError: Class constructor FieldValue cannot be invoked without 'new'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:22:19.040Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:22:20.045Z] Validating nodejs source
[debug] [2024-11-12T05:22:20.679Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:22:20.679Z] Building nodejs source
[debug] [2024-11-12T05:22:20.679Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:22:20.680Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:22:20.681Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8725

[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[info] >>>>>> 103. admin.firestore.FieldValue:  [Function: arrayUnion]

[debug] [2024-11-12T05:22:21.205Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:22:25.630Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:22:26.633Z] Validating nodejs source
[debug] [2024-11-12T05:22:27.194Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:22:27.194Z] Building nodejs source
[debug] [2024-11-12T05:22:27.194Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:22:27.195Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:22:27.195Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8900

[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[error] Error: Function "FieldValue.arrayUnion()" requires at least 1 argument.
    at validateMinNumberOfArguments (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/validate.js:287:15)
    at FieldValue.arrayUnion (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/@google-cloud/firestore/build/src/field-value.js:136:53)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:336:30)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)

[debug] [2024-11-12T05:22:27.684Z] Got response code 400; body Failed to generate manifest from function source: Error: Function "FieldValue.arrayUnion()" requires at least 1 argument.
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:22:41.843Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:22:42.547Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:22:43.717Z] Validating nodejs source
[debug] [2024-11-12T05:22:44.529Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:22:44.530Z] Building nodejs source
[debug] [2024-11-12T05:22:44.531Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:22:44.534Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:22:44.535Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8930

[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[error] ReferenceError: sender is not defined
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:337:5)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-11-12T05:22:45.084Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: sender is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:23:05.948Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:23:06.952Z] Validating nodejs source
[debug] [2024-11-12T05:23:07.573Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:23:07.574Z] Building nodejs source
[debug] [2024-11-12T05:23:07.574Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:23:07.576Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:23:07.576Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8506

[debug] [2024-11-12T05:23:07.877Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[info] >>>>>> 103. admin.firestore.FieldValue:  ArrayUnionTransform { elements: [ 'ddd' ] }

[debug] [2024-11-12T05:23:08.507Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:23:08.879Z] Validating nodejs source
[debug] [2024-11-12T05:23:09.419Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:23:09.420Z] Building nodejs source
[debug] [2024-11-12T05:23:09.420Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:23:09.422Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:23:09.422Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8150

[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[info] >>>>>> 103. admin.firestore.FieldValue:  ArrayUnionTransform { elements: [ 'ddd' ] }

[debug] [2024-11-12T05:23:09.895Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:23:22.647Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:23:23.654Z] Validating nodejs source
[debug] [2024-11-12T05:23:24.228Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:23:24.228Z] Building nodejs source
[debug] [2024-11-12T05:23:24.228Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:23:24.230Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:23:24.231Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8254

[debug] [2024-11-12T05:23:24.820Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:23:27.972Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:23:28.991Z] Validating nodejs source
[debug] [2024-11-12T05:23:29.860Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:23:29.861Z] Building nodejs source
[debug] [2024-11-12T05:23:29.862Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:23:29.864Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:23:29.866Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8210

[debug] [2024-11-12T05:23:30.568Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:23:30.700Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:23:30.700Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:23:30.700Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:23:30.700Z"],"workRunningCount":1}
[debug] [2024-11-12T05:23:30.700Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:23:30.702Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:23:30.702Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:23:30.702Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:23:30.705Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:23:30.706Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:23:31.731Z] [runtime-status] [45803] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:23:31.731Z] [runtime-status] [45803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:23:31.732Z] [runtime-status] [45803] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:23:31.732Z] [runtime-status] [45803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:23:31.828Z] [runtime-status] [45803] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:23:31.828Z] [runtime-status] [45803] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:23:31.828Z] [runtime-status] [45803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:23:31.832Z] [runtime-status] [45803] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:23:31.833Z] [runtime-status] [45803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:23:31.833Z] [runtime-status] [45803] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:23:31.855Z] [runtime-status] [45803] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:23:32.003Z] [runtime-status] [45803] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:23:32.003Z] [runtime-status] [45803] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_dbe262033a318692.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [45803] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_dbe262033a318692.sock"}}
[debug] [2024-11-12T05:23:32.031Z] [worker-us-central1-app-002b8eb8-7eaf-40e5-9021-df7273cab01f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-002b8eb8-7eaf-40e5-9021-df7273cab01f]: IDLE"}}
[debug] [2024-11-12T05:23:32.031Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:23:32.031Z] [worker-us-central1-app-002b8eb8-7eaf-40e5-9021-df7273cab01f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-002b8eb8-7eaf-40e5-9021-df7273cab01f]: BUSY"}}
[info] >  >>>>>> 101. admin:  <ref *1> FirebaseNamespace { {"user":">>>>>> 101. admin:  <ref *1> FirebaseNamespace {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 101. admin:  <ref *1> FirebaseNamespace {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    credential: { {"user":"  credential: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: {"}}
[info] >      cert: [Function: cert], {"user":"    cert: [Function: cert],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     cert: [Function: cert],"}}
[info] >      refreshToken: [Function: refreshToken], {"user":"    refreshToken: [Function: refreshToken],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     refreshToken: [Function: refreshToken],"}}
[info] >      applicationDefault: [Function: applicationDefault] {"user":"    applicationDefault: [Function: applicationDefault]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     applicationDefault: [Function: applicationDefault]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    SDK_VERSION: '11.11.1', {"user":"  SDK_VERSION: '11.11.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '11.11.1',"}}
[info] >    Promise: [Function: Promise], {"user":"  Promise: [Function: Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   Promise: [Function: Promise],"}}
[info] >    INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } }, {"user":"  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },"}}
[info] >    default: [Circular *1] {"user":"  default: [Circular *1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn] {"user":">>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn]"}}
[info] >  /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:325 {"user":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:325","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:325"}}
[info] >      admin.firestore.FieldValue.arrayUnion("ddd") {"user":"    admin.firestore.FieldValue.arrayUnion(\"ddd\")","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin.firestore.FieldValue.arrayUnion(\"ddd\")"}}
[info] >                                 ^ {"user":"                               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:325:32 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:325:32","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:325:32"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.20.4 {"user":"Node.js v18.20.4","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.20.4"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:23:32.053Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:23:32.054Z] [worker-us-central1-app-002b8eb8-7eaf-40e5-9021-df7273cab01f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-002b8eb8-7eaf-40e5-9021-df7273cab01f]: exited"}}
[debug] [2024-11-12T05:23:32.055Z] [worker-us-central1-app-002b8eb8-7eaf-40e5-9021-df7273cab01f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-002b8eb8-7eaf-40e5-9021-df7273cab01f]: FINISHED"}}
[debug] [2024-11-12T05:30:21.839Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:30:22.882Z] Validating nodejs source
[debug] [2024-11-12T05:30:23.879Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:30:23.879Z] Building nodejs source
[debug] [2024-11-12T05:30:23.879Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:30:23.885Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:30:23.888Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8200

[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[info] >>>>>> 103. admin.firestore.FieldValue:  ArrayUnionTransform { elements: [ 'ddd' ] }

[debug] [2024-11-12T05:30:24.600Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:30:50.794Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:30:51.806Z] Validating nodejs source
[debug] [2024-11-12T05:30:52.447Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:30:52.447Z] Building nodejs source
[debug] [2024-11-12T05:30:52.447Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:30:52.449Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:30:52.451Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8450

[debug] [2024-11-12T05:30:53.156Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[info] >>>>>> 103. admin.firestore.FieldValue:  ArrayUnionTransform { elements: [ 'ddd' ] }

[debug] [2024-11-12T05:30:53.289Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:30:54.158Z] Validating nodejs source
[debug] [2024-11-12T05:30:54.684Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:30:54.685Z] Building nodejs source
[debug] [2024-11-12T05:30:54.685Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:30:54.687Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:30:54.688Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8425

[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[info] >>>>>> 103. admin.firestore.FieldValue:  ArrayUnionTransform { elements: [ 'ddd' ] }

[debug] [2024-11-12T05:30:55.063Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:31:05.997Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:31:07.001Z] Validating nodejs source
[debug] [2024-11-12T05:31:07.591Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:31:07.591Z] Building nodejs source
[debug] [2024-11-12T05:31:07.592Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:07.593Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:31:07.594Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8079

[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[info] >>>>>> 103. admin.firestore.FieldValue:  ArrayUnionTransform { elements: [ 'ddd' ] }

[debug] [2024-11-12T05:31:08.184Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:31:08.703Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:31:09.704Z] Validating nodejs source
[debug] [2024-11-12T05:31:10.203Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:31:10.204Z] Building nodejs source
[debug] [2024-11-12T05:31:10.204Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:10.205Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:31:10.205Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8072

[info] >>>>>> 101. admin:  <ref *1> FirebaseNamespace {
  __esModule: true,
  credential: {
    cert: [Function: cert],
    refreshToken: [Function: refreshToken],
    applicationDefault: [Function: applicationDefault]
  },
  SDK_VERSION: '11.11.1',
  Promise: [Function: Promise],
  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },
  default: [Circular *1]
}

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[info] >>>>>> 103. admin.firestore.FieldValue:  ArrayUnionTransform { elements: [ 'ddd' ] }

[debug] [2024-11-12T05:31:10.584Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:31:11.719Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:31:12.720Z] Validating nodejs source
[debug] [2024-11-12T05:31:13.446Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:31:13.446Z] Building nodejs source
[debug] [2024-11-12T05:31:13.447Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:13.449Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:31:13.450Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8954

[debug] [2024-11-12T05:31:14.053Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:31:14.400Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:31:15.069Z] Validating nodejs source
[debug] [2024-11-12T05:31:16.055Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:31:16.057Z] Building nodejs source
[debug] [2024-11-12T05:31:16.058Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:16.069Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:31:16.073Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:31:16.077Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8003

[debug] [2024-11-12T05:31:16.650Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:31:17.078Z] Validating nodejs source
[debug] [2024-11-12T05:31:17.801Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:31:17.801Z] Building nodejs source
[debug] [2024-11-12T05:31:17.801Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:17.806Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:31:17.807Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8120

[debug] [2024-11-12T05:31:18.220Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:31:24.263Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:31:25.266Z] Validating nodejs source
[debug] [2024-11-12T05:31:25.895Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:31:25.895Z] Building nodejs source
[debug] [2024-11-12T05:31:25.895Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:25.896Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:31:25.897Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8687

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:332
  / uploadFollowUpToFirebase(
  ^

SyntaxError: Invalid regular expression: missing /
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T05:31:26.034Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Invalid regular expression: missing /
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:31:28.318Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:31:29.323Z] Validating nodejs source
[debug] [2024-11-12T05:31:29.856Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:31:29.856Z] Building nodejs source
[debug] [2024-11-12T05:31:29.856Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:29.857Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:31:29.858Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8066

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:340
});
^

SyntaxError: Unexpected token '}'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T05:31:30.214Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:31:30.764Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:31:31.767Z] Validating nodejs source
[debug] [2024-11-12T05:31:32.266Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:31:32.267Z] Building nodejs source
[debug] [2024-11-12T05:31:32.267Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:32.268Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:31:32.269Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8477

[debug] [2024-11-12T05:31:32.770Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:31:34.287Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:31:35.289Z] Validating nodejs source
[debug] [2024-11-12T05:31:35.898Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:31:35.898Z] Building nodejs source
[debug] [2024-11-12T05:31:35.898Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:35.900Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:31:35.901Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8501

[debug] [2024-11-12T05:31:36.384Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:31:49.638Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:31:50.643Z] Validating nodejs source
[debug] [2024-11-12T05:31:51.986Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:31:51.987Z] Building nodejs source
[debug] [2024-11-12T05:31:51.987Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:51.990Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:31:51.991Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8457

[debug] [2024-11-12T05:31:52.640Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:31:54.385Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:31:54.385Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:31:54.385Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:31:54.385Z"],"workRunningCount":1}
[debug] [2024-11-12T05:31:54.386Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:31:54.391Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:31:54.391Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:31:54.391Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:31:54.401Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:31:54.402Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:31:55.517Z] [runtime-status] [48323] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:31:55.517Z] [runtime-status] [48323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:31:55.517Z] [runtime-status] [48323] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:31:55.517Z] [runtime-status] [48323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:31:55.624Z] [runtime-status] [48323] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:31:55.624Z] [runtime-status] [48323] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:31:55.625Z] [runtime-status] [48323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:31:55.629Z] [runtime-status] [48323] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:31:55.630Z] [runtime-status] [48323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:31:55.630Z] [runtime-status] [48323] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:31:55.652Z] [runtime-status] [48323] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:31:55.805Z] [runtime-status] [48323] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:31:55.805Z] [runtime-status] [48323] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_8f3d49dcd93d862a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48323] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_8f3d49dcd93d862a.sock"}}
[debug] [2024-11-12T05:31:55.824Z] [worker-us-central1-app-7faaa6d6-b84a-4e70-a3e3-f2a7339093c5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-7faaa6d6-b84a-4e70-a3e3-f2a7339093c5]: IDLE"}}
[debug] [2024-11-12T05:31:55.824Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:31:55.825Z] [worker-us-central1-app-7faaa6d6-b84a-4e70-a3e3-f2a7339093c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-7faaa6d6-b84a-4e70-a3e3-f2a7339093c5]: BUSY"}}
[info] >  >>>>>> 101. admin:  <ref *1> FirebaseNamespace { {"user":">>>>>> 101. admin:  <ref *1> FirebaseNamespace {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 101. admin:  <ref *1> FirebaseNamespace {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    credential: { {"user":"  credential: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: {"}}
[info] >      cert: [Function: cert], {"user":"    cert: [Function: cert],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     cert: [Function: cert],"}}
[info] >      refreshToken: [Function: refreshToken], {"user":"    refreshToken: [Function: refreshToken],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     refreshToken: [Function: refreshToken],"}}
[info] >      applicationDefault: [Function: applicationDefault] {"user":"    applicationDefault: [Function: applicationDefault]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     applicationDefault: [Function: applicationDefault]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    SDK_VERSION: '11.11.1', {"user":"  SDK_VERSION: '11.11.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '11.11.1',"}}
[info] >    Promise: [Function: Promise], {"user":"  Promise: [Function: Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   Promise: [Function: Promise],"}}
[info] >    INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } }, {"user":"  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },"}}
[info] >    default: [Circular *1] {"user":"  default: [Circular *1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn] {"user":">>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn]"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[info] >  Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion') {"user":"Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Error adding chat entry: TypeError: Cannot read properties of undefined (reading 'arrayUnion')"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:34) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:34)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:38:34)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[debug] [2024-11-12T05:32:15.836Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:32:16.842Z] Validating nodejs source
[debug] [2024-11-12T05:32:17.433Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:32:17.433Z] Building nodejs source
[debug] [2024-11-12T05:32:17.433Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:32:17.435Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:32:17.436Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8812

[debug] [2024-11-12T05:32:18.052Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:32:18.075Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:32:18.075Z] [worker-us-central1-app-7faaa6d6-b84a-4e70-a3e3-f2a7339093c5]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-7faaa6d6-b84a-4e70-a3e3-f2a7339093c5]: FINISHING"}}
[debug] [2024-11-12T05:32:18.745Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:32:19.748Z] Validating nodejs source
[debug] [2024-11-12T05:32:20.241Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:32:20.241Z] Building nodejs source
[debug] [2024-11-12T05:32:20.241Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:32:20.241Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:32:20.242Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8455

[debug] [2024-11-12T05:32:20.606Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:32:44.782Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:32:45.788Z] Validating nodejs source
[debug] [2024-11-12T05:32:46.594Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:32:46.594Z] Building nodejs source
[debug] [2024-11-12T05:32:46.594Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:32:46.597Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:32:46.598Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8342

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[debug] [2024-11-12T05:32:47.267Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:32:55.831Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:32:55.843Z] [worker-us-central1-app-7faaa6d6-b84a-4e70-a3e3-f2a7339093c5]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-7faaa6d6-b84a-4e70-a3e3-f2a7339093c5]: exited"}}
[debug] [2024-11-12T05:32:55.844Z] [worker-us-central1-app-7faaa6d6-b84a-4e70-a3e3-f2a7339093c5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-7faaa6d6-b84a-4e70-a3e3-f2a7339093c5]: FINISHED"}}
[debug] [2024-11-12T05:32:59.125Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:33:00.130Z] Validating nodejs source
[debug] [2024-11-12T05:33:00.706Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:33:00.706Z] Building nodejs source
[debug] [2024-11-12T05:33:00.706Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:33:00.708Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:33:00.708Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8126

[debug] [2024-11-12T05:33:01.240Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:33:05.756Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:33:06.760Z] Validating nodejs source
[debug] [2024-11-12T05:33:07.364Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:33:07.364Z] Building nodejs source
[debug] [2024-11-12T05:33:07.364Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:33:07.366Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:33:07.367Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8651

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:39
    );
    ^

SyntaxError: Unexpected token ')'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:33:07.883Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ')'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:33:08.375Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:33:09.377Z] Validating nodejs source
[debug] [2024-11-12T05:33:09.991Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:33:09.991Z] Building nodejs source
[debug] [2024-11-12T05:33:09.991Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:33:09.992Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:33:09.992Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:33:09.993Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8332

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:39
    );
    ^

SyntaxError: Unexpected token ')'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:33:10.379Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ')'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:33:10.996Z] Validating nodejs source
[debug] [2024-11-12T05:33:11.523Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:33:11.524Z] Building nodejs source
[debug] [2024-11-12T05:33:11.524Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:33:11.526Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:33:11.527Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8519

[debug] [2024-11-12T05:33:11.832Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:33:12.202Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:33:12.833Z] Validating nodejs source
[debug] [2024-11-12T05:33:13.383Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:33:13.384Z] Building nodejs source
[debug] [2024-11-12T05:33:13.384Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:33:13.386Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:33:13.387Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8512

[debug] [2024-11-12T05:33:13.774Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:33:16.024Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:16.024Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:33:16.026Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:16.024Z"],"workRunningCount":1}
[debug] [2024-11-12T05:33:16.026Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:33:16.031Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:33:16.031Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:33:16.031Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:33:16.035Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:33:16.036Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:33:17.123Z] [runtime-status] [48894] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:33:17.123Z] [runtime-status] [48894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:33:17.124Z] [runtime-status] [48894] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:33:17.124Z] [runtime-status] [48894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:33:17.225Z] [runtime-status] [48894] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:33:17.225Z] [runtime-status] [48894] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:33:17.225Z] [runtime-status] [48894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:33:17.228Z] [runtime-status] [48894] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:33:17.230Z] [runtime-status] [48894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:33:17.230Z] [runtime-status] [48894] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:33:17.252Z] [runtime-status] [48894] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:33:17.401Z] [runtime-status] [48894] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:33:17.402Z] [runtime-status] [48894] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_ee463113047b3fd9.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [48894] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_ee463113047b3fd9.sock"}}
[debug] [2024-11-12T05:33:17.458Z] [worker-us-central1-app-c36b0632-fe99-4634-97fb-f74a3b922870]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c36b0632-fe99-4634-97fb-f74a3b922870]: IDLE"}}
[debug] [2024-11-12T05:33:17.458Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:33:17.459Z] [worker-us-central1-app-c36b0632-fe99-4634-97fb-f74a3b922870]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c36b0632-fe99-4634-97fb-f74a3b922870]: BUSY"}}
[info] >  >>>>>> 101. admin:  <ref *1> FirebaseNamespace { {"user":">>>>>> 101. admin:  <ref *1> FirebaseNamespace {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 101. admin:  <ref *1> FirebaseNamespace {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    credential: { {"user":"  credential: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: {"}}
[info] >      cert: [Function: cert], {"user":"    cert: [Function: cert],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     cert: [Function: cert],"}}
[info] >      refreshToken: [Function: refreshToken], {"user":"    refreshToken: [Function: refreshToken],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     refreshToken: [Function: refreshToken],"}}
[info] >      applicationDefault: [Function: applicationDefault] {"user":"    applicationDefault: [Function: applicationDefault]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     applicationDefault: [Function: applicationDefault]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    SDK_VERSION: '11.11.1', {"user":"  SDK_VERSION: '11.11.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '11.11.1',"}}
[info] >    Promise: [Function: Promise], {"user":"  Promise: [Function: Promise],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   Promise: [Function: Promise],"}}
[info] >    INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } }, {"user":"  INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: FirebaseNamespaceInternals { appStore: AppStore { appStore: [Map] } },"}}
[info] >    default: [Circular *1] {"user":"  default: [Circular *1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>>>> 102. admin.firestore:  [Function: bound fn] {"user":">>>>>> 102. admin.firestore:  [Function: bound fn]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 102. admin.firestore:  [Function: bound fn]"}}
[info] >  >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951 {"user":">>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T05:33:38.351Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:33:39.355Z] Validating nodejs source
[debug] [2024-11-12T05:33:39.942Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:33:39.942Z] Building nodejs source
[debug] [2024-11-12T05:33:39.942Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:33:39.944Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:33:39.945Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8299

[debug] [2024-11-12T05:33:40.347Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[debug] [2024-11-12T05:33:40.630Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:33:40.641Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:33:40.641Z] [worker-us-central1-app-c36b0632-fe99-4634-97fb-f74a3b922870]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c36b0632-fe99-4634-97fb-f74a3b922870]: FINISHING"}}
[debug] [2024-11-12T05:33:41.348Z] Validating nodejs source
[debug] [2024-11-12T05:33:41.965Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:33:41.965Z] Building nodejs source
[debug] [2024-11-12T05:33:41.965Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:33:41.966Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:33:41.966Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8318

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[debug] [2024-11-12T05:33:42.352Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:33:44.793Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:44.793Z"],"queueLength":1,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:16.024Z"],"workRunningCount":1}
[debug] [2024-11-12T05:33:44.794Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:16.024Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:44.793Z"],"workRunningCount":2}
[debug] [2024-11-12T05:33:44.794Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:33:44.798Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:33:44.798Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:33:44.802Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:33:44.802Z] [worker-pool] Adding worker with key us-central1-app, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=2"}}
[debug] [2024-11-12T05:33:45.896Z] [runtime-status] [49045] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:33:45.896Z] [runtime-status] [49045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:33:45.897Z] [runtime-status] [49045] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:33:45.897Z] [runtime-status] [49045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:33:45.998Z] [runtime-status] [49045] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:33:45.998Z] [runtime-status] [49045] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:33:45.998Z] [runtime-status] [49045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:33:46.001Z] [runtime-status] [49045] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:33:46.003Z] [runtime-status] [49045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:33:46.003Z] [runtime-status] [49045] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:33:46.026Z] [runtime-status] [49045] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[info] >  >>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn] {"user":">>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn]"}}
[debug] [2024-11-12T05:33:46.186Z] [runtime-status] [49045] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:33:46.187Z] [runtime-status] [49045] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_a8b22418eee5db01.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49045] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_a8b22418eee5db01.sock"}}
[debug] [2024-11-12T05:33:46.228Z] [worker-us-central1-app-797369cf-e56e-4a20-ab25-c544f9d467a6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-797369cf-e56e-4a20-ab25-c544f9d467a6]: IDLE"}}
[debug] [2024-11-12T05:33:46.228Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:33:46.228Z] [worker-us-central1-app-797369cf-e56e-4a20-ab25-c544f9d467a6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-797369cf-e56e-4a20-ab25-c544f9d467a6]: BUSY"}}
[info] >  >>>>>> 102. admin.firestore:  [Function: bound fn] {"user":">>>>>> 102. admin.firestore:  [Function: bound fn]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 102. admin.firestore:  [Function: bound fn]"}}
[info] >  >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951 {"user":">>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T05:34:01.343Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:34:01.343Z"],"queueLength":1,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:16.024Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:44.793Z"],"workRunningCount":2}
[debug] [2024-11-12T05:34:01.345Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:16.024Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:44.793Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:34:01.343Z"],"workRunningCount":3}
[debug] [2024-11-12T05:34:01.345Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:34:01.350Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:34:01.351Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:34:01.354Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:34:01.354Z] [worker-pool] Adding worker with key us-central1-app, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=3"}}
[debug] [2024-11-12T05:34:02.352Z] [runtime-status] [49114] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:34:02.352Z] [runtime-status] [49114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:34:02.353Z] [runtime-status] [49114] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:34:02.353Z] [runtime-status] [49114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:34:02.535Z] [runtime-status] [49114] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:34:02.535Z] [runtime-status] [49114] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:34:02.535Z] [runtime-status] [49114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:34:02.539Z] [runtime-status] [49114] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:34:02.540Z] [runtime-status] [49114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:34:02.540Z] [runtime-status] [49114] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:34:02.569Z] [runtime-status] [49114] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[info] >  >>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn] {"user":">>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 102. admin.firestore.FieldValue:  [Function: bound fn]"}}
[debug] [2024-11-12T05:34:02.782Z] [runtime-status] [49114] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:34:02.782Z] [runtime-status] [49114] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_bb8af0e3a0f059c3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [49114] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_bb8af0e3a0f059c3.sock"}}
[debug] [2024-11-12T05:34:02.884Z] [worker-us-central1-app-a17bfef7-440a-48de-8edd-bc5befa8e0aa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a17bfef7-440a-48de-8edd-bc5befa8e0aa]: IDLE"}}
[debug] [2024-11-12T05:34:02.884Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:34:02.884Z] [worker-us-central1-app-a17bfef7-440a-48de-8edd-bc5befa8e0aa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a17bfef7-440a-48de-8edd-bc5befa8e0aa]: BUSY"}}
[info] >  >>>>>> 102. admin.firestore:  [Function: bound fn] {"user":">>>>>> 102. admin.firestore:  [Function: bound fn]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>>>> 102. admin.firestore:  [Function: bound fn]"}}
[info] >  >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951 {"user":">>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:34:17.476Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:33:44.793Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:34:01.343Z"],"workRunningCount":2}
[debug] [2024-11-12T05:34:17.495Z] [worker-us-central1-app-c36b0632-fe99-4634-97fb-f74a3b922870]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c36b0632-fe99-4634-97fb-f74a3b922870]: exited"}}
[debug] [2024-11-12T05:34:17.496Z] [worker-us-central1-app-c36b0632-fe99-4634-97fb-f74a3b922870]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c36b0632-fe99-4634-97fb-f74a3b922870]: FINISHED"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:34:46.240Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:34:01.343Z"],"workRunningCount":1}
[debug] [2024-11-12T05:34:46.255Z] [worker-us-central1-app-797369cf-e56e-4a20-ab25-c544f9d467a6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-797369cf-e56e-4a20-ab25-c544f9d467a6]: exited"}}
[debug] [2024-11-12T05:34:46.256Z] [worker-us-central1-app-797369cf-e56e-4a20-ab25-c544f9d467a6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-797369cf-e56e-4a20-ab25-c544f9d467a6]: FINISHED"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:35:02.895Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:35:02.916Z] [worker-us-central1-app-a17bfef7-440a-48de-8edd-bc5befa8e0aa]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a17bfef7-440a-48de-8edd-bc5befa8e0aa]: exited"}}
[debug] [2024-11-12T05:35:02.916Z] [worker-us-central1-app-a17bfef7-440a-48de-8edd-bc5befa8e0aa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-a17bfef7-440a-48de-8edd-bc5befa8e0aa]: FINISHED"}}
[debug] [2024-11-12T05:43:15.578Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:43:16.615Z] Validating nodejs source
[debug] [2024-11-12T05:43:17.585Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:43:17.585Z] Building nodejs source
[debug] [2024-11-12T05:43:17.586Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:43:17.592Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:43:17.596Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:43:17.601Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8137

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[debug] [2024-11-12T05:43:18.316Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:43:18.604Z] Validating nodejs source
[debug] [2024-11-12T05:43:19.129Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:43:19.129Z] Building nodejs source
[debug] [2024-11-12T05:43:19.129Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:43:19.130Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:43:19.131Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8912

[info] >>>>>> 102. admin.firestore.FieldValue:  [Function: fn] {
  CollectionReference: [class CollectionReference extends Query],
  DocumentReference: [class DocumentReference],
  QuerySnapshot: [class QuerySnapshot],
  Query: [class Query],
  BulkWriter: [class BulkWriter],
  DocumentSnapshot: [class DocumentSnapshot],
  QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
  FieldValue: [class FieldValue],
  Filter: [class Filter],
  WriteBatch: [class WriteBatch],
  WriteResult: [class WriteResult],
  Transaction: [class Transaction],
  Timestamp: [class Timestamp],
  DocumentChange: [class DocumentChange],
  FieldPath: [class FieldPath extends Path] {
    _DOCUMENT_ID: FieldPath { segments: [Array] }
  },
  GeoPoint: [class GeoPoint],
  CollectionGroup: [class CollectionGroup extends Query],
  QueryPartition: [class QueryPartition],
  setLogFunction: [Function: setLogFunction],
  MAX_REQUEST_RETRIES: 5,
  DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
  Firestore: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  },
  default: <ref *1> [class Firestore] {
    CollectionReference: [class CollectionReference extends Query],
    DocumentReference: [class DocumentReference],
    QuerySnapshot: [class QuerySnapshot],
    Query: [class Query],
    BulkWriter: [class BulkWriter],
    DocumentSnapshot: [class DocumentSnapshot],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    FieldValue: [class FieldValue],
    Filter: [class Filter],
    WriteBatch: [class WriteBatch],
    WriteResult: [class WriteResult],
    Transaction: [class Transaction],
    Timestamp: [class Timestamp],
    DocumentChange: [class DocumentChange],
    FieldPath: [class FieldPath extends Path] { _DOCUMENT_ID: [FieldPath] },
    GeoPoint: [class GeoPoint],
    CollectionGroup: [class CollectionGroup extends Query],
    QueryPartition: [class QueryPartition],
    setLogFunction: [Function: setLogFunction],
    MAX_REQUEST_RETRIES: 5,
    DEFAULT_MAX_TRANSACTION_ATTEMPTS: 5,
    Firestore: [Circular *1],
    default: [Circular *1]
  }
}

[debug] [2024-11-12T05:43:19.519Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:43:32.770Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:43:33.774Z] Validating nodejs source
[debug] [2024-11-12T05:43:34.687Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:43:34.688Z] Building nodejs source
[debug] [2024-11-12T05:43:34.688Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:43:34.691Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:43:34.692Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8401

[debug] [2024-11-12T05:43:35.231Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:43:46.609Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:43:47.613Z] Validating nodejs source
[debug] [2024-11-12T05:43:48.441Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:43:48.441Z] Building nodejs source
[debug] [2024-11-12T05:43:48.441Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:43:48.443Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:43:48.444Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:43:48.545Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8833

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:2
const { db, admin } = require("../config/-config");
        ^

SyntaxError: Identifier 'db' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:43:49.153Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'db' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:43:49.546Z] Validating nodejs source
[debug] [2024-11-12T05:43:50.020Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:43:50.020Z] Building nodejs source
[debug] [2024-11-12T05:43:50.020Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:43:50.021Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:43:50.022Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8276

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:2
const { db, admin } = require("../config/-config");
        ^

SyntaxError: Identifier 'db' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:43:50.393Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'db' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:43:50.830Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:43:51.832Z] Validating nodejs source
[debug] [2024-11-12T05:43:52.338Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:43:52.338Z] Building nodejs source
[debug] [2024-11-12T05:43:52.338Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:43:52.340Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:43:52.341Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8033

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:2
const { db, admin } = require("../config/serviceAccountObj");
        ^

SyntaxError: Identifier 'db' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:43:52.791Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'db' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:44:15.459Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:44:16.462Z] Validating nodejs source
[debug] [2024-11-12T05:44:17.071Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:44:17.071Z] Building nodejs source
[debug] [2024-11-12T05:44:17.071Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:44:17.074Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:44:17.075Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8672

[error] Error: Cannot find module '../config/serviceAccountObj'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:2:26)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T05:44:17.589Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../config/serviceAccountObj'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:44:18.081Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:44:19.085Z] Validating nodejs source
[debug] [2024-11-12T05:44:19.616Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:44:19.616Z] Building nodejs source
[debug] [2024-11-12T05:44:19.616Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:44:19.618Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:44:19.619Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8646

[error] Error: Cannot find module '../config/serviceAccountObj'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:2:27)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T05:44:19.987Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../config/serviceAccountObj'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:44:41.437Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:44:42.499Z] Validating nodejs source
[debug] [2024-11-12T05:44:43.331Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:44:43.332Z] Building nodejs source
[debug] [2024-11-12T05:44:43.332Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:44:43.334Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:44:43.336Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8705

[error] Error: Cannot find module '../config/serviceAccountObj.js'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:2:27)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T05:44:44.560Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../config/serviceAccountObj.js'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:44:55.872Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:44:56.876Z] Validating nodejs source
[debug] [2024-11-12T05:44:57.576Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:44:57.577Z] Building nodejs source
[debug] [2024-11-12T05:44:57.577Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:44:57.579Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:44:57.580Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8232

[error] Error: Cannot find module '../config/\.js'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:2:27)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T05:44:58.338Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../config/\.js'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:44:59.497Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:45:00.499Z] Validating nodejs source
[debug] [2024-11-12T05:45:01.560Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:45:01.561Z] Building nodejs source
[debug] [2024-11-12T05:45:01.561Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:45:01.563Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:45:01.565Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:45:01.566Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8380

[debug] [2024-11-12T05:45:02.035Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:45:02.567Z] Validating nodejs source
[debug] [2024-11-12T05:45:03.116Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:45:03.116Z] Building nodejs source
[debug] [2024-11-12T05:45:03.116Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:45:03.117Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:45:03.118Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8630

[debug] [2024-11-12T05:45:03.500Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:45:04.228Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:45:05.233Z] Validating nodejs source
[debug] [2024-11-12T05:45:05.735Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:45:05.735Z] Building nodejs source
[debug] [2024-11-12T05:45:05.735Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:45:05.737Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:45:05.738Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8142

[error] Error: Cannot find module '../config/'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:2:27)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2024-11-12T05:45:06.154Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../config/'
Require stack:
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:45:06.543Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:45:07.545Z] Validating nodejs source
[debug] [2024-11-12T05:45:08.198Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:45:08.198Z] Building nodejs source
[debug] [2024-11-12T05:45:08.198Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:45:08.203Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:45:08.204Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8110

[debug] [2024-11-12T05:45:08.590Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:45:13.546Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:45:14.569Z] Validating nodejs source
[debug] [2024-11-12T05:45:15.662Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:45:15.664Z] Building nodejs source
[debug] [2024-11-12T05:45:15.664Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:45:15.669Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:45:15.673Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8201

[debug] [2024-11-12T05:45:16.236Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:45:19.516Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:45:19.515Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:45:19.516Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:45:19.515Z"],"workRunningCount":1}
[debug] [2024-11-12T05:45:19.516Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:45:19.522Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:45:19.523Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:45:19.523Z] [worker-pool] Cleaned up workers for us-central1-app: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 3 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:45:19.530Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:45:19.531Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:45:20.537Z] [runtime-status] [52211] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:45:20.537Z] [runtime-status] [52211] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:45:20.538Z] [runtime-status] [52211] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:45:20.538Z] [runtime-status] [52211] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:45:20.639Z] [runtime-status] [52211] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:45:20.640Z] [runtime-status] [52211] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:45:20.641Z] [runtime-status] [52211] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:45:20.644Z] [runtime-status] [52211] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:45:20.645Z] [runtime-status] [52211] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:45:20.645Z] [runtime-status] [52211] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:45:20.667Z] [runtime-status] [52211] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:45:20.842Z] [runtime-status] [52211] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:45:20.843Z] [runtime-status] [52211] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_91da3fecba3b7c2f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52211] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_91da3fecba3b7c2f.sock"}}
[debug] [2024-11-12T05:45:20.858Z] [worker-us-central1-app-f093da86-0bcc-4f9e-afe1-1ca589abab41]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f093da86-0bcc-4f9e-afe1-1ca589abab41]: IDLE"}}
[debug] [2024-11-12T05:45:20.858Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:45:20.859Z] [worker-us-central1-app-f093da86-0bcc-4f9e-afe1-1ca589abab41]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f093da86-0bcc-4f9e-afe1-1ca589abab41]: BUSY"}}
[info] >  /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41 {"user":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41"}}
[info] >                  throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' + {"user":"                throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                 throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' +"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name. {"user":"FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."}}
[info] >      at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23) {"user":"    at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)"}}
[info] >      at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35) {"user":"    at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)"}}
[info] >      at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30) {"user":"    at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)"}}
[info] >      at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69) {"user":"    at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69)"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:15:9) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:15:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:15:9)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) { {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"}}
[info] >    errorInfo: { {"user":"  errorInfo: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   errorInfo: {"}}
[info] >      code: 'app/duplicate-app', {"user":"    code: 'app/duplicate-app',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'app/duplicate-app',"}}
[info] >      message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.' {"user":"    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    codePrefix: 'app' {"user":"  codePrefix: 'app'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   codePrefix: 'app'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.20.4 {"user":"Node.js v18.20.4","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.20.4"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:45:20.878Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:45:20.879Z] [worker-us-central1-app-f093da86-0bcc-4f9e-afe1-1ca589abab41]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f093da86-0bcc-4f9e-afe1-1ca589abab41]: exited"}}
[debug] [2024-11-12T05:45:20.879Z] [worker-us-central1-app-f093da86-0bcc-4f9e-afe1-1ca589abab41]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f093da86-0bcc-4f9e-afe1-1ca589abab41]: FINISHED"}}
[debug] [2024-11-12T05:46:00.207Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:46:01.212Z] Validating nodejs source
[debug] [2024-11-12T05:46:01.826Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:46:01.826Z] Building nodejs source
[debug] [2024-11-12T05:46:01.826Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:46:01.828Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:46:01.829Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8729

[debug] [2024-11-12T05:46:02.553Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:46:10.445Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:46:10.445Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:46:10.447Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:46:10.445Z"],"workRunningCount":1}
[debug] [2024-11-12T05:46:10.447Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:46:10.452Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:46:10.453Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:46:10.453Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:46:10.458Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:46:10.459Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:46:11.537Z] [runtime-status] [52509] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:46:11.538Z] [runtime-status] [52509] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:46:11.539Z] [runtime-status] [52509] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:46:11.539Z] [runtime-status] [52509] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:46:11.700Z] [runtime-status] [52509] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:46:11.701Z] [runtime-status] [52509] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:46:11.701Z] [runtime-status] [52509] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:46:11.704Z] [runtime-status] [52509] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:46:11.706Z] [runtime-status] [52509] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:46:11.706Z] [runtime-status] [52509] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:46:11.738Z] [runtime-status] [52509] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:46:11.961Z] [runtime-status] [52509] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:46:11.962Z] [runtime-status] [52509] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_4764eca02947463c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [52509] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_4764eca02947463c.sock"}}
[debug] [2024-11-12T05:46:11.984Z] [worker-us-central1-app-9f70ed12-4d17-49e1-a2a1-b41a1133391b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9f70ed12-4d17-49e1-a2a1-b41a1133391b]: IDLE"}}
[debug] [2024-11-12T05:46:11.984Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:46:11.985Z] [worker-us-central1-app-9f70ed12-4d17-49e1-a2a1-b41a1133391b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9f70ed12-4d17-49e1-a2a1-b41a1133391b]: BUSY"}}
[info] >  /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41 {"user":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41"}}
[info] >                  throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' + {"user":"                throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                 throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' +"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name. {"user":"FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."}}
[info] >      at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23) {"user":"    at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)"}}
[info] >      at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35) {"user":"    at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)"}}
[info] >      at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30) {"user":"    at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)"}}
[info] >      at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69) {"user":"    at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69)"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:15:9) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:15:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:15:9)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) { {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"}}
[info] >    errorInfo: { {"user":"  errorInfo: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   errorInfo: {"}}
[info] >      code: 'app/duplicate-app', {"user":"    code: 'app/duplicate-app',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'app/duplicate-app',"}}
[info] >      message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.' {"user":"    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    codePrefix: 'app' {"user":"  codePrefix: 'app'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   codePrefix: 'app'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.20.4 {"user":"Node.js v18.20.4","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.20.4"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:46:12.004Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:46:12.004Z] [worker-us-central1-app-9f70ed12-4d17-49e1-a2a1-b41a1133391b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9f70ed12-4d17-49e1-a2a1-b41a1133391b]: exited"}}
[debug] [2024-11-12T05:46:12.004Z] [worker-us-central1-app-9f70ed12-4d17-49e1-a2a1-b41a1133391b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9f70ed12-4d17-49e1-a2a1-b41a1133391b]: FINISHED"}}
[debug] [2024-11-12T05:47:07.191Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:47:08.195Z] Validating nodejs source
[debug] [2024-11-12T05:47:08.890Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:47:08.890Z] Building nodejs source
[debug] [2024-11-12T05:47:08.890Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:47:08.892Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:47:08.893Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8853

[debug] [2024-11-12T05:47:09.294Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:47:09.559Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:47:10.296Z] Validating nodejs source
[debug] [2024-11-12T05:47:10.812Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:47:10.812Z] Building nodejs source
[debug] [2024-11-12T05:47:10.812Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:47:10.813Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:47:10.814Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8090

[debug] [2024-11-12T05:47:11.212Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:47:40.001Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:47:41.006Z] Validating nodejs source
[debug] [2024-11-12T05:47:41.656Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:47:41.656Z] Building nodejs source
[debug] [2024-11-12T05:47:41.656Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:47:41.658Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:47:41.659Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8613

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:18
  }, codePrefix: 'app');
     ^^^^^^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:47:42.177Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:47:48.731Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:47:49.735Z] Validating nodejs source
[debug] [2024-11-12T05:47:50.353Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:47:50.353Z] Building nodejs source
[debug] [2024-11-12T05:47:50.353Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:47:50.355Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:47:50.356Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:47:50.357Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8344

[debug] [2024-11-12T05:47:51.026Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:47:51.359Z] Validating nodejs source
[debug] [2024-11-12T05:47:51.873Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:47:51.873Z] Building nodejs source
[debug] [2024-11-12T05:47:51.873Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:47:51.875Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:47:51.876Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:47:51.877Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8545

[debug] [2024-11-12T05:47:52.339Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:47:52.880Z] Validating nodejs source
[debug] [2024-11-12T05:47:53.354Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:47:53.354Z] Building nodejs source
[debug] [2024-11-12T05:47:53.354Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:47:53.355Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:47:53.356Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8516

[debug] [2024-11-12T05:47:53.734Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:47:56.803Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:47:56.802Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:47:56.804Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:47:56.802Z"],"workRunningCount":1}
[debug] [2024-11-12T05:47:56.804Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:47:56.809Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:47:56.809Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:47:56.810Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:47:56.813Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:47:56.813Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:47:57.848Z] [runtime-status] [53046] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:47:57.852Z] [runtime-status] [53046] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:47:57.853Z] [runtime-status] [53046] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:47:57.853Z] [runtime-status] [53046] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:47:57.949Z] [runtime-status] [53046] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:47:57.949Z] [runtime-status] [53046] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:47:57.949Z] [runtime-status] [53046] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:47:57.954Z] [runtime-status] [53046] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:47:57.955Z] [runtime-status] [53046] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:47:57.955Z] [runtime-status] [53046] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:47:57.977Z] [runtime-status] [53046] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:47:58.133Z] [runtime-status] [53046] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:47:58.133Z] [runtime-status] [53046] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_2604a2d6e1da4a8a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53046] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_2604a2d6e1da4a8a.sock"}}
[debug] [2024-11-12T05:47:58.235Z] [worker-us-central1-app-ee764cf1-a4a3-4338-8067-e1883b013d47]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ee764cf1-a4a3-4338-8067-e1883b013d47]: IDLE"}}
[debug] [2024-11-12T05:47:58.235Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:47:58.236Z] [worker-us-central1-app-ee764cf1-a4a3-4338-8067-e1883b013d47]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ee764cf1-a4a3-4338-8067-e1883b013d47]: BUSY"}}
[info] >  /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:16 {"user":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:16","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:16"}}
[info] >        credential: admin.credential.cert(serviceAccount), {"user":"      credential: admin.credential.cert(serviceAccount),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m       credential: admin.credential.cert(serviceAccount),"}}
[info] >                                          ^ {"user":"                                        ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                                         ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  ReferenceError: serviceAccount is not defined {"user":"ReferenceError: serviceAccount is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: serviceAccount is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:16:41) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:16:41)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:16:41)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.20.4 {"user":"Node.js v18.20.4","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.20.4"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:47:58.255Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:47:58.255Z] [worker-us-central1-app-ee764cf1-a4a3-4338-8067-e1883b013d47]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ee764cf1-a4a3-4338-8067-e1883b013d47]: exited"}}
[debug] [2024-11-12T05:47:58.255Z] [worker-us-central1-app-ee764cf1-a4a3-4338-8067-e1883b013d47]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ee764cf1-a4a3-4338-8067-e1883b013d47]: FINISHED"}}
[debug] [2024-11-12T05:48:10.652Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:48:11.656Z] Validating nodejs source
[debug] [2024-11-12T05:48:12.657Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:48:12.657Z] Building nodejs source
[debug] [2024-11-12T05:48:12.657Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:48:12.659Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:48:12.660Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8998

[debug] [2024-11-12T05:48:13.213Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:48:14.967Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:48:14.966Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:48:14.968Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:48:14.966Z"],"workRunningCount":1}
[debug] [2024-11-12T05:48:14.968Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:48:14.971Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:48:14.971Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:48:14.972Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:48:14.976Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:48:14.976Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:48:15.941Z] [runtime-status] [53144] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:48:15.941Z] [runtime-status] [53144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:48:15.942Z] [runtime-status] [53144] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:48:15.942Z] [runtime-status] [53144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:48:16.053Z] [runtime-status] [53144] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:48:16.053Z] [runtime-status] [53144] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:48:16.053Z] [runtime-status] [53144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:48:16.057Z] [runtime-status] [53144] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:48:16.058Z] [runtime-status] [53144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:48:16.058Z] [runtime-status] [53144] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:48:16.080Z] [runtime-status] [53144] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:48:16.227Z] [runtime-status] [53144] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:48:16.227Z] [runtime-status] [53144] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_a8962917238439d3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53144] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_a8962917238439d3.sock"}}
[debug] [2024-11-12T05:48:16.297Z] [worker-us-central1-app-f742218c-7409-464b-925a-609789e2cf04]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f742218c-7409-464b-925a-609789e2cf04]: IDLE"}}
[debug] [2024-11-12T05:48:16.297Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:48:16.297Z] [worker-us-central1-app-f742218c-7409-464b-925a-609789e2cf04]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f742218c-7409-464b-925a-609789e2cf04]: BUSY"}}
[info] >  /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:19 {"user":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:19","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:19"}}
[info] >      app {"user":"    app","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     app"}}
[info] >      ^ {"user":"    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  ReferenceError: app is not defined {"user":"ReferenceError: app is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: app is not defined"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:19:5) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:19:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:19:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7) {"user":"    at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at urlencodedParser (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/body-parser/lib/types/urlencoded.js:85:7)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.20.4 {"user":"Node.js v18.20.4","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.20.4"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:48:16.315Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:48:16.315Z] [worker-us-central1-app-f742218c-7409-464b-925a-609789e2cf04]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f742218c-7409-464b-925a-609789e2cf04]: exited"}}
[debug] [2024-11-12T05:48:16.315Z] [worker-us-central1-app-f742218c-7409-464b-925a-609789e2cf04]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-f742218c-7409-464b-925a-609789e2cf04]: FINISHED"}}
[debug] [2024-11-12T05:48:24.786Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:48:25.793Z] Validating nodejs source
[debug] [2024-11-12T05:48:26.377Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:48:26.378Z] Building nodejs source
[debug] [2024-11-12T05:48:26.378Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:48:26.379Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:48:26.380Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8244

[debug] [2024-11-12T05:48:27.002Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:48:27.667Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:48:27.667Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:48:27.669Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:48:27.667Z"],"workRunningCount":1}
[debug] [2024-11-12T05:48:27.669Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:48:27.673Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:48:27.673Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:48:27.674Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:48:27.677Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:48:27.678Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:48:28.912Z] [runtime-status] [53216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:48:28.913Z] [runtime-status] [53216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:48:28.913Z] [runtime-status] [53216] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:48:28.914Z] [runtime-status] [53216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:48:29.018Z] [runtime-status] [53216] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:48:29.018Z] [runtime-status] [53216] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:48:29.018Z] [runtime-status] [53216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:48:29.021Z] [runtime-status] [53216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:48:29.031Z] [runtime-status] [53216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:48:29.031Z] [runtime-status] [53216] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:48:29.048Z] [runtime-status] [53216] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:48:29.224Z] [runtime-status] [53216] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:48:29.224Z] [runtime-status] [53216] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_391684a834d933d3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53216] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_391684a834d933d3.sock"}}
[debug] [2024-11-12T05:48:29.317Z] [worker-us-central1-app-d23dcb1d-81c7-4d39-886c-e1262786c6a0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d23dcb1d-81c7-4d39-886c-e1262786c6a0]: IDLE"}}
[debug] [2024-11-12T05:48:29.317Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:48:29.317Z] [worker-us-central1-app-d23dcb1d-81c7-4d39-886c-e1262786c6a0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d23dcb1d-81c7-4d39-886c-e1262786c6a0]: BUSY"}}
[info] >  /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41 {"user":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41"}}
[info] >                  throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' + {"user":"                throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                 throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' +"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name. {"user":"FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."}}
[info] >      at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23) {"user":"    at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)"}}
[info] >      at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35) {"user":"    at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)"}}
[info] >      at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30) {"user":"    at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)"}}
[info] >      at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69) {"user":"    at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69)"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14:9) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14:9)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) { {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"}}
[info] >    errorInfo: { {"user":"  errorInfo: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   errorInfo: {"}}
[info] >      code: 'app/duplicate-app', {"user":"    code: 'app/duplicate-app',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'app/duplicate-app',"}}
[info] >      message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.' {"user":"    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    codePrefix: 'app' {"user":"  codePrefix: 'app'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   codePrefix: 'app'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.20.4 {"user":"Node.js v18.20.4","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.20.4"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:48:29.335Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:48:29.335Z] [worker-us-central1-app-d23dcb1d-81c7-4d39-886c-e1262786c6a0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d23dcb1d-81c7-4d39-886c-e1262786c6a0]: exited"}}
[debug] [2024-11-12T05:48:29.335Z] [worker-us-central1-app-d23dcb1d-81c7-4d39-886c-e1262786c6a0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d23dcb1d-81c7-4d39-886c-e1262786c6a0]: FINISHED"}}
[debug] [2024-11-12T05:49:00.736Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:49:01.740Z] Validating nodejs source
[debug] [2024-11-12T05:49:02.329Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:49:02.329Z] Building nodejs source
[debug] [2024-11-12T05:49:02.329Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:49:02.331Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:49:02.332Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8195

[debug] [2024-11-12T05:49:02.926Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:49:04.247Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:49:05.249Z] Validating nodejs source
[debug] [2024-11-12T05:49:05.728Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:49:05.728Z] Building nodejs source
[debug] [2024-11-12T05:49:05.728Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:49:05.729Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:49:05.730Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8826

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:17
  }, codePrefix: 'app');
     ^^^^^^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:49:06.152Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:49:09.973Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:49:10.975Z] Validating nodejs source
[debug] [2024-11-12T05:49:11.501Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:49:11.501Z] Building nodejs source
[debug] [2024-11-12T05:49:11.501Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:49:11.502Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:49:11.503Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8450

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:17
  }, codePrefix: 'app',);
     ^^^^^^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:49:11.903Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:49:18.667Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:49:19.671Z] Validating nodejs source
[debug] [2024-11-12T05:49:20.240Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:49:20.240Z] Building nodejs source
[debug] [2024-11-12T05:49:20.240Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:49:20.241Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:49:20.242Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8334

[debug] [2024-11-12T05:49:20.772Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:49:20.847Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:49:21.849Z] Validating nodejs source
[debug] [2024-11-12T05:49:22.590Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:49:22.591Z] Building nodejs source
[debug] [2024-11-12T05:49:22.591Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:49:22.594Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:49:22.595Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8527

[debug] [2024-11-12T05:49:23.309Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:49:23.758Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:49:23.921Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:49:25.108Z] Validating nodejs source
[debug] [2024-11-12T05:49:27.071Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:49:27.074Z] Building nodejs source
[debug] [2024-11-12T05:49:27.075Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:49:27.081Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:49:27.089Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8261

[debug] [2024-11-12T05:49:27.885Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:49:28.304Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:49:28.304Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:49:28.304Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:49:28.304Z"],"workRunningCount":1}
[debug] [2024-11-12T05:49:28.304Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:49:28.309Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:49:28.309Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:49:28.309Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:49:28.313Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:49:28.313Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:49:29.328Z] [runtime-status] [53657] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:49:29.329Z] [runtime-status] [53657] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:49:29.329Z] [runtime-status] [53657] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:49:29.329Z] [runtime-status] [53657] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:49:29.433Z] [runtime-status] [53657] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:49:29.433Z] [runtime-status] [53657] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:49:29.433Z] [runtime-status] [53657] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:49:29.436Z] [runtime-status] [53657] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:49:29.438Z] [runtime-status] [53657] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:49:29.438Z] [runtime-status] [53657] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:49:29.459Z] [runtime-status] [53657] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:49:29.625Z] [runtime-status] [53657] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:49:29.626Z] [runtime-status] [53657] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_9f86d7759a092810.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53657] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_9f86d7759a092810.sock"}}
[debug] [2024-11-12T05:49:29.639Z] [worker-us-central1-app-c0ab1cc3-2ec0-43ef-9ad5-e92a5ab33914]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c0ab1cc3-2ec0-43ef-9ad5-e92a5ab33914]: IDLE"}}
[debug] [2024-11-12T05:49:29.639Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:49:29.640Z] [worker-us-central1-app-c0ab1cc3-2ec0-43ef-9ad5-e92a5ab33914]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c0ab1cc3-2ec0-43ef-9ad5-e92a5ab33914]: BUSY"}}
[info] >  /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41 {"user":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41"}}
[info] >                  throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' + {"user":"                throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                 throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' +"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name. {"user":"FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."}}
[info] >      at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23) {"user":"    at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)"}}
[info] >      at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35) {"user":"    at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)"}}
[info] >      at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30) {"user":"    at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)"}}
[info] >      at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69) {"user":"    at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69)"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14:9) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14:9)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) { {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"}}
[info] >    errorInfo: { {"user":"  errorInfo: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   errorInfo: {"}}
[info] >      code: 'app/duplicate-app', {"user":"    code: 'app/duplicate-app',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'app/duplicate-app',"}}
[info] >      message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.' {"user":"    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    codePrefix: 'app' {"user":"  codePrefix: 'app'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   codePrefix: 'app'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.20.4 {"user":"Node.js v18.20.4","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.20.4"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:49:29.658Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:49:29.658Z] [worker-us-central1-app-c0ab1cc3-2ec0-43ef-9ad5-e92a5ab33914]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c0ab1cc3-2ec0-43ef-9ad5-e92a5ab33914]: exited"}}
[debug] [2024-11-12T05:49:29.658Z] [worker-us-central1-app-c0ab1cc3-2ec0-43ef-9ad5-e92a5ab33914]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-c0ab1cc3-2ec0-43ef-9ad5-e92a5ab33914]: FINISHED"}}
[debug] [2024-11-12T05:49:33.223Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:49:33.223Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:49:33.223Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:49:33.223Z"],"workRunningCount":1}
[debug] [2024-11-12T05:49:33.223Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:49:33.227Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:49:33.228Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:49:33.228Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:49:33.231Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:49:33.231Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:49:33.904Z] [runtime-status] [53677] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:49:33.904Z] [runtime-status] [53677] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:49:33.905Z] [runtime-status] [53677] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:49:33.905Z] [runtime-status] [53677] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:49:34.000Z] [runtime-status] [53677] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:49:34.000Z] [runtime-status] [53677] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:49:34.001Z] [runtime-status] [53677] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:49:34.002Z] [runtime-status] [53677] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:49:34.004Z] [runtime-status] [53677] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:49:34.005Z] [runtime-status] [53677] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:49:34.026Z] [runtime-status] [53677] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:49:34.179Z] [runtime-status] [53677] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:49:34.179Z] [runtime-status] [53677] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_5e821d066ca12cf8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [53677] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_5e821d066ca12cf8.sock"}}
[debug] [2024-11-12T05:49:34.250Z] [worker-us-central1-app-33e078c8-5b8a-40b2-abc1-601eeef750e7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33e078c8-5b8a-40b2-abc1-601eeef750e7]: IDLE"}}
[debug] [2024-11-12T05:49:34.251Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:49:34.251Z] [worker-us-central1-app-33e078c8-5b8a-40b2-abc1-601eeef750e7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33e078c8-5b8a-40b2-abc1-601eeef750e7]: BUSY"}}
[info] >  /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41 {"user":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41"}}
[info] >                  throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' + {"user":"                throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' +","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                 throw new error_1.FirebaseAppError(error_1.AppErrorCodes.DUPLICATE_APP, 'The default Firebase app already exists. This means you called initializeApp() ' +"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name. {"user":"FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m FirebaseAppError: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."}}
[info] >      at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23) {"user":"    at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at AppStore.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/lifecycle.js:41:23)"}}
[info] >      at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35) {"user":"    at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseNamespaceInternals.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:43:35)"}}
[info] >      at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30) {"user":"    at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at FirebaseNamespace.initializeApp (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/app/firebase-namespace.js:246:30)"}}
[info] >      at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69) {"user":"    at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Proxy.<anonymous> (/Users/jyassien/.nvm/versions/node/v18.20.4/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:361:69)"}}
[info] >      at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14:9) {"user":"    at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at uploadFollowUpToFirebase (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14:9)"}}
[info] >      at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3 {"user":"    at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:331:3"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13) {"user":"    at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:149:13)"}}
[info] >      at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3) {"user":"    at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/route.js:119:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) { {"user":"    at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/express/lib/router/layer.js:95:5) {"}}
[info] >    errorInfo: { {"user":"  errorInfo: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   errorInfo: {"}}
[info] >      code: 'app/duplicate-app', {"user":"    code: 'app/duplicate-app',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'app/duplicate-app',"}}
[info] >      message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.' {"user":"    message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    codePrefix: 'app' {"user":"  codePrefix: 'app'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   codePrefix: 'app'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.20.4 {"user":"Node.js v18.20.4","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.20.4"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:49:34.267Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:49:34.267Z] [worker-us-central1-app-33e078c8-5b8a-40b2-abc1-601eeef750e7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33e078c8-5b8a-40b2-abc1-601eeef750e7]: exited"}}
[debug] [2024-11-12T05:49:34.267Z] [worker-us-central1-app-33e078c8-5b8a-40b2-abc1-601eeef750e7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-33e078c8-5b8a-40b2-abc1-601eeef750e7]: FINISHED"}}
[debug] [2024-11-12T05:50:56.665Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:50:57.669Z] Validating nodejs source
[debug] [2024-11-12T05:50:58.390Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:50:58.390Z] Building nodejs source
[debug] [2024-11-12T05:50:58.390Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:50:58.392Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:50:58.394Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:50:58.396Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8765

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:39
    );
    ^

SyntaxError: Unexpected token ')'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:50:58.996Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ')'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:50:59.396Z] Validating nodejs source
[debug] [2024-11-12T05:50:59.901Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:50:59.902Z] Building nodejs source
[debug] [2024-11-12T05:50:59.902Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:50:59.903Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:50:59.904Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8203

[debug] [2024-11-12T05:51:00.211Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:51:00.317Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:51:01.212Z] Validating nodejs source
[debug] [2024-11-12T05:51:01.837Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:51:01.838Z] Building nodejs source
[debug] [2024-11-12T05:51:01.838Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:51:01.839Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:51:01.840Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:51:01.841Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8293

[debug] [2024-11-12T05:51:02.356Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:51:02.842Z] Validating nodejs source
[debug] [2024-11-12T05:51:03.340Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:51:03.340Z] Building nodejs source
[debug] [2024-11-12T05:51:03.340Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:51:03.342Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:51:03.343Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:51:03.345Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8936

[debug] [2024-11-12T05:51:03.796Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:51:04.347Z] Validating nodejs source
[debug] [2024-11-12T05:51:04.819Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:51:04.819Z] Building nodejs source
[debug] [2024-11-12T05:51:04.819Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:51:04.820Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:51:04.820Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8322

[debug] [2024-11-12T05:51:05.284Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:54:51.980Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:54:52.999Z] Validating nodejs source
[debug] [2024-11-12T05:54:53.910Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:54:53.910Z] Building nodejs source
[debug] [2024-11-12T05:54:53.910Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:54:53.915Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:54:53.921Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8036

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:67
const { db } = require("../config/firebase-config");
        ^

SyntaxError: Identifier 'db' has already been declared
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:54:54.754Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'db' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:54:57.758Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:54:58.771Z] Validating nodejs source
[debug] [2024-11-12T05:54:59.436Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:54:59.436Z] Building nodejs source
[debug] [2024-11-12T05:54:59.437Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:54:59.438Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:54:59.439Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8207

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:120



SyntaxError: Unexpected end of input
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T05:54:59.875Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected end of input
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:55:08.642Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:55:09.646Z] Validating nodejs source
[debug] [2024-11-12T05:55:10.276Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:55:10.276Z] Building nodejs source
[debug] [2024-11-12T05:55:10.276Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:55:10.278Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:55:10.279Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8681

[debug] [2024-11-12T05:55:11.081Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:55:11.307Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:55:12.086Z] Validating nodejs source
[debug] [2024-11-12T05:55:12.654Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:55:12.655Z] Building nodejs source
[debug] [2024-11-12T05:55:12.655Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:55:12.657Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:55:12.659Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8363

[debug] [2024-11-12T05:55:13.075Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:55:13.871Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:55:14.885Z] Validating nodejs source
[debug] [2024-11-12T05:55:15.725Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:55:15.726Z] Building nodejs source
[debug] [2024-11-12T05:55:15.726Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:55:15.728Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:55:15.729Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8357

[debug] [2024-11-12T05:55:16.186Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:55:26.229Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:55:27.233Z] Validating nodejs source
[debug] [2024-11-12T05:55:28.047Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:55:28.047Z] Building nodejs source
[debug] [2024-11-12T05:55:28.047Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:55:28.049Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:55:28.050Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8847

[debug] [2024-11-12T05:55:28.834Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:55:29.465Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:55:30.471Z] Validating nodejs source
[debug] [2024-11-12T05:55:31.186Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:55:31.186Z] Building nodejs source
[debug] [2024-11-12T05:55:31.186Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:55:31.188Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:55:31.190Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:55:31.192Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8279

[debug] [2024-11-12T05:55:31.766Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:55:32.194Z] Validating nodejs source
[debug] [2024-11-12T05:55:32.782Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:55:32.783Z] Building nodejs source
[debug] [2024-11-12T05:55:32.783Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:55:32.784Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:55:32.786Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8653

[debug] [2024-11-12T05:55:33.187Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:55:33.392Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:55:33.691Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:55:34.692Z] Validating nodejs source
[debug] [2024-11-12T05:55:35.260Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:55:35.260Z] Building nodejs source
[debug] [2024-11-12T05:55:35.260Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:55:35.262Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:55:35.263Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8249

[debug] [2024-11-12T05:55:35.660Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:55:42.327Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:55:42.327Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:55:42.328Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:55:42.327Z"],"workRunningCount":1}
[debug] [2024-11-12T05:55:42.329Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:55:42.335Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:55:42.336Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[debug] [2024-11-12T05:55:42.336Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:55:42.354Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:55:42.355Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:55:43.455Z] [runtime-status] [55610] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:55:43.456Z] [runtime-status] [55610] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:55:43.456Z] [runtime-status] [55610] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:55:43.456Z] [runtime-status] [55610] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:55:43.795Z] [runtime-status] [55610] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:55:43.796Z] [runtime-status] [55610] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:55:43.796Z] [runtime-status] [55610] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:55:43.800Z] [runtime-status] [55610] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:55:43.800Z] [runtime-status] [55610] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:55:43.801Z] [runtime-status] [55610] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:55:43.823Z] [runtime-status] [55610] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:55:43.996Z] [runtime-status] [55610] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:55:43.997Z] [runtime-status] [55610] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_808c7346ba249070.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55610] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_808c7346ba249070.sock"}}
[debug] [2024-11-12T05:55:44.098Z] [worker-us-central1-app-d48e8090-4434-4c01-adc0-e00a252e4293]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d48e8090-4434-4c01-adc0-e00a252e4293]: IDLE"}}
[debug] [2024-11-12T05:55:44.098Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:55:44.098Z] [worker-us-central1-app-d48e8090-4434-4c01-adc0-e00a252e4293]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d48e8090-4434-4c01-adc0-e00a252e4293]: BUSY"}}
[info] >  >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951 {"user":">>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T05:56:06.105Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:56:07.113Z] Validating nodejs source
[debug] [2024-11-12T05:56:08.004Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:56:08.006Z] Building nodejs source
[debug] [2024-11-12T05:56:08.006Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:56:08.008Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:56:08.009Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8737

[debug] [2024-11-12T05:56:08.670Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:56:08.670Z"],"queueLength":1,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:55:42.327Z"],"workRunningCount":1}
[debug] [2024-11-12T05:56:08.670Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:55:42.327Z","/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:56:08.670Z"],"workRunningCount":2}
[debug] [2024-11-12T05:56:08.670Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up2 --> us-central1-app
[debug] [2024-11-12T05:56:08.672Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:56:08.673Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up2, mapping to path=/chat/follow-up2"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:56:08.675Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:56:08.675Z] [worker-pool] Adding worker with key us-central1-app, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=2"}}
[debug] [2024-11-12T05:56:08.690Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:56:08.712Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:56:08.712Z] [worker-us-central1-app-d48e8090-4434-4c01-adc0-e00a252e4293]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d48e8090-4434-4c01-adc0-e00a252e4293]: FINISHING"}}
[debug] [2024-11-12T05:56:09.823Z] [runtime-status] [55738] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:56:09.823Z] [runtime-status] [55738] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:56:09.824Z] [runtime-status] [55738] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:56:09.824Z] [runtime-status] [55738] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:56:09.930Z] [runtime-status] [55738] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:56:09.930Z] [runtime-status] [55738] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:56:09.931Z] [runtime-status] [55738] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:56:09.933Z] [runtime-status] [55738] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:56:09.934Z] [runtime-status] [55738] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:56:09.934Z] [runtime-status] [55738] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:56:09.955Z] [runtime-status] [55738] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:56:10.098Z] [runtime-status] [55738] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:56:10.098Z] [runtime-status] [55738] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_32c3341fae4ebd1d.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [55738] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_32c3341fae4ebd1d.sock"}}
[debug] [2024-11-12T05:56:10.214Z] [worker-us-central1-app-e6f945ec-fa67-46cd-b749-46b39dfffd95]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e6f945ec-fa67-46cd-b749-46b39dfffd95]: IDLE"}}
[debug] [2024-11-12T05:56:10.214Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:56:10.215Z] [worker-us-central1-app-e6f945ec-fa67-46cd-b749-46b39dfffd95]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e6f945ec-fa67-46cd-b749-46b39dfffd95]: BUSY"}}
[info] >  >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951 {"user":">>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951"}}
[info] >  Chat entry added successfully {"user":"Chat entry added successfully","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Chat entry added successfully"}}
[debug] [2024-11-12T05:56:28.402Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:56:29.407Z] Validating nodejs source
[debug] [2024-11-12T05:56:30.001Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:56:30.001Z] Building nodejs source
[debug] [2024-11-12T05:56:30.001Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:56:30.003Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:56:30.004Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8125

[debug] [2024-11-12T05:56:30.769Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:56:30.779Z] [worker-pool] Marking BUSY worker to finish (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-app)"}}
[debug] [2024-11-12T05:56:30.779Z] [worker-us-central1-app-e6f945ec-fa67-46cd-b749-46b39dfffd95]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e6f945ec-fa67-46cd-b749-46b39dfffd95]: FINISHING"}}
[debug] [2024-11-12T05:56:33.838Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:56:34.841Z] Validating nodejs source
[debug] [2024-11-12T05:56:35.448Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:56:35.448Z] Building nodejs source
[debug] [2024-11-12T05:56:35.448Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:56:35.450Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:56:35.451Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8484

[debug] [2024-11-12T05:56:35.913Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:56:44.122Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up2-2024-11-12T05:56:08.670Z"],"workRunningCount":1}
[debug] [2024-11-12T05:56:44.136Z] [worker-us-central1-app-d48e8090-4434-4c01-adc0-e00a252e4293]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d48e8090-4434-4c01-adc0-e00a252e4293]: exited"}}
[debug] [2024-11-12T05:56:44.136Z] [worker-us-central1-app-d48e8090-4434-4c01-adc0-e00a252e4293]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-d48e8090-4434-4c01-adc0-e00a252e4293]: FINISHED"}}
[debug] [2024-11-12T05:56:48.887Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:56:49.890Z] Validating nodejs source
[debug] [2024-11-12T05:56:50.568Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:56:50.568Z] Building nodejs source
[debug] [2024-11-12T05:56:50.568Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:56:50.570Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:56:50.571Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8235

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:232
    .then(() => console.log("Chat entry added successfully"))
    ^

SyntaxError: Unexpected token '.'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T05:56:50.790Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '.'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:56:51.681Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:56:52.286Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:56:53.289Z] Validating nodejs source
[debug] [2024-11-12T05:56:53.857Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:56:53.857Z] Building nodejs source
[debug] [2024-11-12T05:56:53.857Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:56:53.858Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:56:53.859Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8128

[debug] [2024-11-12T05:56:54.464Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:56:58.533Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:56:59.538Z] Validating nodejs source
[debug] [2024-11-12T05:57:00.056Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:57:00.056Z] Building nodejs source
[debug] [2024-11-12T05:57:00.056Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:57:00.058Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:57:00.059Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8157

[debug] [2024-11-12T05:57:00.359Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:57:00.707Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:57:01.360Z] Validating nodejs source
[debug] [2024-11-12T05:57:01.909Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:57:01.909Z] Building nodejs source
[debug] [2024-11-12T05:57:01.909Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:57:01.910Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:57:01.911Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8965

[debug] [2024-11-12T05:57:02.555Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-11-12T05:57:10.221Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:57:10.236Z] [worker-us-central1-app-e6f945ec-fa67-46cd-b749-46b39dfffd95]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e6f945ec-fa67-46cd-b749-46b39dfffd95]: exited"}}
[debug] [2024-11-12T05:57:10.236Z] [worker-us-central1-app-e6f945ec-fa67-46cd-b749-46b39dfffd95]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-e6f945ec-fa67-46cd-b749-46b39dfffd95]: FINISHED"}}
[debug] [2024-11-12T05:57:20.092Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:57:21.095Z] Validating nodejs source
[debug] [2024-11-12T05:57:21.729Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:57:21.729Z] Building nodejs source
[debug] [2024-11-12T05:57:21.729Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:57:21.731Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:57:21.732Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T05:57:21.735Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8873

[debug] [2024-11-12T05:57:22.389Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:57:22.737Z] Validating nodejs source
[debug] [2024-11-12T05:57:23.213Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:57:23.213Z] Building nodejs source
[debug] [2024-11-12T05:57:23.213Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:57:23.214Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:57:23.214Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8270

[debug] [2024-11-12T05:57:23.706Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:57:30.711Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:57:31.719Z] Validating nodejs source
[debug] [2024-11-12T05:57:32.275Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:57:32.275Z] Building nodejs source
[debug] [2024-11-12T05:57:32.275Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:57:32.280Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:57:32.281Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8673

[debug] [2024-11-12T05:57:33.104Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:57:35.756Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:57:36.758Z] Validating nodejs source
[debug] [2024-11-12T05:57:37.298Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:57:37.298Z] Building nodejs source
[debug] [2024-11-12T05:57:37.298Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:57:37.299Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:57:37.300Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8455

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:290
});
^

SyntaxError: Missing catch or finally after try
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at loadModule (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)

[debug] [2024-11-12T05:57:37.437Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing catch or finally after try
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T05:57:41.139Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:57:42.141Z] Validating nodejs source
[debug] [2024-11-12T05:57:42.704Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:57:42.704Z] Building nodejs source
[debug] [2024-11-12T05:57:42.704Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:57:42.709Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:57:42.710Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8797

[debug] [2024-11-12T05:57:43.381Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:57:46.441Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T05:57:47.445Z] Validating nodejs source
[debug] [2024-11-12T05:57:48.310Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:57:48.310Z] Building nodejs source
[debug] [2024-11-12T05:57:48.310Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:57:48.312Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:57:48.313Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8362

[debug] [2024-11-12T05:57:48.821Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:58:05.954Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:58:05.954Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:58:05.956Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:58:05.954Z"],"workRunningCount":1}
[debug] [2024-11-12T05:58:05.956Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T05:58:05.961Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:58:05.961Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T05:58:05.961Z] [worker-pool] Cleaned up workers for us-central1-app: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 2 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:58:05.966Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:58:05.967Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:58:07.027Z] [runtime-status] [56488] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:58:07.028Z] [runtime-status] [56488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:58:07.028Z] [runtime-status] [56488] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:58:07.028Z] [runtime-status] [56488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:58:07.206Z] [runtime-status] [56488] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:58:07.206Z] [runtime-status] [56488] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:58:07.206Z] [runtime-status] [56488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:58:07.210Z] [runtime-status] [56488] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:58:07.211Z] [runtime-status] [56488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:58:07.211Z] [runtime-status] [56488] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:58:07.241Z] [runtime-status] [56488] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:58:07.466Z] [runtime-status] [56488] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:58:07.467Z] [runtime-status] [56488] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_51f95189cd6ef83e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [56488] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_51f95189cd6ef83e.sock"}}
[debug] [2024-11-12T05:58:07.489Z] [worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: IDLE"}}
[debug] [2024-11-12T05:58:07.489Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:58:07.490Z] [worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: BUSY"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  11111 {"user":">>>> 44. conversationId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  11111"}}
[info] >  No existing chat document found, creating a new one. {"user":"No existing chat document found, creating a new one.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m No existing chat document found, creating a new one."}}
[info] >  >>>> 400. New chat document created successfully! {"user":">>>> 400. New chat document created successfully!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. New chat document created successfully!"}}
[debug] [2024-11-12T05:58:25.553Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 18064.7395ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 18064.7395ms"}}
[debug] [2024-11-12T05:58:25.555Z] [worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: IDLE"}}
[debug] [2024-11-12T05:58:25.555Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T05:58:25.555Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T05:58:25.556Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  >>>> 400. Chat entry added successfully to customer's db! docId:  11111 {"user":">>>> 400. Chat entry added successfully to customer's db! docId:  11111","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. Chat entry added successfully to customer's db! docId:  11111"}}
[debug] [2024-11-12T05:58:33.362Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:58:33.361Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:58:33.363Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T05:58:33.361Z"],"workRunningCount":1}
[debug] [2024-11-12T05:58:33.363Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T05:58:33.367Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:58:33.369Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T05:58:33.369Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:58:33.371Z] [worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: BUSY"}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  Do you know the causes {"user":">>>> 22. messages:  Do you know the causes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Do you know the causes"}}
[info] >  >>>> 33. initialAnalysis:  { {"user":">>>> 33. initialAnalysis:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  {"}}
[info] >    "overall_health_status": "Severe Issues", {"user":"  \"overall_health_status\": \"Severe Issues\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"overall_health_status\": \"Severe Issues\","}}
[info] >    "health_score": 40, {"user":"  \"health_score\": 40,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"health_score\": 40,"}}
[info] >    "pest_identification": "A large caterpillar is present, likely a corn earworm.", {"user":"  \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"pest_identification\": \"A large caterpillar is present, likely a corn earworm.\","}}
[info] >    "disease_identification": "None detected", {"user":"  \"disease_identification\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"disease_identification\": \"None detected\","}}
[info] >    "weed_presence": "None detected", {"user":"  \"weed_presence\": \"None detected\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"weed_presence\": \"None detected\","}}
[info] >    "recommendations": [ {"user":"  \"recommendations\": [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   \"recommendations\": ["}}
[info] >      "Apply appropriate insecticides to control the corn earworm.", {"user":"    \"Apply appropriate insecticides to control the corn earworm.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Apply appropriate insecticides to control the corn earworm.\","}}
[info] >      "Monitor the field for further pest infestations.", {"user":"    \"Monitor the field for further pest infestations.\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Monitor the field for further pest infestations.\","}}
[info] >      "Consider using integrated pest management strategies to prevent future infestations." {"user":"Consider using integrated pest management strategies to prevent future infestations.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m     \"Consider using integrated pest management strategies to prevent future infestations.\""}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  >>>> 44. conversationId:  1731384290951 {"user":">>>> 44. conversationId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731384290951"}}
[info] >  >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951 {"user":">>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951"}}
[debug] [2024-11-12T05:58:46.204Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 12835.145667ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 12835.145667ms"}}
[debug] [2024-11-12T05:58:46.207Z] [worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: IDLE"}}
[debug] [2024-11-12T05:58:46.207Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T05:58:46.207Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T05:58:46.208Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951 {"user":">>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. Chat entry added successfully to customer's db! docId:  1731384290951"}}
[debug] [2024-11-12T05:59:18.428Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:59:19.337Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:59:20.342Z] Validating nodejs source
[debug] [2024-11-12T05:59:21.061Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:59:21.061Z] Building nodejs source
[debug] [2024-11-12T05:59:21.061Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:59:21.063Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:59:21.065Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8369

[debug] [2024-11-12T05:59:21.667Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:59:21.677Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T05:59:21.677Z] [worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: FINISHING"}}
[debug] [2024-11-12T05:59:21.687Z] [worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: exited"}}
[debug] [2024-11-12T05:59:21.688Z] [worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-99adc422-ebee-4bb5-9feb-c37a88f77a46]: FINISHED"}}
[debug] [2024-11-12T05:59:23.086Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T05:59:24.087Z] Validating nodejs source
[debug] [2024-11-12T05:59:24.583Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T05:59:24.583Z] Building nodejs source
[debug] [2024-11-12T05:59:24.583Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:59:24.584Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T05:59:24.585Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8582

[debug] [2024-11-12T05:59:25.106Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T05:59:45.823Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T05:59:45.822Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:59:45.930Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T05:59:45.822Z"],"workRunningCount":1}
[debug] [2024-11-12T05:59:45.930Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T05:59:46.058Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:59:46.073Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T05:59:46.075Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T05:59:46.114Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T05:59:46.116Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T05:59:48.890Z] [runtime-status] [57031] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:59:48.891Z] [runtime-status] [57031] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:59:48.891Z] [runtime-status] [57031] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T05:59:48.891Z] [runtime-status] [57031] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:59:49.040Z] [runtime-status] [57031] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T05:59:49.040Z] [runtime-status] [57031] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T05:59:49.040Z] [runtime-status] [57031] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:59:49.044Z] [runtime-status] [57031] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T05:59:49.045Z] [runtime-status] [57031] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T05:59:49.045Z] [runtime-status] [57031] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T05:59:49.074Z] [runtime-status] [57031] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T05:59:49.293Z] [runtime-status] [57031] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T05:59:49.294Z] [runtime-status] [57031] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_c5ade0edab3694a5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57031] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_c5ade0edab3694a5.sock"}}
[debug] [2024-11-12T05:59:49.362Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: IDLE"}}
[debug] [2024-11-12T05:59:49.362Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:59:49.363Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: BUSY"}}
[debug] [2024-11-12T05:59:49.966Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 603.392084ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 603.392084ms"}}
[debug] [2024-11-12T05:59:49.967Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: IDLE"}}
[debug] [2024-11-12T05:59:49.967Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T05:59:49.967Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T05:59:49.968Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:59:52.852Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T05:59:52.851Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T05:59:52.853Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T05:59:52.851Z"],"workRunningCount":1}
[debug] [2024-11-12T05:59:52.854Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T05:59:52.857Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T05:59:52.857Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T05:59:52.857Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T05:59:52.858Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: pestDiagnosis. {"user":"Processed non-image field insights[]: pestDiagnosis.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: pestDiagnosis."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'pestDiagnosis' ] {"user":"requestedInsights:  [ 'pestDiagnosis' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'pestDiagnosis' ]"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731391192881.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731391192881.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731391192881.jpg&uploadType=resumable&upload_id=AHmUCY107s1SLW3haZwojGIb4xKNbOvRdIzwmvW1sc3LUVnUysDzScp2Mw2looW7rPyxOKN8jh4WANgMvFbOQFZYhY_nOvXGzgdiXA8CdH6zy6oBlA"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731391192881.jpg&uploadType=resumable&upload_id=AHmUCY107s1SLW3haZwojGIb4xKNbOvRdIzwmvW1sc3LUVnUysDzScp2Mw2looW7rPyxOKN8jh4WANgMvFbOQFZYhY_nOvXGzgdiXA8CdH6zy6oBlA\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731391192881.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731391192881.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731391192881 {"user":">>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731391192881","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731391192881"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731391192881.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731391192881.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731391192881.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T05:59:59.777Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 6919.671417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 6919.671417ms"}}
[debug] [2024-11-12T05:59:59.778Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: IDLE"}}
[debug] [2024-11-12T05:59:59.778Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T05:59:59.778Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T05:59:59.778Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:00:09.455Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:00:09.455Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:00:09.457Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:00:09.455Z"],"workRunningCount":1}
[debug] [2024-11-12T06:00:09.457Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:00:09.463Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:00:09.463Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:00:09.464Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:00:09.465Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: BUSY"}}
[debug] [2024-11-12T06:00:09.483Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 18.725875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 18.725875ms"}}
[debug] [2024-11-12T06:00:09.486Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: IDLE"}}
[debug] [2024-11-12T06:00:09.486Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:00:09.486Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:00:09.486Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:00:09.489Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:00:09.489Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:00:09.489Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:00:09.489Z"],"workRunningCount":1}
[debug] [2024-11-12T06:00:09.490Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:00:09.494Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:00:09.495Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:00:09.495Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:00:09.496Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: BUSY"}}
[info] >  >>>> 11. model:  llama {"user":">>>> 11. model:  llama","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  llama"}}
[info] >  >>>> 22. messages:  Hello {"user":">>>> 22. messages:  Hello","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  Hello"}}
[info] >  >>>> 33. initialAnalysis:  The plant shows severe health issues due to a pest infestation, particularly corn borers, which have caused significant damage to the corn cob. A health score of 25 indicates critical condition. Immediate action is required to remove infested parts and apply insecticidal treatments to prevent further damage. {"user":">>>> 33. initialAnalysis:  The plant shows severe health issues due to a pest infestation, particularly corn borers, which have caused significant damage to the corn cob. A health score of 25 indicates critical condition. Immediate action is required to remove infested parts and apply insecticidal treatments to prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The plant shows severe health issues due to a pest infestation, particularly corn borers, which have caused significant damage to the corn cob. A health score of 25 indicates critical condition. Immediate action is required to remove infested parts and apply insecticidal treatments to prevent further damage."}}
[info] >  >>>> 44. conversationId:  1731391192881 {"user":">>>> 44. conversationId:  1731391192881","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731391192881"}}
[info] >  No existing chat document found, creating a new one. {"user":"No existing chat document found, creating a new one.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m No existing chat document found, creating a new one."}}
[info] >  >>>> 400. New chat document created successfully! {"user":">>>> 400. New chat document created successfully!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. New chat document created successfully!"}}
[debug] [2024-11-12T06:00:20.421Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 10926.342708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 10926.342708ms"}}
[debug] [2024-11-12T06:00:20.423Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: IDLE"}}
[debug] [2024-11-12T06:00:20.423Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:00:20.424Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:00:20.424Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391192881 {"user":">>>> Chat entry added to customer's db! docId:  1731391192881","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391192881"}}
[debug] [2024-11-12T06:02:10.192Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:02:10.608Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:02:11.643Z] Validating nodejs source
[debug] [2024-11-12T06:02:13.183Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:02:13.183Z] Building nodejs source
[debug] [2024-11-12T06:02:13.183Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:02:13.188Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:02:13.192Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8371

[debug] [2024-11-12T06:02:13.994Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:02:14.007Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T06:02:14.007Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: FINISHING"}}
[debug] [2024-11-12T06:02:14.017Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: exited"}}
[debug] [2024-11-12T06:02:14.018Z] [worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-5287d779-206e-4db3-a336-ee0e1ece3f97]: FINISHED"}}
[debug] [2024-11-12T06:02:28.954Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:02:29.960Z] Validating nodejs source
[debug] [2024-11-12T06:02:30.684Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:02:30.684Z] Building nodejs source
[debug] [2024-11-12T06:02:30.684Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:02:30.686Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:02:30.687Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8454

[debug] [2024-11-12T06:02:31.257Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:02:33.613Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:02:34.618Z] Validating nodejs source
[debug] [2024-11-12T06:02:35.162Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:02:35.163Z] Building nodejs source
[debug] [2024-11-12T06:02:35.163Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:02:35.165Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:02:35.166Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T06:02:35.167Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8517

[debug] [2024-11-12T06:02:35.656Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:02:36.169Z] Validating nodejs source
[debug] [2024-11-12T06:02:36.652Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:02:36.653Z] Building nodejs source
[debug] [2024-11-12T06:02:36.653Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:02:36.654Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:02:36.655Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T06:02:36.657Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8133

[debug] [2024-11-12T06:02:37.159Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:02:37.658Z] Validating nodejs source
[debug] [2024-11-12T06:02:38.218Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:02:38.218Z] Building nodejs source
[debug] [2024-11-12T06:02:38.218Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:02:38.219Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:02:38.220Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8188

[debug] [2024-11-12T06:02:38.592Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:02:43.844Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:02:43.844Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:02:43.846Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:02:43.844Z"],"workRunningCount":1}
[debug] [2024-11-12T06:02:43.846Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:02:43.855Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:02:43.855Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:02:43.855Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:02:43.859Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T06:02:43.859Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T06:02:44.988Z] [runtime-status] [57934] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:02:44.989Z] [runtime-status] [57934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:02:44.989Z] [runtime-status] [57934] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T06:02:44.990Z] [runtime-status] [57934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:02:45.095Z] [runtime-status] [57934] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T06:02:45.095Z] [runtime-status] [57934] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T06:02:45.095Z] [runtime-status] [57934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:02:45.100Z] [runtime-status] [57934] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:02:45.101Z] [runtime-status] [57934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:02:45.101Z] [runtime-status] [57934] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T06:02:45.126Z] [runtime-status] [57934] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T06:02:45.347Z] [runtime-status] [57934] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T06:02:45.347Z] [runtime-status] [57934] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_955866d7fd164337.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [57934] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_955866d7fd164337.sock"}}
[debug] [2024-11-12T06:02:45.389Z] [worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: IDLE"}}
[debug] [2024-11-12T06:02:45.389Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:02:45.389Z] [worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: BUSY"}}
[debug] [2024-11-12T06:02:45.392Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2.909416ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2.909416ms"}}
[debug] [2024-11-12T06:02:45.392Z] [worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: IDLE"}}
[debug] [2024-11-12T06:02:45.392Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:02:45.392Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:02:45.392Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:02:45.393Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:02:45.393Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:02:45.393Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:02:45.393Z"],"workRunningCount":1}
[debug] [2024-11-12T06:02:45.393Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:02:45.395Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:02:45.395Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:02:45.395Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:02:45.395Z] [worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: BUSY"}}
[info] >  initialAnalysisSummary:  The plant shows severe health issues due to a pest infestation, particularly corn borers, which have caused significant damage to the corn cob. A health score of 25 indicates critical condition. Immediate action is required to remove infested parts and apply insecticidal treatments to prevent further damage. {"user":"initialAnalysisSummary:  The plant shows severe health issues due to a pest infestation, particularly corn borers, which have caused significant damage to the corn cob. A health score of 25 indicates critical condition. Immediate action is required to remove infested parts and apply insecticidal treatments to prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The plant shows severe health issues due to a pest infestation, particularly corn borers, which have caused significant damage to the corn cob. A health score of 25 indicates critical condition. Immediate action is required to remove infested parts and apply insecticidal treatments to prevent further damage."}}
[info] >  >>>> 11. model:  llama {"user":">>>> 11. model:  llama","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  llama"}}
[info] >  >>>> 22. messages:  hey {"user":">>>> 22. messages:  hey","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  hey"}}
[info] >  >>>> 33. initialAnalysis:  The plant shows severe health issues due to a pest infestation, particularly corn borers, which have caused significant damage to the corn cob. A health score of 25 indicates critical condition. Immediate action is required to remove infested parts and apply insecticidal treatments to prevent further damage. {"user":">>>> 33. initialAnalysis:  The plant shows severe health issues due to a pest infestation, particularly corn borers, which have caused significant damage to the corn cob. A health score of 25 indicates critical condition. Immediate action is required to remove infested parts and apply insecticidal treatments to prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The plant shows severe health issues due to a pest infestation, particularly corn borers, which have caused significant damage to the corn cob. A health score of 25 indicates critical condition. Immediate action is required to remove infested parts and apply insecticidal treatments to prevent further damage."}}
[info] >  >>>> 44. conversationId:  1731391192881 {"user":">>>> 44. conversationId:  1731391192881","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731391192881"}}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391192881 {"user":">>>> Chat entry added to customer's db! docId:  1731391192881","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391192881"}}
[info] >  initialAnalysisSummary:   {"user":"initialAnalysisSummary:  ","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  "}}
[debug] [2024-11-12T06:02:55.845Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 10450.053334ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 10450.053334ms"}}
[debug] [2024-11-12T06:02:55.845Z] [worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: IDLE"}}
[debug] [2024-11-12T06:02:55.846Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:02:55.846Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:02:55.846Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391192881 {"user":">>>> Chat entry added to customer's db! docId:  1731391192881","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391192881"}}
[debug] [2024-11-12T06:05:25.474Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:05:26.482Z] Validating nodejs source
[debug] [2024-11-12T06:05:27.118Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:05:27.119Z] Building nodejs source
[debug] [2024-11-12T06:05:27.119Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:05:27.123Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:05:27.126Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8562

[debug] [2024-11-12T06:05:27.794Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:05:27.802Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T06:05:27.802Z] [worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: FINISHING"}}
[debug] [2024-11-12T06:05:27.814Z] [worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: exited"}}
[debug] [2024-11-12T06:05:27.814Z] [worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-aed03a13-2249-45c3-8db6-4164e6f39a2f]: FINISHED"}}
[debug] [2024-11-12T06:05:38.748Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T06:05:38.748Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:05:38.751Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T06:05:38.748Z"],"workRunningCount":1}
[debug] [2024-11-12T06:05:38.751Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T06:05:38.757Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:05:38.757Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T06:05:38.757Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:05:38.763Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T06:05:38.764Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T06:05:40.169Z] [runtime-status] [58727] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:05:40.170Z] [runtime-status] [58727] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:05:40.170Z] [runtime-status] [58727] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T06:05:40.171Z] [runtime-status] [58727] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:05:40.323Z] [runtime-status] [58727] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T06:05:40.323Z] [runtime-status] [58727] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T06:05:40.323Z] [runtime-status] [58727] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:05:40.327Z] [runtime-status] [58727] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:05:40.328Z] [runtime-status] [58727] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:05:40.329Z] [runtime-status] [58727] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T06:05:40.358Z] [runtime-status] [58727] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T06:05:40.580Z] [runtime-status] [58727] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T06:05:40.581Z] [runtime-status] [58727] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_d14a20137878b60d.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [58727] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_d14a20137878b60d.sock"}}
[debug] [2024-11-12T06:05:40.590Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: IDLE"}}
[debug] [2024-11-12T06:05:40.591Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:05:40.591Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: BUSY"}}
[debug] [2024-11-12T06:05:41.107Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 515.885959ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 515.885959ms"}}
[debug] [2024-11-12T06:05:41.108Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: IDLE"}}
[debug] [2024-11-12T06:05:41.108Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:05:41.108Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:05:41.108Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:05:46.234Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T06:05:46.234Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:05:46.236Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T06:05:46.234Z"],"workRunningCount":1}
[debug] [2024-11-12T06:05:46.236Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T06:05:46.240Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:05:46.240Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T06:05:46.240Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:05:46.241Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: pestDiagnosis. {"user":"Processed non-image field insights[]: pestDiagnosis.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: pestDiagnosis."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'pestDiagnosis' ] {"user":"requestedInsights:  [ 'pestDiagnosis' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'pestDiagnosis' ]"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731391546263.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731391546263.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731391546263.jpg&uploadType=resumable&upload_id=AHmUCY0zWSqpsG66JVMglUSPCEGqolGIk6JgHoVcVnfK4cvLAOGJNCpSe_rd4uG0sQulMTTQDTW6wlRDadHf0vOv-Z1cyriy3hT8nE82BL4kGOx2"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731391546263.jpg&uploadType=resumable&upload_id=AHmUCY0zWSqpsG66JVMglUSPCEGqolGIk6JgHoVcVnfK4cvLAOGJNCpSe_rd4uG0sQulMTTQDTW6wlRDadHf0vOv-Z1cyriy3hT8nE82BL4kGOx2\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731391546263.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731391546263.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731391546263 {"user":">>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731391546263"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731391546263.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731391546263.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731391546263.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T06:05:51.368Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 5127.819042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 5127.819042ms"}}
[debug] [2024-11-12T06:05:51.369Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: IDLE"}}
[debug] [2024-11-12T06:05:51.369Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:05:51.369Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:05:51.369Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:06:01.424Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:06:01.424Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:06:01.426Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:06:01.424Z"],"workRunningCount":1}
[debug] [2024-11-12T06:06:01.426Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:06:01.430Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:06:01.430Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:06:01.431Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:06:01.432Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: BUSY"}}
[debug] [2024-11-12T06:06:01.439Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 7.435709ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 7.435709ms"}}
[debug] [2024-11-12T06:06:01.440Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: IDLE"}}
[debug] [2024-11-12T06:06:01.440Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:06:01.440Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:06:01.440Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:06:01.441Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:06:01.441Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:06:01.441Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:06:01.441Z"],"workRunningCount":1}
[debug] [2024-11-12T06:06:01.441Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:06:01.442Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:06:01.442Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:06:01.442Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:06:01.442Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: BUSY"}}
[info] >  initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":"initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  What is next {"user":">>>> 22. messages:  What is next","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  What is next"}}
[info] >  >>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":">>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> 44. conversationId:  1731391546263 {"user":">>>> 44. conversationId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731391546263"}}
[info] >  No existing chat document found, creating a new one. {"user":"No existing chat document found, creating a new one.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m No existing chat document found, creating a new one."}}
[info] >  >>>> 400. New chat document created successfully! {"user":">>>> 400. New chat document created successfully!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 400. New chat document created successfully!"}}
[info] >  initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":"initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[debug] [2024-11-12T06:06:10.254Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 8811.354375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 8811.354375ms"}}
[debug] [2024-11-12T06:06:10.254Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: IDLE"}}
[debug] [2024-11-12T06:06:10.254Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:06:10.254Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:06:10.254Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391546263 {"user":">>>> Chat entry added to customer's db! docId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391546263"}}
[debug] [2024-11-12T06:09:46.532Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:09:47.607Z] Validating nodejs source
[debug] [2024-11-12T06:09:48.379Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:09:48.380Z] Building nodejs source
[debug] [2024-11-12T06:09:48.380Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:09:48.387Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:09:48.391Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8690

[debug] [2024-11-12T06:09:50.338Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:09:50.355Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T06:09:50.355Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: FINISHING"}}
[debug] [2024-11-12T06:09:50.366Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: exited"}}
[debug] [2024-11-12T06:09:50.366Z] [worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-91697d9a-1097-4fe4-b807-217194ceccb3]: FINISHED"}}
[debug] [2024-11-12T06:10:22.021Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:10:23.026Z] Validating nodejs source
[debug] [2024-11-12T06:10:23.658Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:10:23.658Z] Building nodejs source
[debug] [2024-11-12T06:10:23.658Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:10:23.661Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:10:23.662Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8911

[debug] [2024-11-12T06:10:24.246Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:10:29.920Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:10:30.977Z] Validating nodejs source
[debug] [2024-11-12T06:10:31.597Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:10:31.597Z] Building nodejs source
[debug] [2024-11-12T06:10:31.597Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:10:31.599Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:10:31.599Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8401

[debug] [2024-11-12T06:10:32.141Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:10:36.391Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:10:37.396Z] Validating nodejs source
[debug] [2024-11-12T06:10:37.972Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:10:37.972Z] Building nodejs source
[debug] [2024-11-12T06:10:37.972Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:10:37.974Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:10:37.975Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8680

[debug] [2024-11-12T06:10:38.480Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:10:46.261Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:10:47.266Z] Validating nodejs source
[debug] [2024-11-12T06:10:47.911Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:10:47.911Z] Building nodejs source
[debug] [2024-11-12T06:10:47.911Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:10:47.913Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:10:47.914Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8384

[debug] [2024-11-12T06:10:48.425Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:11:02.334Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:11:02.333Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:11:02.335Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:11:02.333Z"],"workRunningCount":1}
[debug] [2024-11-12T06:11:02.335Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:11:02.345Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:11:02.345Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:11:02.345Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:11:02.356Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T06:11:02.356Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T06:11:03.496Z] [runtime-status] [60313] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:11:03.497Z] [runtime-status] [60313] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:11:03.497Z] [runtime-status] [60313] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T06:11:03.498Z] [runtime-status] [60313] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:11:03.679Z] [runtime-status] [60313] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T06:11:03.679Z] [runtime-status] [60313] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T06:11:03.679Z] [runtime-status] [60313] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:11:03.683Z] [runtime-status] [60313] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:11:03.686Z] [runtime-status] [60313] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:11:03.687Z] [runtime-status] [60313] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T06:11:03.722Z] [runtime-status] [60313] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T06:11:04.011Z] [runtime-status] [60313] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T06:11:04.012Z] [runtime-status] [60313] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_d7f2d51a9e947dd4.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60313] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_d7f2d51a9e947dd4.sock"}}
[debug] [2024-11-12T06:11:04.084Z] [worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: IDLE"}}
[debug] [2024-11-12T06:11:04.085Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:11:04.085Z] [worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: BUSY"}}
[debug] [2024-11-12T06:11:04.088Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2.868792ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2.868792ms"}}
[debug] [2024-11-12T06:11:04.088Z] [worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: IDLE"}}
[debug] [2024-11-12T06:11:04.088Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:11:04.088Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:11:04.088Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:11:04.090Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:11:04.090Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:11:04.091Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:11:04.090Z"],"workRunningCount":1}
[debug] [2024-11-12T06:11:04.091Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:11:04.092Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:11:04.092Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:11:04.092Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:11:04.092Z] [worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: BUSY"}}
[info] >  initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":"initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  hey {"user":">>>> 22. messages:  hey","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  hey"}}
[info] >  >>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":">>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> 44. conversationId:  1731391546263 {"user":">>>> 44. conversationId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731391546263"}}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391546263 {"user":">>>> Chat entry added to customer's db! docId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391546263"}}
[info] >  initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":"initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[debug] [2024-11-12T06:11:14.518Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 10425.626625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 10425.626625ms"}}
[debug] [2024-11-12T06:11:14.518Z] [worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: IDLE"}}
[debug] [2024-11-12T06:11:14.518Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:11:14.518Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:11:14.518Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391546263 {"user":">>>> Chat entry added to customer's db! docId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391546263"}}
[debug] [2024-11-12T06:11:26.023Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:11:27.026Z] Validating nodejs source
[debug] [2024-11-12T06:11:27.719Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:11:27.720Z] Building nodejs source
[debug] [2024-11-12T06:11:27.720Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:11:27.728Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:11:27.729Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T06:11:27.730Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8520

[debug] [2024-11-12T06:11:28.316Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:11:28.324Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T06:11:28.324Z] [worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: FINISHING"}}
[debug] [2024-11-12T06:11:28.336Z] [worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: exited"}}
[debug] [2024-11-12T06:11:28.336Z] [worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-4aee99c0-4d1b-4eb0-ba42-31a7e7cb168f]: FINISHED"}}
[debug] [2024-11-12T06:11:28.732Z] Validating nodejs source
[debug] [2024-11-12T06:11:29.221Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:11:29.221Z] Building nodejs source
[debug] [2024-11-12T06:11:29.221Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:11:29.222Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:11:29.223Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T06:11:29.224Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8197

[debug] [2024-11-12T06:11:29.688Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:11:30.226Z] Validating nodejs source
[debug] [2024-11-12T06:11:30.739Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:11:30.739Z] Building nodejs source
[debug] [2024-11-12T06:11:30.739Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:11:30.740Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:11:30.741Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8793

[debug] [2024-11-12T06:11:31.042Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:11:31.130Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:11:32.045Z] Validating nodejs source
[debug] [2024-11-12T06:11:32.533Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:11:32.533Z] Building nodejs source
[debug] [2024-11-12T06:11:32.533Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:11:32.534Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:11:32.535Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8146

[debug] [2024-11-12T06:11:33.045Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:11:36.052Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:11:36.052Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:11:36.053Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:11:36.052Z"],"workRunningCount":1}
[debug] [2024-11-12T06:11:36.054Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:11:36.059Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:11:36.059Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:11:36.060Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:11:36.064Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T06:11:36.064Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T06:11:37.149Z] [runtime-status] [60596] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:11:37.150Z] [runtime-status] [60596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:11:37.150Z] [runtime-status] [60596] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T06:11:37.150Z] [runtime-status] [60596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:11:37.248Z] [runtime-status] [60596] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T06:11:37.248Z] [runtime-status] [60596] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T06:11:37.248Z] [runtime-status] [60596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:11:37.253Z] [runtime-status] [60596] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:11:37.254Z] [runtime-status] [60596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:11:37.255Z] [runtime-status] [60596] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T06:11:37.276Z] [runtime-status] [60596] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T06:11:37.434Z] [runtime-status] [60596] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T06:11:37.435Z] [runtime-status] [60596] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_190534cefb49d082.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60596] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_190534cefb49d082.sock"}}
[debug] [2024-11-12T06:11:37.489Z] [worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: IDLE"}}
[debug] [2024-11-12T06:11:37.489Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:11:37.490Z] [worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: BUSY"}}
[debug] [2024-11-12T06:11:37.493Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2.945208ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2.945208ms"}}
[debug] [2024-11-12T06:11:37.493Z] [worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: IDLE"}}
[debug] [2024-11-12T06:11:37.493Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:11:37.493Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:11:37.493Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:11:37.494Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:11:37.494Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:11:37.494Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:11:37.494Z"],"workRunningCount":1}
[debug] [2024-11-12T06:11:37.494Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:11:37.495Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:11:37.495Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:11:37.495Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:11:37.496Z] [worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: BUSY"}}
[info] >  userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73 {"user":"userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73"}}
[info] >  initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":"initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  hey {"user":">>>> 22. messages:  hey","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  hey"}}
[info] >  >>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":">>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> 44. conversationId:  1731391546263 {"user":">>>> 44. conversationId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731391546263"}}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391546263 {"user":">>>> Chat entry added to customer's db! docId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391546263"}}
[info] >  userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73 {"user":"userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73"}}
[info] >  initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":"initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[debug] [2024-11-12T06:11:45.861Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 8366.028417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 8366.028417ms"}}
[debug] [2024-11-12T06:11:45.862Z] [worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: IDLE"}}
[debug] [2024-11-12T06:11:45.862Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:11:45.862Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:11:45.862Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391546263 {"user":">>>> Chat entry added to customer's db! docId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391546263"}}
[debug] [2024-11-12T06:11:56.229Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:11:57.233Z] Validating nodejs source
[debug] [2024-11-12T06:11:57.830Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:11:57.830Z] Building nodejs source
[debug] [2024-11-12T06:11:57.830Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:11:57.832Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:11:57.832Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T06:11:57.834Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[info] Serving at port 8272

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14
    const customerId = userID ?  "OQ79MAoXE9SMin2WhUzNV5vyTm73"; // Ensure to replace this with actual customer ID
                                                               ^

SyntaxError: Unexpected token ';'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T06:11:58.380Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ';'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T06:11:58.836Z] Validating nodejs source
[debug] [2024-11-12T06:11:59.366Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:11:59.367Z] Building nodejs source
[debug] [2024-11-12T06:11:59.367Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:11:59.368Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:11:59.369Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8255

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js:14
    const customerId = userID ?  "OQ79MAoXE9SMin2WhUzNV5vyTm73"; // Ensure to replace this with actual customer ID
                                                               ^

SyntaxError: Unexpected token ';'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:13:34)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T06:11:59.809Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ';'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T06:12:00.174Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:12:01.176Z] Validating nodejs source
[debug] [2024-11-12T06:12:01.734Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:12:01.734Z] Building nodejs source
[debug] [2024-11-12T06:12:01.734Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:12:01.735Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:12:01.736Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8789

[debug] [2024-11-12T06:12:02.119Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:12:02.127Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T06:12:02.127Z] [worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: FINISHING"}}
[debug] [2024-11-12T06:12:02.140Z] [worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: exited"}}
[debug] [2024-11-12T06:12:02.140Z] [worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-ca6087de-004b-4a78-abd9-472a9cf57050]: FINISHED"}}
[debug] [2024-11-12T06:12:06.701Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:12:06.701Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:12:06.703Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:12:06.701Z"],"workRunningCount":1}
[debug] [2024-11-12T06:12:06.703Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:12:06.708Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:12:06.708Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:12:06.709Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:12:06.713Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T06:12:06.714Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T06:12:07.688Z] [runtime-status] [60785] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:12:07.688Z] [runtime-status] [60785] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:12:07.688Z] [runtime-status] [60785] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T06:12:07.689Z] [runtime-status] [60785] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:12:07.786Z] [runtime-status] [60785] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T06:12:07.786Z] [runtime-status] [60785] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T06:12:07.786Z] [runtime-status] [60785] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:12:07.791Z] [runtime-status] [60785] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:12:07.792Z] [runtime-status] [60785] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:12:07.792Z] [runtime-status] [60785] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T06:12:07.813Z] [runtime-status] [60785] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T06:12:07.971Z] [runtime-status] [60785] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T06:12:07.972Z] [runtime-status] [60785] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_af173e39f559d065.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60785] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_af173e39f559d065.sock"}}
[debug] [2024-11-12T06:12:08.039Z] [worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: IDLE"}}
[debug] [2024-11-12T06:12:08.039Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:12:08.040Z] [worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: BUSY"}}
[debug] [2024-11-12T06:12:08.042Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2.7675ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2.7675ms"}}
[debug] [2024-11-12T06:12:08.042Z] [worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: IDLE"}}
[debug] [2024-11-12T06:12:08.043Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:12:08.043Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:12:08.043Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:12:08.045Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:12:08.045Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:12:08.045Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:12:08.045Z"],"workRunningCount":1}
[debug] [2024-11-12T06:12:08.045Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:12:08.046Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:12:08.046Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:12:08.046Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:12:08.046Z] [worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: BUSY"}}
[info] >  userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73 {"user":"userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73"}}
[info] >  initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":"initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  hey {"user":">>>> 22. messages:  hey","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  hey"}}
[info] >  >>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":">>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> 44. conversationId:  1731391546263 {"user":">>>> 44. conversationId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731391546263"}}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391546263 {"user":">>>> Chat entry added to customer's db! docId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391546263"}}
[info] >  userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73 {"user":"userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73"}}
[info] >  initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":"initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[debug] [2024-11-12T06:12:15.420Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 7375.190458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 7375.190458ms"}}
[debug] [2024-11-12T06:12:15.428Z] [worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: IDLE"}}
[debug] [2024-11-12T06:12:15.433Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:12:15.439Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:12:15.439Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391546263 {"user":">>>> Chat entry added to customer's db! docId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391546263"}}
[debug] [2024-11-12T06:12:28.686Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:12:29.690Z] Validating nodejs source
[debug] [2024-11-12T06:12:30.261Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:12:30.262Z] Building nodejs source
[debug] [2024-11-12T06:12:30.262Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:12:30.264Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:12:30.265Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8597

[debug] [2024-11-12T06:12:30.879Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:12:30.888Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T06:12:30.888Z] [worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: FINISHING"}}
[debug] [2024-11-12T06:12:30.902Z] [worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: exited"}}
[debug] [2024-11-12T06:12:30.902Z] [worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-9c726b6d-96c0-447e-bc62-45f177e33163]: FINISHED"}}
[debug] [2024-11-12T06:12:34.019Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:12:34.018Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:12:34.020Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:12:34.018Z"],"workRunningCount":1}
[debug] [2024-11-12T06:12:34.020Z] Accepted request OPTIONS /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:12:34.026Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:12:34.026Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:12:34.026Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:12:34.040Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T06:12:34.041Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T06:12:35.175Z] [runtime-status] [60920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:12:35.176Z] [runtime-status] [60920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:12:35.176Z] [runtime-status] [60920] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T06:12:35.177Z] [runtime-status] [60920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:12:35.276Z] [runtime-status] [60920] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T06:12:35.276Z] [runtime-status] [60920] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T06:12:35.277Z] [runtime-status] [60920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:12:35.280Z] [runtime-status] [60920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:12:35.280Z] [runtime-status] [60920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:12:35.281Z] [runtime-status] [60920] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T06:12:35.304Z] [runtime-status] [60920] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T06:12:35.464Z] [runtime-status] [60920] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T06:12:35.464Z] [runtime-status] [60920] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_8a6ed6fb47d3c202.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [60920] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_8a6ed6fb47d3c202.sock"}}
[debug] [2024-11-12T06:12:35.570Z] [worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: IDLE"}}
[debug] [2024-11-12T06:12:35.571Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:12:35.571Z] [worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: BUSY"}}
[debug] [2024-11-12T06:12:35.574Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 3.091541ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 3.091541ms"}}
[debug] [2024-11-12T06:12:35.574Z] [worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: IDLE"}}
[debug] [2024-11-12T06:12:35.574Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:12:35.574Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:12:35.574Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:12:35.578Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:12:35.578Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:12:35.578Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/chat/follow-up-2024-11-12T06:12:35.578Z"],"workRunningCount":1}
[debug] [2024-11-12T06:12:35.578Z] Accepted request POST /agrilens-web/us-central1/app/chat/follow-up --> us-central1-app
[debug] [2024-11-12T06:12:35.580Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:12:35.580Z] [functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/chat/follow-up, mapping to path=/chat/follow-up"}}
[debug] [2024-11-12T06:12:35.580Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:12:35.580Z] [worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: BUSY"}}
[info] >  userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73 {"user":"userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73"}}
[info] >  initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":"initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> 11. model:  qwen {"user":">>>> 11. model:  qwen","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 11. model:  qwen"}}
[info] >  >>>> 22. messages:  what {"user":">>>> 22. messages:  what","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 22. messages:  what"}}
[info] >  >>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":">>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 33. initialAnalysis:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> 44. conversationId:  1731391546263 {"user":">>>> 44. conversationId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 44. conversationId:  1731391546263"}}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391546263 {"user":">>>> Chat entry added to customer's db! docId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391546263"}}
[debug] [2024-11-12T06:12:43.844Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:12:44.847Z] Validating nodejs source
[debug] [2024-11-12T06:12:45.460Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:12:45.461Z] Building nodejs source
[debug] [2024-11-12T06:12:45.461Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:12:45.462Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:12:45.463Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] >  userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73 {"user":"userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m userID:  OQ79MAoXE9SMin2WhUzNV5vyTm73"}}
[info] >  initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage. {"user":"initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m initialAnalysisSummary:  The corn plant is severely infested with a corn earworm, which has caused extensive damage to the cob. The health score is 30, indicating a high level of concern. Immediate action is needed to control the pest and prevent further damage."}}
[info] >  >>>> Chat entry added to customer's db! docId:  1731391546263 {"user":">>>> Chat entry added to customer's db! docId:  1731391546263","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> Chat entry added to customer's db! docId:  1731391546263"}}
[debug] [2024-11-12T06:12:45.466Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 9886.295708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 9886.295708ms"}}
[debug] [2024-11-12T06:12:45.466Z] [worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: IDLE"}}
[debug] [2024-11-12T06:12:45.466Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:12:45.466Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:12:45.467Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] Serving at port 8418

[debug] [2024-11-12T06:12:46.012Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:12:46.044Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T06:12:46.044Z] [worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: FINISHING"}}
[debug] [2024-11-12T06:12:46.056Z] [worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: exited"}}
[debug] [2024-11-12T06:12:46.057Z] [worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-492ca6c2-fc3f-4e35-856c-adb2fbf14b20]: FINISHED"}}
[debug] [2024-11-12T06:13:42.215Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T06:13:42.215Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:13:42.217Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account-2024-11-12T06:13:42.215Z"],"workRunningCount":1}
[debug] [2024-11-12T06:13:42.217Z] Accepted request GET /agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account --> us-central1-app
[debug] [2024-11-12T06:13:42.227Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:13:42.228Z] [functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account, mapping to path=/users/OQ79MAoXE9SMin2WhUzNV5vyTm73/account"}}
[debug] [2024-11-12T06:13:42.228Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:13:42.233Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T06:13:42.233Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T06:13:44.376Z] [runtime-status] [61246] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:13:44.378Z] [runtime-status] [61246] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:13:44.379Z] [runtime-status] [61246] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T06:13:44.379Z] [runtime-status] [61246] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:13:44.552Z] [runtime-status] [61246] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T06:13:44.552Z] [runtime-status] [61246] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T06:13:44.552Z] [runtime-status] [61246] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:13:44.554Z] [runtime-status] [61246] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:13:44.557Z] [runtime-status] [61246] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:13:44.558Z] [runtime-status] [61246] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T06:13:44.590Z] [runtime-status] [61246] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T06:13:44.865Z] [runtime-status] [61246] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T06:13:44.865Z] [runtime-status] [61246] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_58f9672645447f8a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [61246] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_58f9672645447f8a.sock"}}
[debug] [2024-11-12T06:13:44.954Z] [worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: IDLE"}}
[debug] [2024-11-12T06:13:44.954Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:13:44.955Z] [worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: BUSY"}}
[debug] [2024-11-12T06:13:45.428Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 473.101708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 473.101708ms"}}
[debug] [2024-11-12T06:13:45.428Z] [worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: IDLE"}}
[debug] [2024-11-12T06:13:45.428Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:13:45.429Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:13:45.429Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:17:49.516Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T06:17:49.514Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:17:49.521Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T06:17:49.514Z"],"workRunningCount":1}
[debug] [2024-11-12T06:17:49.522Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T06:17:49.543Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:17:49.545Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T06:17:49.546Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:17:49.548Z] [worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: pestDiagnosis. {"user":"Processed non-image field insights[]: pestDiagnosis.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: pestDiagnosis."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'pestDiagnosis' ] {"user":"requestedInsights:  [ 'pestDiagnosis' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'pestDiagnosis' ]"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731392269625.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731392269625.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731392269625.jpg&uploadType=resumable&upload_id=AHmUCY1wrAbrMe7UG815pgW4k2bAL4zNC7TVIVOWscH3s7H3UOHB8n40wcBIupu7NhcDQOcfJiANWXH5nuVDqhr_5Lrq_oR31mPsPuuQCgzHUE1vUQ"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731392269625.jpg&uploadType=resumable&upload_id=AHmUCY1wrAbrMe7UG815pgW4k2bAL4zNC7TVIVOWscH3s7H3UOHB8n40wcBIupu7NhcDQOcfJiANWXH5nuVDqhr_5Lrq_oR31mPsPuuQCgzHUE1vUQ\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731392269625.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731392269625.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731392269625 {"user":">>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731392269625","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731392269625"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731392269625.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731392269625.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731392269625.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T06:17:56.231Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 6684.311917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 6684.311917ms"}}
[debug] [2024-11-12T06:17:56.232Z] [worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: IDLE"}}
[debug] [2024-11-12T06:17:56.232Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:17:56.232Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:17:56.233Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:20:27.390Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:20:28.400Z] Validating nodejs source
[debug] [2024-11-12T06:20:29.663Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:20:29.665Z] Building nodejs source
[debug] [2024-11-12T06:20:29.665Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:20:29.676Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:20:29.681Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8038

[debug] [2024-11-12T06:20:30.366Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:20:30.381Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T06:20:30.381Z] [worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: FINISHING"}}
[debug] [2024-11-12T06:20:30.389Z] [worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: exited"}}
[debug] [2024-11-12T06:20:30.390Z] [worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-15a88001-21ed-443a-9d42-9b67033f920a]: FINISHED"}}
[debug] [2024-11-12T06:20:35.046Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:20:36.052Z] Validating nodejs source
[debug] [2024-11-12T06:20:36.627Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:20:36.627Z] Building nodejs source
[debug] [2024-11-12T06:20:36.627Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:20:36.629Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:20:36.629Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8657

[debug] [2024-11-12T06:20:37.147Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:21:22.177Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadFollowUpToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:21:23.189Z] Validating nodejs source
[debug] [2024-11-12T06:21:23.808Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:21:23.808Z] Building nodejs source
[debug] [2024-11-12T06:21:23.808Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:21:23.810Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:21:23.811Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8791

[debug] [2024-11-12T06:21:24.498Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:21:48.261Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:21:49.267Z] Validating nodejs source
[debug] [2024-11-12T06:21:49.922Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:21:49.922Z] Building nodejs source
[debug] [2024-11-12T06:21:49.922Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:21:49.924Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:21:49.925Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8655

[debug] [2024-11-12T06:21:50.476Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:21:54.670Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:21:55.674Z] Validating nodejs source
[debug] [2024-11-12T06:21:56.278Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:21:56.278Z] Building nodejs source
[debug] [2024-11-12T06:21:56.278Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:21:56.280Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:21:56.281Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8343

[debug] [2024-11-12T06:21:56.851Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:35:40.058Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:35:41.216Z] Validating nodejs source
[debug] [2024-11-12T06:35:42.891Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:35:42.892Z] Building nodejs source
[debug] [2024-11-12T06:35:42.892Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:35:42.911Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:35:42.919Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8322

[debug] [2024-11-12T06:35:43.556Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:35:52.572Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:35:53.595Z] Validating nodejs source
[debug] [2024-11-12T06:35:54.654Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:35:54.657Z] Building nodejs source
[debug] [2024-11-12T06:35:54.657Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:35:54.664Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:35:54.682Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8574

[debug] [2024-11-12T06:35:55.308Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:36:22.780Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T06:36:22.778Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:36:22.781Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T06:36:22.778Z"],"workRunningCount":1}
[debug] [2024-11-12T06:36:22.781Z] Accepted request OPTIONS /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T06:36:22.791Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:36:22.792Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T06:36:22.792Z] [worker-pool] Cleaned up workers for us-central1-app: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-app: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:36:22.798Z] [worker-pool] addWorker(us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-app)"}}
[debug] [2024-11-12T06:36:22.798Z] [worker-pool] Adding worker with key us-central1-app, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-app, total=1"}}
[debug] [2024-11-12T06:36:23.739Z] [runtime-status] [65543] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:36:23.739Z] [runtime-status] [65543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:36:23.740Z] [runtime-status] [65543] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-11-12T06:36:23.740Z] [runtime-status] [65543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:36:23.883Z] [runtime-status] [65543] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-11-12T06:36:23.883Z] [runtime-status] [65543] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2024-11-12T06:36:23.883Z] [runtime-status] [65543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:36:23.885Z] [runtime-status] [65543] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-11-12T06:36:23.886Z] [runtime-status] [65543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.1.0","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.1.0\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2024-11-12T06:36:23.886Z] [runtime-status] [65543] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-11-12T06:36:23.908Z] [runtime-status] [65543] initializeApp(DEFAULT) {"credential":{"implicit":false,"projectId":"agrilens-web","privateKey":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\nVtIrxZNBb836AgBwVE2zo4c=\n-----END PRIVATE KEY-----\n","clientEmail":"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com","httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}},"databaseURL":"https://agrilens-web.firebaseio.com","storageBucket":"agrilens-web.firebasestorage.app"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] initializeApp(DEFAULT) {\"credential\":{\"implicit\":false,\"projectId\":\"agrilens-web\",\"privateKey\":\"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDA33BGA1a7qj4g\\nGnwKtMNDQin5ugA3wm2lfLHx12zzhYCyUaFgTbGZR0wG2drwPYCeUMeVfK1yI06Q\\n8NPFbAAK2saq3raedLoIo28Ck5Mi1SV2yt58vSWRsR+/9bk1YJdR1OvNfq8860AC\\nG6W8P8O2HeJTq4ygF3qoI4p5YJgzRfluretWjyhIOYRnC0EEC+HQ2/UzSBAdT6Zf\\nf2E3Esf6up+mQphO2jp4hP7IlWK0BvdSHPg9rl+sbmeDEtWG30ZDlfq0sDS41gcZ\\nCpQMMIASsv0e+CFGQ28DITsQ4hLrEx2ZjNHGdWNKBc3x6fQ5+l48QkDzSD8J2hyQ\\nsuTlsmJJAgMBAAECggEACkPaFd/XneVRqSO/tlIokkvTMBdWK6GNdGFOlzB/+/X/\\nA36UuCtqaF4DDdpKbL7ZOZPTC4G3OXvnko8+tiMpXWqHaFCyJ3zO6ebI4bo4+oGd\\nnNTvQnROq5JhvjW1xcF+TDyo0CcN7JAYuAQAriQ2plqw0QMwWNTnEkvR8uPRNelL\\n0hWiDUHMqpVSeOLqstayZvJM0Pzpg26SoK+LzNflSLrzpFyr62A+c/1i1ppPTRIs\\n4/F2Itf7ltXQQTmsWfCg3HlP+WsgrcdE7/YA9s7uivFQrMtb6XUhrHlAgtnvH9T5\\nEc0QbrL1uADsBJFcU5sm2FtXbYfosr2gpdr4ZNoQgQKBgQDmdSLxbJp8qjBJtddd\\nti2CH5o/DoIU3QvIOGG9icdNJx470JY3fGe72X1wgLkG/zv4ZjIHTiX1UGf17wTY\\nutMZ5jDRhf2RYyh/6CxRcEiUls4sE5ARYFOYW3oNAtW9+c+s8DfpZR+Po3XaiARK\\nvmtYnpXTUetfvl4JDnkNIvqmzwKBgQDWP+UYO9/6j8xhk3MJolESXFxxys/Hjlm8\\nJvTL3lg9t2j8i6su6QpvC18gxuVRxR/9TFUQU3zJkMQpbb98iCi9BJM4P39myoaT\\nk+G3GZCgxw9p2AchKMvKy0E8br/bRYNfuVJlKxFkde2Zw1ZUkVJdbopjlasYDfTI\\nGNwGvwOrZwKBgEEqtmrWbwj5hxYQ2YmiTlQRY6iZDaegqghACUNzhmwGt8HqRdAC\\n2cKAybvaanfUDL09CMCQFKO9zOf6YsB2c+NK+FsHLKDEDVu952pP+fYqfrpv/bks\\nJ/dZRrYPKynBTjx04RqagcY4Tscw1yXbmrdAgNV0wL4eMrEU6p4QWhh5AoGAfCpJ\\nffLtSkveGcqXR8UPEQH//V6ZbkBcVwOIqUHxh8rsiDf1fFlIV7SSa+945RvF/0km\\nnzCTSEmitZPJ/sT2Px0QqO97yTmkJpD0peWmANd8Yk31S81V1fBXnUtd2xj9GxPO\\n4ZzFFqCVk6A2Pwp9XnJ6t1386xLjgreNhEddPA8CgYEAuNXEAl4qlzTrkJnlgRQT\\nFXOF2LWgRHW5bV78qvTwygfQUpRA5TLMVyTV3PjBv9rppO6xS9KV5MGoBJwO30gZ\\nu417uYZ41BKGGglEFg6hhklZjwErMjhFHYzsldm872NHeLeiYqkHEEiKoHa0R6OY\\nVtIrxZNBb836AgBwVE2zo4c=\\n-----END PRIVATE KEY-----\\n\",\"clientEmail\":\"firebase-adminsdk-kc2m1@agrilens-web.iam.gserviceaccount.com\",\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}},\"databaseURL\":\"https://agrilens-web.firebaseio.com\",\"storageBucket\":\"agrilens-web.firebasestorage.app\"}"}}
[debug] [2024-11-12T06:36:24.071Z] [runtime-status] [65543] Functions runtime initialized. {"cwd":"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions","node_version":"18.20.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] Functions runtime initialized. {\"cwd\":\"/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions\",\"node_version\":\"18.20.4\"}"}}
[debug] [2024-11-12T06:36:24.071Z] [runtime-status] [65543] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_56f7a3f2a07a5a85.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[runtime-status] [65543] Listening to port: /var/folders/cb/82j5nt391f77gc2h_pmvxcr80000gn/T/fire_emu_56f7a3f2a07a5a85.sock"}}
[debug] [2024-11-12T06:36:24.118Z] [worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: IDLE"}}
[debug] [2024-11-12T06:36:24.118Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:36:24.118Z] [worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: BUSY"}}
[debug] [2024-11-12T06:36:24.120Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 2.286ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 2.286ms"}}
[debug] [2024-11-12T06:36:24.120Z] [worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: IDLE"}}
[debug] [2024-11-12T06:36:24.121Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:36:24.121Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:36:24.121Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:36:24.124Z] [work-queue] {"queuedWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T06:36:24.124Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:36:24.125Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/agrilens-web/us-central1/app/analyze-2024-11-12T06:36:24.124Z"],"workRunningCount":1}
[debug] [2024-11-12T06:36:24.125Z] Accepted request POST /agrilens-web/us-central1/app/analyze --> us-central1-app
[debug] [2024-11-12T06:36:24.126Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-11-12T06:36:24.126Z] [functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/agrilens-web/us-central1/app/analyze, mapping to path=/analyze"}}
[debug] [2024-11-12T06:36:24.126Z] [worker-pool] submitRequest(triggerId=us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-app)"}}
[info] i  functions: Beginning execution of "us-central1-app" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Beginning execution of \"us-central1-app\""}}
[debug] [2024-11-12T06:36:24.126Z] [worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: BUSY"}}
[info] >  analyze called {"user":"analyze called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m analyze called"}}
[info] >  Received userID: OQ79MAoXE9SMin2WhUzNV5vyTm73 {"user":"Received userID: OQ79MAoXE9SMin2WhUzNV5vyTm73","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Received userID: OQ79MAoXE9SMin2WhUzNV5vyTm73"}}
[info] >  Processing file {"user":"Processing file","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processing file"}}
[info] >  Processed non-image field insights[]: pestDiagnosis. {"user":"Processed non-image field insights[]: pestDiagnosis.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Processed non-image field insights[]: pestDiagnosis."}}
[info] >  File [image] Finished. Size: 287565 bytes {"user":"File [image] Finished. Size: 287565 bytes","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m File [image] Finished. Size: 287565 bytes"}}
[info] >  requestedInsights:  [ 'pestDiagnosis' ] {"user":"requestedInsights:  [ 'pestDiagnosis' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m requestedInsights:  [ 'pestDiagnosis' ]"}}
[info] >  >>> uploadImageToFirebase() called {"user":">>> uploadImageToFirebase() called","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> uploadImageToFirebase() called"}}
[info] >  >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct {"user":">>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. Qwen/Qwen2-VL-72B-Instruct"}}
[info] >  >>> getAalyzes() called. mistralai/Pixtral-12B-2409 {"user":">>> getAalyzes() called. mistralai/Pixtral-12B-2409","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> getAalyzes() called. mistralai/Pixtral-12B-2409"}}
[warn] ⚠  Google API requested!
   - URL: "https://www.googleapis.com/oauth2/v4/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://www.googleapis.com/oauth2/v4/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731393384136.jpg&uploadType=resumable"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731393384136.jpg&uploadType=resumable\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731393384136.jpg&uploadType=resumable&upload_id=AHmUCY3oM9VX6hicE7ZH2KD_H6EWzV6UJgG8sRWfrEMptXK0Jvtk_vm1PdkWutpD5tZ-7pqK-Jn5rNAofULGEYHULt-LPKE3N54Y7_yzaQuluryYAQ"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/upload/storage/v1/b/agrilens-web.firebasestorage.app/o?name=scanned-images%2Fplant_image_1731393384136.jpg&uploadType=resumable&upload_id=AHmUCY3oM9VX6hicE7ZH2KD_H6EWzV6UJgG8sRWfrEMptXK0Jvtk_vm1PdkWutpD5tZ-7pqK-Jn5rNAofULGEYHULt-LPKE3N54Y7_yzaQuluryYAQ\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731393384136.jpg/acl?"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Google API requested!\n   - URL: \"https://storage.googleapis.com/storage/v1/b/agrilens-web.firebasestorage.app/o/scanned-images%2Fplant_image_1731393384136.jpg/acl?\"\n   - Be careful, this may be a production service."}}
[info] >  >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731393384136 {"user":">>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731393384136","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>>> 100. ImageUrl entry added successfully to customer's db! docId:  1731393384136"}}
[info] >  Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731393384136.jpg {"user":"Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731393384136.jpg","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m Image uploaded to Firebase Storage: https://storage.googleapis.com/agrilens-web.firebasestorage.app/scanned-images%2Fplant_image_1731393384136.jpg"}}
[info] >  >>> qwenResult added. {"user":">>> qwenResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> qwenResult added."}}
[info] >  >>> llamaResult added. {"user":">>> llamaResult added.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"\u001b[90m> \u001b[39m >>> llamaResult added."}}
[debug] [2024-11-12T06:36:30.111Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-app" in 5985.3817500000005ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finished \"us-central1-app\" in 5985.3817500000005ms"}}
[debug] [2024-11-12T06:36:30.112Z] [worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: IDLE"}}
[debug] [2024-11-12T06:36:30.112Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-11-12T06:36:30.112Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-11-12T06:36:30.112Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-11-12T06:36:40.478Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:36:41.482Z] Validating nodejs source
[debug] [2024-11-12T06:36:42.189Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:36:42.189Z] Building nodejs source
[debug] [2024-11-12T06:36:42.189Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:36:42.191Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:36:42.193Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8811

[debug] [2024-11-12T06:36:42.610Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:36:42.616Z] [worker-pool] Shutting down IDLE worker (us-central1-app) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-app)"}}
[debug] [2024-11-12T06:36:42.616Z] [worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: FINISHING"}}
[debug] [2024-11-12T06:36:42.625Z] [worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: exited"}}
[debug] [2024-11-12T06:36:42.625Z] [worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-app"},"extension":{},"message":"[worker-us-central1-app-6c33d08d-f700-4958-a5c4-0b646076d296]: FINISHED"}}
[debug] [2024-11-12T06:36:53.902Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:36:54.906Z] Validating nodejs source
[debug] [2024-11-12T06:36:55.405Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:36:55.405Z] Building nodejs source
[debug] [2024-11-12T06:36:55.405Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:36:55.407Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:36:55.408Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8040

[debug] [2024-11-12T06:36:55.835Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:36:57.123Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:36:58.126Z] Validating nodejs source
[debug] [2024-11-12T06:36:58.617Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:36:58.617Z] Building nodejs source
[debug] [2024-11-12T06:36:58.617Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:36:58.618Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:36:58.619Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8386

[debug] [2024-11-12T06:36:59.109Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:36:59.934Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[debug] [2024-11-12T06:37:00.938Z] Validating nodejs source
[debug] [2024-11-12T06:37:01.568Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:37:01.568Z] Building nodejs source
[debug] [2024-11-12T06:37:01.568Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:37:01.570Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:37:01.571Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8765

[debug] [2024-11-12T06:37:01.971Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:37:13.669Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:37:14.673Z] Validating nodejs source
[debug] [2024-11-12T06:37:15.279Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:37:15.279Z] Building nodejs source
[debug] [2024-11-12T06:37:15.279Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:37:15.281Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:37:15.281Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8774

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js:3
const uploadImageToFirebase = async (userID, scanId, fileBuffer, fileName, scanId) => {
                                                                           ^^^^^^

SyntaxError: Duplicate parameter name not allowed in this context
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:12:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T06:37:15.699Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Duplicate parameter name not allowed in this context
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T06:37:16.701Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:37:17.704Z] Validating nodejs source
[debug] [2024-11-12T06:37:18.111Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:37:18.111Z] Building nodejs source
[debug] [2024-11-12T06:37:18.111Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:37:18.112Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:37:18.112Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8635

[debug] [2024-11-12T06:37:18.521Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:37:30.634Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:37:31.638Z] Validating nodejs source
[debug] [2024-11-12T06:37:32.171Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:37:32.171Z] Building nodejs source
[debug] [2024-11-12T06:37:32.172Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:37:32.173Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:37:32.174Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8524

[error] /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js:28
          const customerId = userID ? "OQ79MAoXE9SMin2WhUzNV5vyTm73";
                                                                    ^

SyntaxError: Unexpected token ';'
    at internalCompileFunction (node:internal/vm:76:18)
    at wrapSafe (node:internal/modules/cjs/loader:1283:20)
    at Module._compile (node:internal/modules/cjs/loader:1328:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js:12:31)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)

[debug] [2024-11-12T06:37:32.731Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ';'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-11-12T06:37:33.383Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:37:34.384Z] Validating nodejs source
[debug] [2024-11-12T06:37:34.826Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:37:34.826Z] Building nodejs source
[debug] [2024-11-12T06:37:34.826Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:37:34.826Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:37:34.827Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8900

[debug] [2024-11-12T06:37:35.193Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:38:25.119Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/methods/uploadImageToFirebase.js changed, reloading triggers"}}
[debug] [2024-11-12T06:38:26.124Z] Validating nodejs source
[debug] [2024-11-12T06:38:26.660Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:38:26.661Z] Building nodejs source
[debug] [2024-11-12T06:38:26.661Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:38:26.676Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:38:26.678Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[debug] [2024-11-12T06:38:26.876Z] File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/index.js changed, reloading triggers"}}
[info] Serving at port 8211

[debug] [2024-11-12T06:38:27.242Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
[debug] [2024-11-12T06:38:27.878Z] Validating nodejs source
[debug] [2024-11-12T06:38:28.245Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.7.7",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.21.1",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.1.0",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-11-12T06:38:28.245Z] Building nodejs source
[debug] [2024-11-12T06:38:28.246Z] Failed to find version of module node: reached end of search path /Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-11-12T06:38:28.246Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-12T06:38:28.247Z] Found firebase-functions binary at '/Users/jyassien/Desktop/fall24code/cs4360/agrilens/agrilens-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8338

[debug] [2024-11-12T06:38:28.486Z] Got response from /__/functions.yaml {"endpoints":{"app":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: app. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: app."}}
